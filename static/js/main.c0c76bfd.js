/*! For license information please see main.c0c76bfd.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),s=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),p=Symbol.for("react.consumer"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var S=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var k=Symbol.for("react.memo_cache_sentinel"),E=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=E&&e[E]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function C(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case h:return"Fragment";case u:return"Portal";case f:return"Profiler";case d:return"StrictMode";case v:return"Suspense";case b:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case g:return(e.displayName||"Context")+".Provider";case p:return(e._context.displayName||"Context")+".Consumer";case y:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case w:return null!==(t=e.displayName||null)?t:C(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return C(e(t))}catch(oi){}}return null}var I,_,j=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=Object.assign;function D(e){if(void 0===I)try{throw Error()}catch(oi){var t=oi.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||"",_=-1<oi.stack.indexOf("\n    at")?" (<anonymous>)":-1<oi.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+I+e+_}var L=!1;function P(e,t){if(!e||L)return"";L=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(oi){var r=oi}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{L=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?D(n):""}function R(e){switch(e.tag){case 26:case 27:case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return e=P(e.type,!1);case 11:return e=P(e.type.render,!1);case 1:return e=P(e.type,!0);default:return""}}function O(e){try{var t="";do{t+=R(e),e=e.return}while(e);return t}catch(oi){return"\nError generating stack: "+oi.message+"\n"+oi.stack}}function M(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function F(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function z(e){if(M(e)!==e)throw Error(a(188))}function V(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=V(e)))return t;e=e.sibling}return null}var U=Array.isArray,B=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},q=[],H=-1;function K(e){return{current:e}}function W(e){0>H||(e.current=q[H],q[H]=null,H--)}function G(e,t){H++,q[H]=e.current,e.current=t}var Q=K(null),Y=K(null),J=K(null),X=K(null);function Z(e,t){switch(G(J,t),G(Y,e),G(Q,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Ju(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Xu(e=Ju(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(Q),G(Q,t)}function ee(){W(Q),W(Y),W(J)}function te(e){null!==e.memoizedState&&G(X,e);var t=Q.current,n=Xu(t,e.type);t!==n&&(G(Y,e),G(Q,n))}function ne(e){Y.current===e&&(W(Q),W(Y)),X.current===e&&(W(X),Mh._currentValue=$)}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,ae=r.unstable_shouldYield,oe=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,he=r.unstable_UserBlockingPriority,de=r.unstable_NormalPriority,fe=r.unstable_LowPriority,me=r.unstable_IdlePriority,pe=r.log,ge=r.unstable_setDisableYieldValue,ye=null,ve=null;function be(e){if("function"===typeof pe&&ge(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(xe(e)/Se|0)|0},xe=Math.log,Se=Math.LN2;var ke=128,Ee=4194304;function Ne(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=e.warmLanes;e=0!==e.finishedLanes;var o=134217727&n;return 0!==o?0!==(n=o&~i)?r=Ne(n):0!==(s&=o)?r=Ne(s):e||0!==(a=o&~a)&&(r=Ne(a)):0!==(o=n&~i)?r=Ne(o):0!==s?r=Ne(s):e||0!==(a=n&~a)&&(r=Ne(a)),0===r?0:0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||32===i&&0!==(4194176&a))?t:r}function Ce(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ie(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function _e(){var e=ke;return 0===(4194176&(ke<<=1))&&(ke=128),e}function je(){var e=Ee;return 0===(62914560&(Ee<<=1))&&(Ee=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function De(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Le(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function Pe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Re(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Oe(){var e=B.p;return 0!==e?e:void 0===(e=window.event)?32:Xh(e.type)}var Me=Math.random().toString(36).slice(2),Fe="__reactFiber$"+Me,ze="__reactProps$"+Me,Ve="__reactContainer$"+Me,Ue="__reactEvents$"+Me,Be="__reactListeners$"+Me,$e="__reactHandles$"+Me,qe="__reactResources$"+Me,He="__reactMarker$"+Me;function Ke(e){delete e[Fe],delete e[ze],delete e[Ue],delete e[Be],delete e[$e]}function We(e){var t=e[Fe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ve]||n[Fe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ch(e);null!==e;){if(n=e[Fe])return n;e=ch(e)}return t}n=(e=n).parentNode}return null}function Ge(e){if(e=e[Fe]||e[Ve]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Ye(e){var t=e[qe];return t||(t=e[qe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Je(e){e[He]=!0}var Xe=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Xe.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},st={};function at(e,t,n){if(i=t,re.call(st,i)||!re.call(it,i)&&(rt.test(i)?st[i]=!0:(it[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ot(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function lt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function pt(e){return e.replace(mt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,i,s,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?vt(e,a,ct(t)):null!=n?vt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function yt(e,t,n,r,i,s,a,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(U(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Nt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Et(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&Et(e,s,t[s])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _t(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var jt=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Lt=null;function Pt(e){var t=Ge(e);if(t&&(e=t.stateNode)){var n=e[ze]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[ze]||null;if(!i)throw Error(a(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&dt(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Rt=!1;function Ot(e,t,n){if(Rt)return e(t,n);Rt=!0;try{return e(t)}finally{if(Rt=!1,(null!==Dt||null!==Lt)&&(zc(),Dt&&(t=Dt,e=Lt,Lt=Dt=null,Pt(t),e)))for(t=0;t<e.length;t++)Pt(e[t])}}function Mt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[ze]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ft=!1;if(nt)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(Sd){Ft=!1}var Vt=null,Ut=null,Bt=null;function $t(){if(Bt)return Bt;var e,t,n=Ut,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Bt=i.slice(e,1<t?1-t:void 0)}function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Ht(){return!0}function Kt(){return!1}function Wt(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Ht:Kt,this.isPropagationStopped=Kt,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Ht)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Ht)},persist:function(){},isPersistent:Ht}),t}var Gt,Qt,Yt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xt=Wt(Jt),Zt=A({},Jt,{view:0,detail:0}),en=Wt(Zt),tn=A({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&"mousemove"===e.type?(Gt=e.screenX-Yt.screenX,Qt=e.screenY-Yt.screenY):Qt=Gt=0,Yt=e),Gt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),nn=Wt(tn),rn=Wt(A({},tn,{dataTransfer:0})),sn=Wt(A({},Zt,{relatedTarget:0})),an=Wt(A({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),on=Wt(A({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=Wt(A({},Jt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function fn(){return dn}var mn=Wt(A({},Zt,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),pn=Wt(A({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Wt(A({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),yn=Wt(A({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),vn=Wt(A({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Wt(A({},Jt,{newState:0,oldState:0})),wn=[9,13,27,32],xn=nt&&"CompositionEvent"in window,Sn=null;nt&&"documentMode"in document&&(Sn=document.documentMode);var kn=nt&&"TextEvent"in window&&!Sn,En=nt&&(!xn||Sn&&8<Sn&&11>=Sn),Nn=String.fromCharCode(32),Tn=!1;function Cn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function In(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var _n=!1;var jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jn[e.type]:"textarea"===t}function Dn(e,t,n,r){Dt?Lt?Lt.push(r):Lt=[r]:Dt=r,0<(t=Mu(t,"onChange")).length&&(n=new Xt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ln=null,Pn=null;function Rn(e){_u(e,0)}function On(e){if(dt(Qe(e)))return e}function Mn(e,t){if("change"===e)return t}var Fn=!1;if(nt){var zn;if(nt){var Vn="oninput"in document;if(!Vn){var Un=document.createElement("div");Un.setAttribute("oninput","return;"),Vn="function"===typeof Un.oninput}zn=Vn}else zn=!1;Fn=zn&&(!document.documentMode||9<document.documentMode)}function Bn(){Ln&&(Ln.detachEvent("onpropertychange",$n),Pn=Ln=null)}function $n(e){if("value"===e.propertyName&&On(Pn)){var t=[];Dn(t,Pn,e,At(e)),Ot(Rn,t)}}function qn(e,t,n){"focusin"===e?(Bn(),Pn=n,(Ln=t).attachEvent("onpropertychange",$n)):"focusout"===e&&Bn()}function Hn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return On(Pn)}function Kn(e,t){if("click"===e)return On(t)}function Wn(e,t){if("input"===e||"change"===e)return On(t)}var Gn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Qn(e,t){if(Gn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Gn(e[i],t[i]))return!1}return!0}function Yn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Yn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yn(r)}}function Xn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zn(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function tr(e,t){var n=Zn(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Xn(t.ownerDocument.documentElement,t)){if(null!==r&&er(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=Jn(t,s);var a=Jn(t,r);i&&a&&(1!==n.rangeCount||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=nt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,sr=null,ar=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Qn(sr,r)||(sr=r,0<(r=Mu(ir,"onSelect")).length&&(t=new Xt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},hr={};function dr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return ur[e]=n[t];return e}nt&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=dr("animationend"),mr=dr("animationiteration"),pr=dr("animationstart"),gr=dr("transitionrun"),yr=dr("transitionstart"),vr=dr("transitioncancel"),br=dr("transitionend"),wr=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Sr(e,t){wr.set(e,t),et(t,[e])}var kr=[],Er=0,Nr=0;function Tr(){for(var e=Er,t=Nr=Er=0;t<e;){var n=kr[t];kr[t++]=null;var r=kr[t];kr[t++]=null;var i=kr[t];kr[t++]=null;var s=kr[t];if(kr[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==s&&jr(n,i,s)}}function Cr(e,t,n,r){kr[Er++]=e,kr[Er++]=t,kr[Er++]=n,kr[Er++]=r,Nr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ir(e,t,n,r){return Cr(e,t,n,r),Ar(e)}function _r(e,t){return Cr(e,null,null,t),Ar(e)}function jr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;i&&null!==t&&3===e.tag&&(s=e.stateNode,i=31-we(n),null===(e=(s=s.hiddenUpdates)[i])?s[i]=[t]:e.push(t),t.lane=536870912|n)}function Ar(e){if(50<_c)throw _c=0,jc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={},Lr=new WeakMap;function Pr(e,t){if("object"===typeof e&&null!==e){var n=Lr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:O(t)},Lr.set(e,t),t)}return{value:e,source:t,stack:O(t)}}var Rr=[],Or=0,Mr=null,Fr=0,zr=[],Vr=0,Ur=null,Br=1,$r="";function qr(e,t){Rr[Or++]=Fr,Rr[Or++]=Mr,Mr=e,Fr=t}function Hr(e,t,n){zr[Vr++]=Br,zr[Vr++]=$r,zr[Vr++]=Ur,Ur=e;var r=Br;e=$r;var i=32-we(r)-1;r&=~(1<<i),n+=1;var s=32-we(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Br=1<<32-we(t)+i|n<<i|r,$r=s+e}else Br=1<<s|n<<i|r,$r=e}function Kr(e){null!==e.return&&(qr(e,1),Hr(e,1,0))}function Wr(e){for(;e===Mr;)Mr=Rr[--Or],Rr[Or]=null,Fr=Rr[--Or],Rr[Or]=null;for(;e===Ur;)Ur=zr[--Vr],zr[Vr]=null,$r=zr[--Vr],zr[Vr]=null,Br=zr[--Vr],zr[Vr]=null}var Gr=null,Qr=null,Yr=!1,Jr=null,Xr=!1,Zr=Error(a(519));function ei(e){throw si(Pr(Error(a(418,"")),e)),Zr}function ti(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Fe]=e,t[ze]=r,n){case"dialog":ju("cancel",t),ju("close",t);break;case"iframe":case"object":case"embed":ju("load",t);break;case"video":case"audio":for(n=0;n<Cu.length;n++)ju(Cu[n],t);break;case"source":ju("error",t);break;case"img":case"image":case"link":ju("error",t),ju("load",t);break;case"details":ju("toggle",t);break;case"input":ju("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ht(t);break;case"select":ju("invalid",t);break;case"textarea":ju("invalid",t),xt(t,r.value,r.defaultValue,r.children),ht(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||$u(t.textContent,n)?(null!=r.popover&&(ju("beforetoggle",t),ju("toggle",t)),null!=r.onScroll&&ju("scroll",t),null!=r.onScrollEnd&&ju("scrollend",t),null!=r.onClick&&(t.onclick=qu),t=!0):t=!1,t||ei(e)}function ni(e){for(Gr=e.return;Gr;)switch(Gr.tag){case 3:case 27:return void(Xr=!0);case 5:case 13:return void(Xr=!1);default:Gr=Gr.return}}function ri(e){if(e!==Gr)return!1;if(!Yr)return ni(e),Yr=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Zu(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Qr&&ei(e),ni(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Qr=lh(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Qr=null}}else Qr=Gr?lh(e.stateNode.nextSibling):null;return!0}function ii(){Qr=Gr=null,Yr=!1}function si(e){null===Jr?Jr=[e]:Jr.push(e)}var ai=Error(a(460)),li=Error(a(474)),ci={then:function(){}};function ui(e){return"fulfilled"===(e=e.status)||"rejected"===e}function hi(){}function di(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(hi,hi),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ai)throw Error(a(483));throw e;default:if("string"===typeof t.status)t.then(hi,hi);else{if(null!==(e=nc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ai)throw Error(a(483));throw e}throw fi=t,ai}}var fi=null;function mi(){if(null===fi)throw Error(a(459));var e=fi;return fi=null,e}var pi=null,gi=0;function yi(e){var t=gi;return gi+=1,null===pi&&(pi=[]),di(pi,e,t)}function vi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function bi(e,t){if(t.$$typeof===l)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wi(e){return(0,e._init)(e._payload)}function xi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fl(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=$l(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n,r){var s=n.type;return s===h?m(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===x&&wi(s)===t.type)?(vi(t=i(t,n.props),n),t.return=e,t):(vi(t=Vl(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ql(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function m(e,t,n,r,s){return null===t||7!==t.tag?((t=Ul(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=$l(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return vi(n=Vl(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case u:return(t=ql(t,e.mode,n)).return=e,t;case x:return p(e,t=(0,t._init)(t._payload),n)}if(U(t)||N(t))return(t=Ul(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return p(e,yi(t),n);if(t.$$typeof===g)return p(e,Co(e,t),n);bi(e,t)}return null}function y(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===i?d(e,t,n,r):null;case u:return n.key===i?f(e,t,n,r):null;case x:return y(e,t,n=(i=n._init)(n._payload),r)}if(U(n)||N(n))return null!==i?null:m(e,t,n,r,null);if("function"===typeof n.then)return y(e,t,yi(n),r);if(n.$$typeof===g)return y(e,t,Co(e,n),r);bi(e,n)}return null}function v(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case c:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case u:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return v(e,t,n,r=(0,r._init)(r._payload),i)}if(U(r)||N(r))return m(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return v(e,t,n,yi(r),i);if(r.$$typeof===g)return v(e,t,n,Co(t,r),i);bi(t,r)}return null}function b(l,d,f,m){if("object"===typeof f&&null!==f&&f.type===h&&null===f.key&&(f=f.props.children),"object"===typeof f&&null!==f){switch(f.$$typeof){case c:e:{for(var w=f.key;null!==d;){if(d.key===w){if((w=f.type)===h){if(7===d.tag){n(l,d.sibling),(m=i(d,f.props.children)).return=l,l=m;break e}}else if(d.elementType===w||"object"===typeof w&&null!==w&&w.$$typeof===x&&wi(w)===d.type){n(l,d.sibling),vi(m=i(d,f.props),f),m.return=l,l=m;break e}n(l,d);break}t(l,d),d=d.sibling}f.type===h?((m=Ul(f.props.children,l.mode,m,f.key)).return=l,l=m):(vi(m=Vl(f.type,f.key,f.props,null,l.mode,m),f),m.return=l,l=m)}return o(l);case u:e:{for(w=f.key;null!==d;){if(d.key===w){if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){n(l,d.sibling),(m=i(d,f.children||[])).return=l,l=m;break e}n(l,d);break}t(l,d),d=d.sibling}(m=ql(f,l.mode,m)).return=l,l=m}return o(l);case x:return b(l,d,f=(w=f._init)(f._payload),m)}if(U(f))return function(i,a,o,l){for(var c=null,u=null,h=a,d=a=0,f=null;null!==h&&d<o.length;d++){h.index>d?(f=h,h=null):f=h.sibling;var m=y(i,h,o[d],l);if(null===m){null===h&&(h=f);break}e&&h&&null===m.alternate&&t(i,h),a=s(m,a,d),null===u?c=m:u.sibling=m,u=m,h=f}if(d===o.length)return n(i,h),Yr&&qr(i,d),c;if(null===h){for(;d<o.length;d++)null!==(h=p(i,o[d],l))&&(a=s(h,a,d),null===u?c=h:u.sibling=h,u=h);return Yr&&qr(i,d),c}for(h=r(h);d<o.length;d++)null!==(f=v(h,i,d,o[d],l))&&(e&&null!==f.alternate&&h.delete(null===f.key?d:f.key),a=s(f,a,d),null===u?c=f:u.sibling=f,u=f);return e&&h.forEach((function(e){return t(i,e)})),Yr&&qr(i,d),c}(l,d,f,m);if(N(f)){if("function"!==typeof(w=N(f)))throw Error(a(150));return function(i,o,l,c){if(null==l)throw Error(a(151));for(var u=null,h=null,d=o,f=o=0,m=null,g=l.next();null!==d&&!g.done;f++,g=l.next()){d.index>f?(m=d,d=null):m=d.sibling;var b=y(i,d,g.value,c);if(null===b){null===d&&(d=m);break}e&&d&&null===b.alternate&&t(i,d),o=s(b,o,f),null===h?u=b:h.sibling=b,h=b,d=m}if(g.done)return n(i,d),Yr&&qr(i,f),u;if(null===d){for(;!g.done;f++,g=l.next())null!==(g=p(i,g.value,c))&&(o=s(g,o,f),null===h?u=g:h.sibling=g,h=g);return Yr&&qr(i,f),u}for(d=r(d);!g.done;f++,g=l.next())null!==(g=v(d,i,f,g.value,c))&&(e&&null!==g.alternate&&d.delete(null===g.key?f:g.key),o=s(g,o,f),null===h?u=g:h.sibling=g,h=g);return e&&d.forEach((function(e){return t(i,e)})),Yr&&qr(i,f),u}(l,d,f=w.call(f),m)}if("function"===typeof f.then)return b(l,d,yi(f),m);if(f.$$typeof===g)return b(l,d,Co(l,f),m);bi(l,f)}return"string"===typeof f&&""!==f||"number"===typeof f||"bigint"===typeof f?(f=""+f,null!==d&&6===d.tag?(n(l,d.sibling),(m=i(d,f)).return=l,l=m):(n(l,d),(m=$l(f,l.mode,m)).return=l,l=m),o(l)):n(l,d)}return function(e,t,n,r){try{gi=0;var i=b(e,t,n,r);return pi=null,i}catch(oi){if(oi===ai)throw oi;var s=Ol(29,oi,null,e.mode);return s.lanes=r,s.return=e,s}}}var Si=xi(!0),ki=xi(!1),Ei=K(null),Ni=K(0);function Ti(e,t){G(Ni,e=uc),G(Ei,t),uc=e|t.baseLanes}function Ci(){G(Ni,uc),G(Ei,Ei.current)}function Ii(){uc=Ni.current,W(Ei),W(Ni)}var _i=K(null),ji=null;function Ai(e){var t=e.alternate;G(Ri,1&Ri.current),G(_i,e),null===ji&&(null===t||null!==Ei.current||null!==t.memoizedState)&&(ji=e)}function Di(e){if(22===e.tag){if(G(Ri,Ri.current),G(_i,e),null===ji){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ji=e)}}else Li()}function Li(){G(Ri,Ri.current),G(_i,_i.current)}function Pi(e){W(_i),ji===e&&(ji=null),W(Ri)}var Ri=K(0);function Oi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mi="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Fi=r.unstable_scheduleCallback,zi=r.unstable_NormalPriority,Vi={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ui(){return{controller:new Mi,data:new Map,refCount:0}}function Bi(e){e.refCount--,0===e.refCount&&Fi(zi,(function(){e.controller.abort()}))}var $i=null,qi=0,Hi=0,Ki=null;function Wi(){if(0===--qi&&null!==$i){null!==Ki&&(Ki.status="fulfilled");var e=$i;$i=null,Hi=0,Ki=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Gi=j.S;j.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===$i){var n=$i=[];qi=0,Hi=Su(),Ki={status:"pending",value:void 0,then:function(e){n.push(e)}}}qi++,t.then(Wi,Wi)}(0,t),null!==Gi&&Gi(e,t)};var Qi=K(null);function Yi(){var e=Qi.current;return null!==e?e:nc.pooledCache}function Ji(e,t){G(Qi,null===t?Qi.current:t.pool)}function Xi(){var e=Yi();return null===e?null:{parent:Vi._currentValue,pool:e}}var Zi=0,es=null,ts=null,ns=null,rs=!1,is=!1,ss=!1,as=0,os=0,ls=null,cs=0;function us(){throw Error(a(321))}function hs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gn(e[n],t[n]))return!1;return!0}function ds(e,t,n,r,i,s){return Zi=s,es=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=null===e||null===e.memoizedState?Ta:Ca,ss=!1,s=n(r,i),ss=!1,is&&(s=ms(t,n,r,i)),fs(e),s}function fs(e){j.H=Na;var t=null!==ts&&null!==ts.next;if(Zi=0,ns=ts=es=null,rs=!1,os=0,ls=null,t)throw Error(a(300));null===e||qa||null!==(e=e.dependencies)&&Eo(e)&&(qa=!0)}function ms(e,t,n,r){es=e;var i=0;do{if(is&&(ls=null),os=0,is=!1,25<=i)throw Error(a(301));if(i+=1,ns=ts=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}j.H=Ia,s=t(n,r)}while(is);return s}function ps(){var e=j.H,t=e.useState()[0];return t="function"===typeof t.then?xs(t):t,e=e.useState()[0],(null!==ts?ts.memoizedState:null)!==e&&(es.flags|=1024),t}function gs(){var e=0!==as;return as=0,e}function ys(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function vs(e){if(rs){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}rs=!1}Zi=0,ns=ts=es=null,is=!1,os=as=0,ls=null}function bs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ns?es.memoizedState=ns=e:ns=ns.next=e,ns}function ws(){if(null===ts){var e=es.alternate;e=null!==e?e.memoizedState:null}else e=ts.next;var t=null===ns?es.memoizedState:ns.next;if(null!==t)ns=t,ts=e;else{if(null===e){if(null===es.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(ts=e).memoizedState,baseState:ts.baseState,baseQueue:ts.baseQueue,queue:ts.queue,next:null},null===ns?es.memoizedState=ns=e:ns=ns.next=e}return ns}function xs(e){var t=os;return os+=1,null===ls&&(ls=[]),e=di(ls,e,t),t=es,null===(null===ns?t.memoizedState:ns.next)&&(t=t.alternate,j.H=null===t||null===t.memoizedState?Ta:Ca),e}function Ss(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return xs(e);if(e.$$typeof===g)return To(e)}throw Error(a(438,String(e)))}function ks(e){var t=null,n=es.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=es.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},es.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=k;return t.index++,n}function Es(e,t){return"function"===typeof t?t(e):t}function Ns(e){return Ts(ws(),ts,e)}function Ts(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=o=null,c=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(ic&d)===d:(Zi&d)===d){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Hi&&(h=!0);else{if((Zi&f)===f){u=u.next,f===Hi&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,o=s):c=c.next=d,es.lanes|=f,dc|=f}d=u.action,ss&&n(s,d),s=u.hasEagerState?u.eagerState:n(s,d)}else f={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=s):c=c.next=f,es.lanes|=d,dc|=d;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Gn(s,e.memoizedState)&&(qa=!0,h&&null!==(n=Ki)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Cs(e){var t=ws(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Gn(s,t.memoizedState)||(qa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Is(e,t,n){var r=es,i=ws(),s=Yr;if(s){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Gn((ts||i).memoizedState,n);if(o&&(i.memoizedState=n,qa=!0),i=i.queue,Zs(As.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==ns&&1&ns.memoizedState.tag){if(r.flags|=2048,Gs(9,js.bind(null,r,i,n,t),{destroy:void 0},null),null===nc)throw Error(a(349));s||0!==(60&Zi)||_s(r,t,n)}return n}function _s(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=es.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},es.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function js(e,t,n,r){t.value=n,t.getSnapshot=r,Ds(t)&&Ls(e)}function As(e,t,n){return n((function(){Ds(t)&&Ls(e)}))}function Ds(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gn(e,n)}catch(r){return!0}}function Ls(e){var t=_r(e,2);null!==t&&Lc(t,e,2)}function Ps(e){var t=bs();if("function"===typeof e){var n=e;if(e=n(),ss){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:e},t}function Rs(e,t,n,r){return e.baseState=n,Ts(e,ts,"function"===typeof r?r:Es)}function Os(e,t,n,r,i){if(Sa(e))throw Error(a(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==j.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,Ms(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Ms(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=j.T,a={};j.T=a;try{var o=n(i,r),l=j.S;null!==l&&l(a,o),Fs(e,t,o)}catch(c){Vs(e,t,c)}finally{j.T=s}}else try{Fs(e,t,s=n(i,r))}catch(u){Vs(e,t,u)}}function Fs(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){zs(e,t,n)}),(function(n){return Vs(e,t,n)})):zs(e,t,n)}function zs(e,t,n){t.status="fulfilled",t.value=n,Us(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ms(e,n)))}function Vs(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Us(t),t=t.next}while(t!==r)}e.action=null}function Us(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Bs(e,t){return t}function $s(e,t){if(Yr){var n=nc.formState;if(null!==n){e:{var r=es;if(Yr){if(Qr){t:{for(var i=Qr,s=Xr;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=lh(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){Qr=lh(i.nextSibling),r="F!"===i.data;break e}}ei(r)}r=!1}r&&(t=n[0])}}return(n=bs()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:t},n.queue=r,n=ba.bind(null,es,r),r.dispatch=n,r=Ps(!1),s=xa.bind(null,es,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=bs()).queue=i,n=Os.bind(null,es,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function qs(e){return Hs(ws(),ts,e)}function Hs(e,t,n){t=Ts(e,t,Bs)[0],e=Ns(Es)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?xs(t):t;var r=ws(),i=r.queue,s=i.dispatch;return n!==r.memoizedState&&(es.flags|=2048,Gs(9,Ks.bind(null,i,n),{destroy:void 0},null)),[t,s,e]}function Ks(e,t){e.action=t}function Ws(e){var t=ws(),n=ts;if(null!==n)return Hs(t,n,e);ws(),t=t.memoizedState;var r=(n=ws()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Gs(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=es.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},es.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Qs(){return ws().memoizedState}function Ys(e,t,n,r){var i=bs();es.flags|=e,i.memoizedState=Gs(1|t,n,{destroy:void 0},void 0===r?null:r)}function Js(e,t,n,r){var i=ws();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==ts&&null!==r&&hs(r,ts.memoizedState.deps)?i.memoizedState=Gs(t,n,s,r):(es.flags|=e,i.memoizedState=Gs(1|t,n,s,r))}function Xs(e,t){Ys(8390656,8,e,t)}function Zs(e,t){Js(2048,8,e,t)}function ea(e,t){return Js(4,2,e,t)}function ta(e,t){return Js(4,4,e,t)}function na(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ra(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Js(4,4,na.bind(null,t,e),n)}function ia(){}function sa(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&hs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function aa(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&hs(t,r[1]))return r[0];if(r=e(),ss){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function oa(e,t,n){return void 0===n||0!==(1073741824&Zi)?e.memoizedState=t:(e.memoizedState=n,e=Dc(),es.lanes|=e,dc|=e,n)}function la(e,t,n,r){return Gn(n,t)?n:null!==Ei.current?(e=oa(e,n,r),Gn(e,t)||(qa=!0),e):0===(42&Zi)?(qa=!0,e.memoizedState=n):(e=Dc(),es.lanes|=e,dc|=e,t)}function ca(e,t,n,r,i){var s=B.p;B.p=0!==s&&8>s?s:8;var a=j.T,o={};j.T=o,xa(e,!1,t,n);try{var l=i(),c=j.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)wa(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Ac());else wa(e,t,r,Ac())}catch(u){wa(e,t,{then:function(){},status:"rejected",reason:u},Ac())}finally{B.p=s,j.T=a}}function ua(){}function ha(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=da(e).queue;ca(e,i,t,$,null===n?ua:function(){return fa(e),n(r)})}function da(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:$},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function fa(e){wa(e,da(e).next.queue,{},Ac())}function ma(){return To(Mh)}function pa(){return ws().memoizedState}function ga(){return ws().memoizedState}function ya(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Ac(),r=Lo(t,e=Do(n),n);return null!==r&&(Lc(r,t,n),Po(r,t,n)),t={cache:Ui()},void(e.payload=t)}t=t.return}}function va(e,t,n){var r=Ac();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Sa(e)?ka(t,n):null!==(n=Ir(e,t,n,r))&&(Lc(n,e,r),Ea(n,t,r))}function ba(e,t,n){wa(e,t,n,Ac())}function wa(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sa(e))ka(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Gn(o,a))return Cr(e,t,i,0),null===nc&&Tr(),!1}catch(l){}if(null!==(n=Ir(e,t,i,r)))return Lc(n,e,r),Ea(n,t,r),!0}return!1}function xa(e,t,n,r){if(r={lane:2,revertLane:Su(),action:r,hasEagerState:!1,eagerState:null,next:null},Sa(e)){if(t)throw Error(a(479))}else null!==(t=Ir(e,n,r,2))&&Lc(t,e,2)}function Sa(e){var t=e.alternate;return e===es||null!==t&&t===es}function ka(e,t){is=rs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ea(e,t,n){if(0!==(4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}var Na={readContext:To,use:Ss,useCallback:us,useContext:us,useEffect:us,useImperativeHandle:us,useLayoutEffect:us,useInsertionEffect:us,useMemo:us,useReducer:us,useRef:us,useState:us,useDebugValue:us,useDeferredValue:us,useTransition:us,useSyncExternalStore:us,useId:us};Na.useCacheRefresh=us,Na.useMemoCache=us,Na.useHostTransitionStatus=us,Na.useFormState=us,Na.useActionState=us,Na.useOptimistic=us;var Ta={readContext:To,use:Ss,useCallback:function(e,t){return bs().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:Xs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ys(4194308,4,na.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ys(4194308,4,e,t)},useInsertionEffect:function(e,t){Ys(4,2,e,t)},useMemo:function(e,t){var n=bs();t=void 0===t?null:t;var r=e();if(ss){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=bs();if(void 0!==n){var i=n(t);if(ss){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=va.bind(null,es,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bs().memoizedState=e},useState:function(e){var t=(e=Ps(e)).queue,n=ba.bind(null,es,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ia,useDeferredValue:function(e,t){return oa(bs(),e,t)},useTransition:function(){var e=Ps(!1);return e=ca.bind(null,es,e.queue,!0,!1),bs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=es,i=bs();if(Yr){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===nc)throw Error(a(349));0!==(60&ic)||_s(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Xs(As.bind(null,r,s,e),[e]),r.flags|=2048,Gs(9,js.bind(null,r,s,n,t),{destroy:void 0},null),n},useId:function(){var e=bs(),t=nc.identifierPrefix;if(Yr){var n=$r;t=":"+t+"R"+(n=(Br&~(1<<32-we(Br)-1)).toString(32)+n),0<(n=as++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=cs++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return bs().memoizedState=ya.bind(null,es)}};Ta.useMemoCache=ks,Ta.useHostTransitionStatus=ma,Ta.useFormState=$s,Ta.useActionState=$s,Ta.useOptimistic=function(e){var t=bs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=xa.bind(null,es,!0,n),n.dispatch=t,[e,t]};var Ca={readContext:To,use:Ss,useCallback:sa,useContext:To,useEffect:Zs,useImperativeHandle:ra,useInsertionEffect:ea,useLayoutEffect:ta,useMemo:aa,useReducer:Ns,useRef:Qs,useState:function(){return Ns(Es)},useDebugValue:ia,useDeferredValue:function(e,t){return la(ws(),ts.memoizedState,e,t)},useTransition:function(){var e=Ns(Es)[0],t=ws().memoizedState;return["boolean"===typeof e?e:xs(e),t]},useSyncExternalStore:Is,useId:pa};Ca.useCacheRefresh=ga,Ca.useMemoCache=ks,Ca.useHostTransitionStatus=ma,Ca.useFormState=qs,Ca.useActionState=qs,Ca.useOptimistic=function(e,t){return Rs(ws(),0,e,t)};var Ia={readContext:To,use:Ss,useCallback:sa,useContext:To,useEffect:Zs,useImperativeHandle:ra,useInsertionEffect:ea,useLayoutEffect:ta,useMemo:aa,useReducer:Cs,useRef:Qs,useState:function(){return Cs(Es)},useDebugValue:ia,useDeferredValue:function(e,t){var n=ws();return null===ts?oa(n,e,t):la(n,ts.memoizedState,e,t)},useTransition:function(){var e=Cs(Es)[0],t=ws().memoizedState;return["boolean"===typeof e?e:xs(e),t]},useSyncExternalStore:Is,useId:pa};function _a(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:A({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}Ia.useCacheRefresh=ga,Ia.useMemoCache=ks,Ia.useHostTransitionStatus=ma,Ia.useFormState=Ws,Ia.useActionState=Ws,Ia.useOptimistic=function(e,t){var n=ws();return null!==ts?Rs(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var ja={isMounted:function(e){return!!(e=e._reactInternals)&&M(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ac(),i=Do(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Lo(e,i,r))&&(Lc(t,e,r),Po(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ac(),i=Do(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Lo(e,i,r))&&(Lc(t,e,r),Po(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ac(),r=Do(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Lo(e,r,n))&&(Lc(t,e,n),Po(t,e,n))}};function Aa(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!Qn(n,r)||!Qn(i,s))}function Da(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ja.enqueueReplaceState(t,t.state,null)}function La(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=A({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var Pa="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Ra(e){Pa(e)}function Oa(e){console.error(e)}function Ma(e){Pa(e)}function Fa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function za(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Va(e,t,n){return(n=Do(n)).tag=3,n.payload={element:null},n.callback=function(){Fa(e,t)},n}function Ua(e){return(e=Do(e)).tag=3,e}function Ba(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){za(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){za(t,n,r),"function"!==typeof i&&(null===kc?kc=new Set([this]):kc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var $a=Error(a(461)),qa=!1;function Ha(e,t,n,r){t.child=null===e?ki(t,null,n,r):Si(t,e.child,n,r)}function Ka(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return No(t),r=ds(e,t,n,a,s,i),o=gs(),null===e||qa?(Yr&&o&&Kr(t),t.flags|=1,Ha(e,t,r,i),t.child):(ys(e,t,i),fo(e,t,i))}function Wa(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ml(s)||void 0!==s.defaultProps||null!==n.compare?((e=Vl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ga(e,t,s,r,i))}if(s=e.child,!mo(e,i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:Qn)(a,r)&&e.ref===t.ref)return fo(e,t,i)}return t.flags|=1,(e=Fl(s,r)).ref=t.ref,e.return=t,t.child=e}function Ga(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Qn(s,r)&&e.ref===t.ref){if(qa=!1,t.pendingProps=r=s,!mo(e,i))return t.lanes=e.lanes,fo(e,t,i);0!==(131072&e.flags)&&(qa=!0)}}return Xa(e,t,n,r,i)}function Qa(e,t,n){var r=t.pendingProps,i=r.children,s=0!==(2&t.stateNode._pendingVisibility),a=null!==e?e.memoizedState:null;if(Ja(e,t),"hidden"===r.mode||s){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,s=0;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Ya(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ya(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ji(0,null!==a?a.cachePool:null),null!==a?Ti(t,a):Ci(),Di(t)}else null!==a?(Ji(0,a.cachePool),Ti(t,a),Li(),t.memoizedState=null):(null!==e&&Ji(0,null),Ci(),Li());return Ha(e,t,i,n),t.child}function Ya(e,t,n,r){var i=Yi();return i=null===i?null:{parent:Vi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Ji(0,null),Ci(),Di(t),null!==e&&ko(e,t,r,!0),null}function Ja(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function Xa(e,t,n,r,i){return No(t),n=ds(e,t,n,r,void 0,i),r=gs(),null===e||qa?(Yr&&r&&Kr(t),t.flags|=1,Ha(e,t,n,i),t.child):(ys(e,t,i),fo(e,t,i))}function Za(e,t,n,r,i,s){return No(t),t.updateQueue=null,n=ms(t,r,n,i),fs(e),r=gs(),null===e||qa?(Yr&&r&&Kr(t),t.flags|=1,Ha(e,t,n,s),t.child):(ys(e,t,s),fo(e,t,s))}function eo(e,t,n,r,i){if(No(t),null===t.stateNode){var s=Dr,a=n.contextType;"object"===typeof a&&null!==a&&(s=To(a)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=ja,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},jo(t),a=n.contextType,s.context="object"===typeof a&&null!==a?To(a):Dr,s.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(_a(t,n,a,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(a=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&ja.enqueueReplaceState(s,s.state,null),Fo(t,r,s,i),Mo(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=La(n,o);s.props=l;var c=s.context,u=n.contextType;a=Dr,"object"===typeof u&&null!==u&&(a=To(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==a)&&Da(t,s,r,a),_o=!1;var d=t.memoizedState;s.state=d,Fo(t,r,s,i),Mo(),c=t.memoizedState,o||d!==c||_o?("function"===typeof h&&(_a(t,n,h,r),c=t.memoizedState),(l=_o||Aa(t,n,l,r,d,c,a))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ao(e,t),u=La(n,a=t.memoizedProps),s.props=u,h=t.pendingProps,d=s.context,c=n.contextType,l=Dr,"object"===typeof c&&null!==c&&(l=To(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&Da(t,s,r,l),_o=!1,d=t.memoizedState,s.state=d,Fo(t,r,s,i),Mo();var f=t.memoizedState;a!==h||d!==f||_o||null!==e&&null!==e.dependencies&&Eo(e.dependencies)?("function"===typeof o&&(_a(t,n,o,r),f=t.memoizedState),(u=_o||Aa(t,n,u,r,d,f,l)||null!==e&&null!==e.dependencies&&Eo(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Ja(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=Si(t,e.child,null,i),t.child=Si(t,null,n,i)):Ha(e,t,n,i),t.memoizedState=s.state,e=t.child):e=fo(e,t,i),e}function to(e,t,n,r){return ii(),t.flags|=256,Ha(e,t,n,r),t.child}var no={dehydrated:null,treeContext:null,retryLane:0};function ro(e){return{baseLanes:e,cachePool:Xi()}}function io(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=pc),e}function so(e,t,n){var r,i=t.pendingProps,s=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Ri.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(Yr){if(s?Ai(t):Li(),Yr){var l,c=Qr;if(l=c){e:{for(l=c,c=Xr;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=lh(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Ur?{id:Br,overflow:$r}:null,retryLane:536870912},(l=Ol(18,null,null,0)).stateNode=c,l.return=t,t.child=l,Gr=t,Qr=null,l=!0):l=!1}l||ei(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;Pi(t)}return c=i.children,i=i.fallback,s?(Li(),c=oo({mode:"hidden",children:c},s=t.mode),i=Ul(i,s,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(s=t.child).memoizedState=ro(n),s.childLanes=io(e,r,n),t.memoizedState=no,i):(Ai(t),ao(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(Ai(t),t.flags&=-257,t=lo(e,t,n)):null!==t.memoizedState?(Li(),t.child=e.child,t.flags|=128,t=null):(Li(),s=i.fallback,c=t.mode,i=oo({mode:"visible",children:i.children},c),(s=Ul(s,c,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,Si(t,e.child,null,n),(i=t.child).memoizedState=ro(n),i.childLanes=io(e,r,n),t.memoizedState=no,t=s);else if(Ai(t),"$!"===c.data){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,si({value:i,source:null,stack:null}),t=lo(e,t,n)}else if(qa||ko(e,t,n,!1),r=0!==(n&e.childLanes),qa||r){if(null!==(r=nc)){if(0!==(42&(i=n&-n)))i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(0!==(i=0!==(i&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane)throw l.retryLane=i,_r(e,i),Lc(r,e,i),$a}"$?"===c.data||Hc(),t=lo(e,t,n)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=lu.bind(null,e),c._reactRetry=t,t=null):(e=l.treeContext,Qr=lh(c.nextSibling),Gr=t,Yr=!0,Jr=null,Xr=!1,null!==e&&(zr[Vr++]=Br,zr[Vr++]=$r,zr[Vr++]=Ur,Br=e.id,$r=e.overflow,Ur=t),(t=ao(t,i.children)).flags|=4096);return t}return s?(Li(),s=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Fl(l,{mode:"hidden",children:i.children})).subtreeFlags=31457280&l.subtreeFlags,null!==u?s=Fl(u,s):(s=Ul(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,null===(c=e.child.memoizedState)?c=ro(n):(null!==(l=c.cachePool)?(u=Vi._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Xi(),c={baseLanes:c.baseLanes|n,cachePool:l}),s.memoizedState=c,s.childLanes=io(e,r,n),t.memoizedState=no,i):(Ai(t),e=(n=e.child).sibling,(n=Fl(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function ao(e,t){return(t=oo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function oo(e,t){return Bl(e,t,0,null)}function lo(e,t,n){return Si(t,e.child,null,n),(e=ao(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function co(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xo(e.return,t,n)}function uo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ho(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ha(e,t,r.children,n),0!==(2&(r=Ri.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&co(e,n,t);else if(19===e.tag)co(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(G(Ri,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Oi(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),uo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Oi(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}uo(t,!0,n,null,s);break;case"together":uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),dc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ko(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Fl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function mo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Eo(e))}function po(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)qa=!0;else{if(!mo(e,n)&&0===(128&t.flags))return qa=!1,function(e,t,n){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),bo(t,Vi,e.memoizedState.cache),ii();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:bo(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ai(t),t.flags|=128,null):0!==(n&t.child.childLanes)?so(e,t,n):(Ai(t),null!==(e=fo(e,t,n))?e.sibling:null);Ai(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ko(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return ho(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),G(Ri,Ri.current),r)break;return null;case 22:case 23:return t.lanes=0,Qa(e,t,n);case 24:bo(t,Vi,e.memoizedState.cache)}return fo(e,t,n)}(e,t,n);qa=0!==(131072&e.flags)}else qa=!1,Yr&&0!==(1048576&t.flags)&&Hr(t,Fr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===y){t.tag=11,t=Ka(null,t,r,e,n);break e}if(i===w){t.tag=14,t=Wa(null,t,r,e,n);break e}}throw t=C(r)||r,Error(a(306,t,""))}Ml(r)?(e=La(r,e),t.tag=1,t=eo(null,t,r,e,n)):(t.tag=0,t=Xa(null,t,r,e,n))}return t;case 0:return Xa(e,t,t.type,t.pendingProps,n);case 1:return eo(e,t,r=t.type,i=La(r,t.pendingProps),n);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(a(387));var s=t.pendingProps;r=(i=t.memoizedState).element,Ao(e,t),Fo(t,s,null,n);var o=t.memoizedState;if(s=o.cache,bo(t,Vi,s),s!==i.cache&&So(t,[Vi],n,!0),Mo(),s=o.element,i.isDehydrated){if(i={element:s,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=to(e,t,s,n);break e}if(s!==r){si(r=Pr(Error(a(424)),t)),t=to(e,t,s,n);break e}for(Qr=lh(t.stateNode.containerInfo.firstChild),Gr=t,Yr=!0,Jr=null,Xr=!0,n=ki(t,null,s,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ii(),s===r){t=fo(e,t,n);break e}Ha(e,t,s,n)}t=t.child}return t;case 26:return Ja(e,t),null===e?(n=yh(t.type,null,t.pendingProps,null))?t.memoizedState=n:Yr||(n=t.type,e=t.pendingProps,(r=Yu(J.current).createElement(n))[Fe]=t,r[ze]=e,Wu(r,n,e),Je(r),t.stateNode=r):t.memoizedState=yh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Yr&&(r=t.stateNode=uh(t.type,t.pendingProps,J.current),Gr=t,Xr=!0,Qr=lh(r.firstChild)),r=t.pendingProps.children,null!==e||Yr?Ha(e,t,r,n):t.child=Si(t,null,r,n),Ja(e,t),t.child;case 5:return null===e&&Yr&&((i=r=Qr)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[He])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=lh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,Xr))?(t.stateNode=r,Gr=t,Qr=lh(r.firstChild),Xr=!1,i=!0):i=!1),i||ei(t)),te(t),i=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,r=s.children,Zu(i,s)?r=null:null!==o&&Zu(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=ds(e,t,ps,null,null,n),Mh._currentValue=i),Ja(e,t),Ha(e,t,r,n),t.child;case 6:return null===e&&Yr&&((e=n=Qr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=lh(e.nextSibling)))return null}return e}(n,t.pendingProps,Xr))?(t.stateNode=n,Gr=t,Qr=null,e=!0):e=!1),e||ei(t)),null;case 13:return so(e,t,n);case 4:return Z(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Si(t,null,r,n):Ha(e,t,r,n),t.child;case 11:return Ka(e,t,t.type,t.pendingProps,n);case 7:return Ha(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ha(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bo(t,t.type,r.value),Ha(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,No(t),r=r(i=To(i)),t.flags|=1,Ha(e,t,r,n),t.child;case 14:return Wa(e,t,t.type,t.pendingProps,n);case 15:return Ga(e,t,t.type,t.pendingProps,n);case 19:return ho(e,t,n);case 22:return Qa(e,t,n);case 24:return No(t),r=To(Vi),null===e?(null===(i=Yi())&&(i=nc,s=Ui(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},jo(t),bo(t,Vi,i)):(0!==(e.lanes&n)&&(Ao(e,t),Fo(t,null,null,n),Mo()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bo(t,Vi,r)):(r=s.cache,bo(t,Vi,r),r!==i.cache&&So(t,[Vi],n,!0))),Ha(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}var go=K(null),yo=null,vo=null;function bo(e,t,n){G(go,t._currentValue),t._currentValue=n}function wo(e){e._currentValue=go.current,W(go)}function xo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function So(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var o=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),xo(s.return,n,e),r||(o=null);break e}s=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),xo(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function ko(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=i.type;Gn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===X.current){if(null===(o=i.alternate))throw Error(a(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Mh):e=[Mh])}i=i.return}null!==e&&So(t,e,n,r),t.flags|=262144}function Eo(e){for(e=e.firstContext;null!==e;){if(!Gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function No(e){yo=e,vo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function To(e){return Io(yo,e)}function Co(e,t){return null===yo&&No(e),Io(e,t)}function Io(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vo){if(null===e)throw Error(a(308));vo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vo=vo.next=t;return n}var _o=!1;function jo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Do(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&tc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Ar(e),jr(e,null,n),t}return Cr(e,r,t,n),Ar(e)}function Po(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}function Ro(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Oo=!1;function Mo(){if(Oo){if(null!==Ki)throw Ki}}function Fo(e,t,n,r){Oo=!1;var i=e.updateQueue;_o=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,u=c=l=null,o=s;;){var d=-536870913&o.lane,f=d!==o.lane;if(f?(ic&d)===d:(r&d)===d){0!==d&&d===Hi&&(Oo=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,p=o;d=t;var g=n;switch(p.tag){case 1:if("function"===typeof(m=p.payload)){h=m.call(g,h,d);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(d="function"===typeof(m=p.payload)?m.call(g,h,d):m)||void 0===d)break e;h=A({},h,d);break e;case 2:_o=!0}}null!==(d=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[d]:f.push(d))}else f={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(f=o).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),dc|=a,e.lanes=a,e.memoizedState=h}}function zo(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function Vo(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)zo(n[e],t)}function Uo(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){iu(t,t.return,o)}}function Bo(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,i=t;var l=n;try{o()}catch(c){iu(i,l,c)}}}r=r.next}while(r!==s)}}catch(c){iu(t,t.return,c)}}function $o(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Vo(t,n)}catch(r){iu(e,e.return,r)}}}function qo(e,t,n){n.props=La(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){iu(e,t,r)}}function Ho(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var i=r;break;default:i=r}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(s){iu(e,t,s)}}function Ko(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){iu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){iu(e,t,s)}else n.current=null}function Wo(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){iu(e,e.return,i)}}function Go(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,l=null,c=null,u=null,h=null;for(m in n){var d=n[m];if(n.hasOwnProperty(m)&&null!=d)switch(m){case"checked":case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(m)||Hu(e,t,m,null,r,d)}}for(var f in r){var m=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=m||null!=d))switch(f){case"type":s=m;break;case"name":i=m;break;case"checked":u=m;break;case"defaultChecked":h=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(a(137,t));break;default:m!==d&&Hu(e,t,f,m,r,d)}}return void gt(e,o,l,c,u,h,s,i);case"select":for(s in m=o=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(s)||Hu(e,t,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&Hu(e,t,i,s,r,c)}return t=l,n=o,r=m,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Hu(e,t,l,null,r,i)}for(o in r)if(i=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=i||null!=s))switch(o){case"value":f=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==s&&Hu(e,t,o,i,r,s)}return void wt(e,f,m);case"option":for(var p in n)if(f=n[p],n.hasOwnProperty(p)&&null!=f&&!r.hasOwnProperty(p))if("selected"===p)e.selected=!1;else Hu(e,t,p,null,r,f);for(c in r)if(f=r[c],m=n[c],r.hasOwnProperty(c)&&f!==m&&(null!=f||null!=m))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Hu(e,t,c,f,r,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Hu(e,t,g,null,r,f);for(u in r)if(f=r[u],m=n[u],r.hasOwnProperty(u)&&f!==m&&(null!=f||null!=m))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:Hu(e,t,u,f,r,m)}return;default:if(Tt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&Ku(e,t,y,void 0,r,f);for(h in r)f=r[h],m=n[h],!r.hasOwnProperty(h)||f===m||void 0===f&&void 0===m||Ku(e,t,h,f,r,m);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Hu(e,t,v,null,r,f);for(d in r)f=r[d],m=n[d],!r.hasOwnProperty(d)||f===m||null==f&&null==m||Hu(e,t,d,f,r,m)}(r,e.type,n,t),r[ze]=t}catch(i){iu(e,e.return,i)}}function Qo(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Yo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Qo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Jo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=qu));else if(4!==r&&27!==r&&null!==(e=e.child))for(Jo(e,t,n),e=e.sibling;null!==e;)Jo(e,t,n),e=e.sibling}function Xo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for(Xo(e,t,n),e=e.sibling;null!==e;)Xo(e,t,n),e=e.sibling}var Zo=!1,el=!1,tl=!1,nl="function"===typeof WeakSet?WeakSet:Set,rl=null,il=!1;function sl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:vl(e,n),4&r&&Uo(5,n);break;case 1:if(vl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){iu(n,n.return,o)}else{var i=La(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){iu(n,n.return,l)}}64&r&&$o(n),512&r&&Ho(n,n.return);break;case 3:if(vl(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{Vo(r,e)}catch(o){iu(n,n.return,o)}}break;case 26:vl(e,n),512&r&&Ho(n,n.return);break;case 27:case 5:vl(e,n),null===t&&4&r&&Wo(n),512&r&&Ho(n,n.return);break;case 12:default:vl(e,n);break;case 13:vl(e,n),4&r&&hl(e,n);break;case 22:if(!(i=null!==n.memoizedState||Zo)){t=null!==t&&null!==t.memoizedState||el;var s=Zo,a=el;Zo=i,(el=t)&&!a?wl(e,n,0!==(8772&n.subtreeFlags)):vl(e,n),Zo=s,el=a}512&r&&("manual"===n.memoizedProps.mode?Ho(n,n.return):Ko(n,n.return))}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ke(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ol=null,ll=!1;function cl(e,t,n){for(n=n.child;null!==n;)ul(e,t,n),n=n.sibling}function ul(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(a){}switch(n.tag){case 26:el||Ko(n,t),cl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:el||Ko(n,t);var r=ol,i=ll;for(ol=n.stateNode,cl(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);Ke(n),ol=r,ll=i;break;case 5:el||Ko(n,t);case 6:i=ol;var s=ll;if(ol=null,cl(e,t,n),ll=s,null!==(ol=i))if(ll)try{e=ol,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(o){iu(n,t,o)}else try{ol.removeChild(n.stateNode)}catch(o){iu(n,t,o)}break;case 18:null!==ol&&(ll?(t=ol,n=n.stateNode,8===t.nodeType?ah(t.parentNode,n):1===t.nodeType&&ah(t,n),gd(t)):ah(ol,n.stateNode));break;case 4:r=ol,i=ll,ol=n.stateNode.containerInfo,ll=!0,cl(e,t,n),ol=r,ll=i;break;case 0:case 11:case 14:case 15:el||Bo(2,n,t),el||Bo(4,n,t),cl(e,t,n);break;case 1:el||(Ko(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&qo(n,t,r)),cl(e,t,n);break;case 21:cl(e,t,n);break;case 22:el||Ko(n,t),el=(r=el)||null!==n.memoizedState,cl(e,t,n),el=r;break;default:cl(e,t,n)}}function hl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{gd(e)}catch(n){iu(t,t.return,n)}}function dl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new nl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new nl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var r=cu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function fl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:case 5:ol=l.stateNode,ll=!1;break e;case 3:case 4:ol=l.stateNode.containerInfo,ll=!0;break e}l=l.return}if(null===ol)throw Error(a(160));ul(s,o,i),ol=null,ll=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)pl(t,e),t=t.sibling}var ml=null;function pl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fl(t,e),gl(e),4&r&&(Bo(3,e,e.return),Uo(3,e),Bo(5,e,e.return));break;case 1:fl(t,e),gl(e),512&r&&(el||null===n||Ko(n,n.return)),64&r&&Zo&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=ml;if(fl(t,e),gl(e),512&r&&(el||null===n||Ko(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[He]||s[Fe]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),Wu(s,r,n),s[Fe]=e,Je(s),r=s;break e;case"link":var o=Ih("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}Wu(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(o=Ih("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}Wu(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(a(468,r))}s[Fe]=e,Je(s),r=s}e.stateNode=r}else _h(i,e.type,e.stateNode);else e.stateNode=kh(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?_h(i,e.type,e.stateNode):kh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Go(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){i=e.stateNode,s=e.memoizedProps;try{for(var c=i.firstChild;c;){var u=c.nextSibling,h=c.nodeName;c[He]||"HEAD"===h||"BODY"===h||"SCRIPT"===h||"STYLE"===h||"LINK"===h&&"stylesheet"===c.rel.toLowerCase()||i.removeChild(c),c=u}for(var d=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Wu(i,d,s),i[Fe]=e,i[ze]=s}catch(p){iu(e,e.return,p)}}case 5:if(fl(t,e),gl(e),512&r&&(el||null===n||Ko(n,n.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(p){iu(e,e.return,p)}}4&r&&null!=e.stateNode&&Go(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(tl=!0);break;case 6:if(fl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){iu(e,e.return,p)}}break;case 3:if(Ch=null,i=ml,ml=fh(t.containerInfo),fl(t,e),ml=i,gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{gd(t.containerInfo)}catch(p){iu(e,e.return,p)}tl&&(tl=!1,yl(e));break;case 4:r=ml,ml=fh(e.stateNode.containerInfo),fl(t,e),gl(e),ml=r;break;case 12:fl(t,e),gl(e);break;case 13:fl(t,e),gl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 22:if(512&r&&(el||null===n||Ko(n,n.return)),c=null!==e.memoizedState,u=null!==n&&null!==n.memoizedState,Zo=(h=Zo)||c,el=(d=el)||u,fl(t,e),el=d,Zo=h,gl(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Zo||el,null===n||u||t||bl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){u=n=t;try{if(i=u.stateNode,c)"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{o=u.stateNode;var m=void 0!==(l=u.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;o.style.display=null==m||"boolean"===typeof m?"":(""+m).trim()}}catch(p){iu(u,u.return,p)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(p){iu(u,u.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,dl(e,n))));break;case 19:fl(t,e),gl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 21:break;default:fl(t,e),gl(e)}}function gl(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Qo(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 27:var i=r.stateNode;Xo(e,Yo(e),i);break;case 5:var s=r.stateNode;32&r.flags&&(St(s,""),r.flags&=-33),Xo(e,Yo(e),s);break;case 3:case 4:var o=r.stateNode.containerInfo;Jo(e,Yo(e),o);break;default:throw Error(a(161))}}}catch(l){iu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;yl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function vl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)sl(e,t.alternate,t),t=t.sibling}function bl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bo(4,t,t.return),bl(t);break;case 1:Ko(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&qo(t,t.return,n),bl(t);break;case 26:case 27:case 5:Ko(t,t.return),bl(t);break;case 22:Ko(t,t.return),null===t.memoizedState&&bl(t);break;default:bl(t)}e=e.sibling}}function wl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:wl(i,s,n),Uo(4,s);break;case 1:if(wl(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){iu(r,r.return,c)}if(null!==(i=(r=s).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)zo(l[i],o)}catch(c){iu(r,r.return,c)}}n&&64&a&&$o(s),Ho(s,s.return);break;case 26:case 27:case 5:wl(i,s,n),n&&null===r&&4&a&&Wo(s),Ho(s,s.return);break;case 12:default:wl(i,s,n);break;case 13:wl(i,s,n),n&&4&a&&hl(i,s);break;case 22:null===s.memoizedState&&wl(i,s,n),Ho(s,s.return)}t=t.sibling}}function xl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Bi(n))}function Sl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bi(e))}function kl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)El(e,t,n,r),t=t.sibling}function El(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:kl(e,t,n,r),2048&i&&Uo(9,t);break;case 3:kl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bi(e)));break;case 12:if(2048&i){kl(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){iu(t,t.return,l)}}else kl(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,null!==t.memoizedState?4&s._visibility?kl(e,t,n,r):Tl(e,t):4&s._visibility?kl(e,t,n,r):(s._visibility|=4,Nl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&xl(t.alternate,t);break;case 24:kl(e,t,n,r),2048&i&&Sl(t.alternate,t);break;default:kl(e,t,n,r)}}function Nl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Nl(s,a,o,l,i),Uo(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?4&u._visibility?Nl(s,a,o,l,i):Tl(s,a):(u._visibility|=4,Nl(s,a,o,l,i)),i&&2048&c&&xl(a.alternate,a);break;case 24:Nl(s,a,o,l,i),i&&2048&c&&Sl(a.alternate,a);break;default:Nl(s,a,o,l,i)}t=t.sibling}}function Tl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Tl(n,r),2048&i&&xl(r.alternate,r);break;case 24:Tl(n,r),2048&i&&Sl(r.alternate,r);break;default:Tl(n,r)}t=t.sibling}}var Cl=8192;function Il(e){if(e.subtreeFlags&Cl)for(e=e.child;null!==e;)_l(e),e=e.sibling}function _l(e){switch(e.tag){case 26:Il(e),e.flags&Cl&&null!==e.memoizedState&&function(e,t,n){if(null===Ah)throw Error(a(475));var r=Ah;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=vh(n.href),s=e.querySelector(bh(i));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Lh.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,void Je(s);s=e.ownerDocument||e,n=wh(n),(i=hh.get(i))&&Nh(n,i),Je(s=s.createElement("link"));var o=s;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),Wu(s,"link",n),t.instance=s}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Lh.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(ml,e.memoizedState,e.memoizedProps);break;case 5:default:Il(e);break;case 3:case 4:var t=ml;ml=fh(e.stateNode.containerInfo),Il(e),ml=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Cl,Cl=16777216,Il(e),Cl=t):Il(e))}}function jl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Al(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];rl=r,Pl(r,e)}jl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Dl(e),e=e.sibling}function Dl(e){switch(e.tag){case 0:case 11:case 15:Al(e),2048&e.flags&&Bo(9,e,e.return);break;case 3:case 12:default:Al(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Ll(e)):Al(e)}}function Ll(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];rl=r,Pl(r,e)}jl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Bo(8,t,t.return),Ll(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Ll(t));break;default:Ll(t)}e=e.sibling}}function Pl(e,t){for(;null!==rl;){var n=rl;switch(n.tag){case 0:case 11:case 15:Bo(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Bi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,rl=r;else e:for(n=e;null!==rl;){var i=(r=rl).sibling,s=r.return;if(al(r),r===n){rl=null;break e}if(null!==i){i.return=s,rl=i;break e}rl=s}}}function Rl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ol(e,t,n,r){return new Rl(e,t,n,r)}function Ml(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fl(e,t){var n=e.alternate;return null===n?((n=Ol(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zl(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vl(e,t,n,r,i,s){var o=0;if(r=e,"function"===typeof e)Ml(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,Q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case h:return Ul(n.children,i,s,t);case d:o=8,i|=24;break;case f:return(e=Ol(12,n,t,2|i)).elementType=f,e.lanes=s,e;case v:return(e=Ol(13,n,t,i)).elementType=v,e.lanes=s,e;case b:return(e=Ol(19,n,t,i)).elementType=b,e.lanes=s,e;case S:return Bl(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case m:case g:o=10;break e;case p:o=9;break e;case y:o=11;break e;case w:o=14;break e;case x:o=16,r=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Ol(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Ul(e,t,n,r){return(e=Ol(7,e,r,t)).lanes=n,e}function Bl(e,t,n,r){(e=Ol(22,e,r,t)).elementType=S,e.lanes=n;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=i._current;if(null===e)throw Error(a(456));if(0===(2&i._pendingVisibility)){var t=_r(e,2);null!==t&&(i._pendingVisibility|=2,Lc(t,e,2))}},attach:function(){var e=i._current;if(null===e)throw Error(a(456));if(0!==(2&i._pendingVisibility)){var t=_r(e,2);null!==t&&(i._pendingVisibility&=-3,Lc(t,e,2))}}};return e.stateNode=i,e}function $l(e,t,n){return(e=Ol(6,e,null,t)).lanes=n,e}function ql(e,t,n){return(t=Ol(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hl(e){e.flags|=4}function Kl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!jh(t)){if(null!==(t=_i.current)&&((4194176&ic)===ic?null!==ji:(62914560&ic)!==ic&&0===(536870912&ic)||t!==ji))throw fi=ci,li;e.flags|=8192}}function Wl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?je():536870912,e.lanes|=t,gc|=t)}function Gl(e,t){if(!Yr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ql(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=31457280&i.subtreeFlags,r|=31457280&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yl(e,t,n){var r=t.pendingProps;switch(Wr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Ql(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wo(Vi),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ri(t)?Hl(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Jr&&(Rc(Jr),Jr=null))),Ql(t),null;case 26:return n=t.memoizedState,null===e?(Hl(t),null!==n?(Ql(t),Kl(t,n)):(Ql(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Hl(t),Ql(t),Kl(t,n)):(Ql(t),t.flags&=-16777217):(e.memoizedProps!==r&&Hl(t),Ql(t),t.flags&=-16777217),null;case 27:ne(t),n=J.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Hl(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ql(t),null}e=Q.current,ri(t)?ti(t):(e=uh(i,r,n),t.stateNode=e,Hl(t))}return Ql(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Hl(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ql(t),null}if(e=Q.current,ri(t))ti(t);else{switch(i=Yu(J.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Fe]=t,e[ze]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Wu(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Hl(t)}}return Ql(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Hl(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=J.current,ri(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=Gr))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Fe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||$u(e.nodeValue,n)))||ei(t)}else(e=Yu(e).createTextNode(r))[Fe]=t,t.stateNode=e}return Ql(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=ri(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Fe]=t}else ii(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ql(t),i=!1}else null!==Jr&&(Rc(Jr),Jr=null),i=!0;if(!i)return 256&t.flags?(Pi(t),t):(Pi(t),null)}if(Pi(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Wl(t,t.updateQueue),Ql(t),null;case 4:return ee(),null===e&&Lu(t.stateNode.containerInfo),Ql(t),null;case 10:return wo(t.type),Ql(t),null;case 19:if(W(Ri),null===(i=t.memoizedState))return Ql(t),null;if(r=0!==(128&t.flags),null===(s=i.rendering))if(r)Gl(i,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Oi(e))){for(t.flags|=128,Gl(i,!1),e=s.updateQueue,t.updateQueue=e,Wl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zl(n,e),n=n.sibling;return G(Ri,1&Ri.current|2),t.child}e=e.sibling}null!==i.tail&&le()>xc&&(t.flags|=128,r=!0,Gl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Oi(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Wl(t,e),Gl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!Yr)return Ql(t),null}else 2*le()-i.renderingStartTime>xc&&536870912!==n&&(t.flags|=128,r=!0,Gl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,e=Ri.current,G(Ri,r?1&e|2:1&e),t):(Ql(t),null);case 22:case 23:return Pi(t),Ii(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(Ql(t),6&t.subtreeFlags&&(t.flags|=8192)):Ql(t),null!==(n=t.updateQueue)&&Wl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&W(Qi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wo(Vi),Ql(t),null;case 25:return null}throw Error(a(156,t.tag))}function Jl(e,t){switch(Wr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wo(Vi),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(Pi(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ii()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return W(Ri),null;case 4:return ee(),null;case 10:return wo(t.type),null;case 22:case 23:return Pi(t),Ii(),null!==e&&W(Qi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wo(Vi),null;default:return null}}function Xl(e,t){switch(Wr(t),t.tag){case 3:wo(Vi),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:Pi(t);break;case 19:W(Ri);break;case 10:wo(t.type);break;case 22:case 23:Pi(t),Ii(),null!==e&&W(Qi);break;case 24:wo(Vi)}}var Zl={getCacheForType:function(e){var t=To(Vi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},ec="function"===typeof WeakMap?WeakMap:Map,tc=0,nc=null,rc=null,ic=0,sc=0,ac=null,oc=!1,lc=!1,cc=!1,uc=0,hc=0,dc=0,fc=0,mc=0,pc=0,gc=0,yc=null,vc=null,bc=!1,wc=0,xc=1/0,Sc=null,kc=null,Ec=!1,Nc=null,Tc=0,Cc=0,Ic=null,_c=0,jc=null;function Ac(){if(0!==(2&tc)&&0!==ic)return ic&-ic;if(null!==j.T){return 0!==Hi?Hi:Su()}return Oe()}function Dc(){0===pc&&(pc=0===(536870912&ic)||Yr?_e():536870912);var e=_i.current;return null!==e&&(e.flags|=32),pc}function Lc(e,t,n){(e===nc&&2===sc||null!==e.cancelPendingCommit)&&(Uc(e,0),Fc(e,ic,pc,!1)),De(e,n),0!==(2&tc)&&e===nc||(e===nc&&(0===(2&tc)&&(fc|=n),4===hc&&Fc(e,ic,pc,!1)),gu(e))}function Pc(e,t,n){if(0!==(6&tc))throw Error(a(327));for(var r=!n&&0===(60&t)&&0===(t&e.expiredLanes)||Ce(e,t),i=r?function(e,t){var n=tc;tc|=2;var r=$c(),i=qc();nc!==e||ic!==t?(Sc=null,xc=le()+500,Uc(e,t)):lc=Ce(e,t);e:for(;;)try{if(0!==sc&&null!==rc){t=rc;var s=ac;t:switch(sc){case 1:sc=0,ac=null,Jc(e,t,s,1);break;case 2:if(ui(s)){sc=0,ac=null,Yc(t);break}t=function(){2===sc&&nc===e&&(sc=7),gu(e)},s.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:ui(s)?(sc=0,ac=null,Yc(t)):(sc=0,ac=null,Jc(e,t,s,7));break;case 5:var o=null;switch(rc.tag){case 26:o=rc.memoizedState;case 5:case 27:var l=rc;if(!o||jh(o)){sc=0,ac=null;var c=l.sibling;if(null!==c)rc=c;else{var u=l.return;null!==u?(rc=u,Xc(u)):rc=null}break t}}sc=0,ac=null,Jc(e,t,s,5);break;case 6:sc=0,ac=null,Jc(e,t,s,6);break;case 8:Vc(),hc=6;break e;default:throw Error(a(462))}}Gc();break}catch(h){Bc(e,h)}return vo=yo=null,j.H=r,j.A=i,tc=n,null!==rc?0:(nc=null,ic=0,Tr(),hc)}(e,t):Kc(e,t,!0),s=r;;){if(0===i){lc&&!r&&Fc(e,t,0,!1);break}if(6===i)Fc(e,t,0,!oc);else{if(n=e.current.alternate,s&&!Mc(n)){i=Kc(e,t,!1),s=!1;continue}if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(Uc(l,o).flags|=256),2!==(o=Kc(l,o,!1))){if(cc&&!c){l.errorRecoveryDisabledLanes|=s,fc|=s,i=4;break e}s=vc,vc=i,null!==s&&Rc(s)}i=o}if(s=!1,2!==i)continue}}if(1===i){Uc(e,0),Fc(e,t,0,!0);break}e:{switch(r=e,i){case 0:case 1:throw Error(a(345));case 4:if((4194176&t)===t){Fc(r,t,pc,!oc);break e}break;case 2:vc=null;break;case 3:case 5:break;default:throw Error(a(329))}if(r.finishedWork=n,r.finishedLanes=t,(62914560&t)===t&&10<(s=wc+300-le())){if(Fc(r,t,pc,!oc),0!==Te(r,0))break e;r.timeoutHandle=th(Oc.bind(null,r,n,vc,Sc,bc,t,pc,fc,gc,oc,2,-0,0),s)}else Oc(r,n,vc,Sc,bc,t,pc,fc,gc,oc,0,-0,0)}}break}gu(e)}function Rc(e){null===vc?vc=e:vc.push.apply(vc,e)}function Oc(e,t,n,r,i,s,o,l,c,u,h,d,f){var m=t.subtreeFlags;if((8192&m||16785408===(16785408&m))&&(Ah={stylesheets:null,count:0,unsuspend:Dh},_l(t),null!==(t=function(){if(null===Ah)throw Error(a(475));var e=Ah;return e.stylesheets&&0===e.count&&Rh(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Rh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(eu.bind(null,e,n,r,i,o,l,c,1,d,f)),void Fc(e,s,o,!u);eu(e,n,r,i,o,l,c,h,d,f)}function Mc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Gn(s(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fc(e,t,n,r){t&=~mc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-we(i),a=1<<s;r[s]=-1,i&=~a}0!==n&&Le(e,n,t)}function zc(){return 0!==(6&tc)||(yu(0,!1),!1)}function Vc(){if(null!==rc){if(0===sc)var e=rc.return;else vo=yo=null,vs(e=rc),pi=null,gi=0,e=rc;for(;null!==e;)Xl(e.alternate,e),e=e.return;rc=null}}function Uc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,nh(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc(),nc=e,rc=n=Fl(e.current,null),ic=t,sc=0,ac=null,oc=!1,lc=Ce(e,t),cc=!1,gc=pc=mc=fc=dc=hc=0,vc=yc=null,bc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-we(r),s=1<<i;t|=e[i],r&=~s}return uc=t,Tr(),n}function Bc(e,t){es=null,j.H=Na,t===ai?(t=mi(),sc=3):t===li?(t=mi(),sc=4):sc=t===$a?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ac=t,null===rc&&(hc=1,Fa(e,Pr(t,e.current)))}function $c(){var e=j.H;return j.H=Na,null===e?Na:e}function qc(){var e=j.A;return j.A=Zl,e}function Hc(){hc=4,oc||(4194176&ic)!==ic&&null!==_i.current||(lc=!0),0===(134217727&dc)&&0===(134217727&fc)||null===nc||Fc(nc,ic,pc,!1)}function Kc(e,t,n){var r=tc;tc|=2;var i=$c(),s=qc();nc===e&&ic===t||(Sc=null,Uc(e,t)),t=!1;var a=hc;e:for(;;)try{if(0!==sc&&null!==rc){var o=rc,l=ac;switch(sc){case 8:Vc(),a=6;break e;case 3:case 2:case 6:null===_i.current&&(t=!0);var c=sc;if(sc=0,ac=null,Jc(e,o,l,c),n&&lc){a=0;break e}break;default:c=sc,sc=0,ac=null,Jc(e,o,l,c)}}Wc(),a=hc;break}catch(u){Bc(e,u)}return t&&e.shellSuspendCounter++,vo=yo=null,tc=r,j.H=i,j.A=s,null===rc&&(nc=null,ic=0,Tr()),a}function Wc(){for(;null!==rc;)Qc(rc)}function Gc(){for(;null!==rc&&!ae();)Qc(rc)}function Qc(e){var t=po(e.alternate,e,uc);e.memoizedProps=e.pendingProps,null===t?Xc(e):rc=t}function Yc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Za(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=Za(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:vs(t);default:Xl(n,t),t=po(n,t=rc=zl(t,uc),uc)}e.memoizedProps=e.pendingProps,null===t?Xc(e):rc=t}function Jc(e,t,n,r){vo=yo=null,vs(t),pi=null,gi=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ko(t,n,i,!0),null!==(n=_i.current)){switch(n.tag){case 13:return null===ji?Hc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===ci?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),su(e,r,i)),!1;case 22:return n.flags|=65536,r===ci?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),su(e,r,i)),!1}throw Error(a(435,n.tag))}return su(e,r,i),Hc(),!1}if(Yr)return null!==(t=_i.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==Zr&&si(Pr(e=Error(a(422),{cause:r}),n))):(r!==Zr&&si(Pr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Pr(r,n),Ro(e,i=Va(e.stateNode,r,i)),4!==hc&&(hc=2)),!1;var s=Error(a(520),{cause:r});if(s=Pr(s,n),null===yc?yc=[s]:yc.push(s),4!==hc&&(hc=2),null===t)return!0;r=Pr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,Ro(n,e=Va(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===kc||!kc.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Ba(i=Ua(i),e,n,r),Ro(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,ic))return hc=1,Fa(e,Pr(n,e.current)),void(rc=null)}catch(s){if(null!==i)throw rc=i,s;return hc=1,Fa(e,Pr(n,e.current)),void(rc=null)}32768&t.flags?(Yr||1===r?e=!0:lc||0!==(536870912&ic)?e=!1:(oc=e=!0,(2===r||3===r||6===r)&&(null!==(r=_i.current)&&13===r.tag&&(r.flags|=16384))),Zc(t,e)):Xc(t)}function Xc(e){var t=e;do{if(0!==(32768&t.flags))return void Zc(t,oc);e=t.return;var n=Yl(t.alternate,t,uc);if(null!==n)return void(rc=n);if(null!==(t=t.sibling))return void(rc=t);rc=t=e}while(null!==t);0===hc&&(hc=5)}function Zc(e,t){do{var n=Jl(e.alternate,e);if(null!==n)return n.flags&=32767,void(rc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(rc=e);rc=e=n}while(null!==e);hc=6,rc=null}function eu(e,t,n,r,i,s,o,l,c,u){var h=j.T,d=B.p;try{B.p=2,j.T=null,function(e,t,n,r,i,s,o,l){do{nu()}while(null!==Nc);if(0!==(6&tc))throw Error(a(327));var c=e.finishedWork;if(r=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(e,t,n,r,i,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-we(n),h=1<<u;o[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Le(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,r,u|=Nr,s,o,l),e===nc&&(rc=nc=null,ic=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||Ec||(Ec=!0,Cc=u,Ic=n,function(e,t){ie(e,t)}(de,(function(){return nu(),null}))),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=j.T,j.T=null,s=B.p,B.p=2,o=tc,tc|=4,function(e,t){if(e=e.containerInfo,Gu=Hh,er(e=Zn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var m;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==s||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(m=d.firstChild);)f=d,d=m;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++h===r&&(c=o),null!==(m=d.nextSibling))break;f=(d=f).parentNode}d=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qu={focusedElem:e,selectionRange:n},Hh=!1,rl=t;null!==rl;)if(e=(t=rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,rl=e;else for(;null!==rl;){switch(s=(t=rl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var p=La(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(p,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){iu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))oh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":oh(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,rl=e;break}rl=t.return}p=il,il=!1}(e,c),pl(c,e),tr(Qu,e.containerInfo),Hh=!!Gu,Qu=Gu=null,e.current=c,sl(e,c.alternate,c),oe(),tc=o,B.p=s,j.T=n):e.current=c,Ec?(Ec=!1,Nc=e,Tc=r):tu(e,u),u=e.pendingLanes,0===u&&(kc=null),function(e){if(ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),gu(e),null!==t)for(i=e.onRecoverableError,c=0;c<t.length;c++)u=t[c],i(u.value,{componentStack:u.stack});0!==(3&Tc)&&nu(),u=e.pendingLanes,0!==(4194218&r)&&0!==(42&u)?e===jc?_c++:(_c=0,jc=e):_c=0,yu(0,!1)}(e,t,n,r,d,i,s,o)}finally{j.T=h,B.p=d}}function tu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Bi(t)))}function nu(){if(null!==Nc){var e=Nc,t=Cc;Cc=0;var n=Re(Tc),r=j.T,i=B.p;try{if(B.p=32>n?32:n,j.T=null,null===Nc)var s=!1;else{n=Ic,Ic=null;var o=Nc,l=Tc;if(Nc=null,Tc=0,0!==(6&tc))throw Error(a(331));var c=tc;if(tc|=4,Dl(o.current),El(o,o.current,l,n),tc=c,yu(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,o)}catch(u){}s=!0}return s}finally{B.p=i,j.T=r,tu(e,t)}}return!1}function ru(e,t,n){t=Pr(n,t),null!==(e=Lo(e,t=Va(e.stateNode,t,2),2))&&(De(e,2),gu(e))}function iu(e,t,n){if(3===e.tag)ru(e,e,n);else for(;null!==t;){if(3===t.tag){ru(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===kc||!kc.has(r))){e=Pr(n,e),null!==(r=Lo(t,n=Ua(2),2))&&(Ba(n,r,t,e),De(r,2),gu(r));break}}t=t.return}}function su(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ec;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(cc=!0,i.add(n),e=au.bind(null,e,t,n),t.then(e,e))}function au(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,nc===e&&(ic&n)===n&&(4===hc||3===hc&&(62914560&ic)===ic&&300>le()-wc?0===(2&tc)&&Uc(e,0):mc|=n,gc===ic&&(gc=0)),gu(e)}function ou(e,t){0===t&&(t=je()),null!==(e=_r(e,t))&&(De(e,t),gu(e))}function lu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ou(e,n)}function cu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),ou(e,n)}var uu=null,hu=null,du=!1,fu=!1,mu=!1,pu=0;function gu(e){var t;e!==hu&&null===e.next&&(null===hu?uu=hu=e:hu=hu.next=e),fu=!0,du||(du=!0,t=vu,ih((function(){0!==(6&tc)?ie(ue,t):t()})))}function yu(e,t){if(!mu&&fu){mu=!0;do{for(var n=!1,r=uu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-we(42|e)+1)-1,s=201326677&(s&=i&~(a&~o))?201326677&s|1:s?2|s:0}0!==s&&(n=!0,xu(r,s))}else s=ic,0===(3&(s=Te(r,r===nc?s:0)))||Ce(r,s)||(n=!0,xu(r,s));r=r.next}}while(n);mu=!1}}function vu(){fu=du=!1;var e=0;0!==pu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==eh&&(eh=e,!0);return eh=null,!1}()&&(e=pu),pu=0);for(var t=le(),n=null,r=uu;null!==r;){var i=r.next,s=bu(r,t);0===s?(r.next=null,null===n?uu=i:n.next=i,null===i&&(hu=n)):(n=r,(0!==e||0!==(3&s))&&(fu=!0)),r=i}yu(e,!1)}function bu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-we(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=Ie(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=ic,n=Te(e,e===(t=nc)?n:0),r=e.callbackNode,0===n||e===t&&2===sc||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ce(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Re(n)){case 2:case 8:n=he;break;case 32:default:n=de;break;case 268435456:n=me}return r=wu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function wu(e,t){var n=e.callbackNode;if(nu()&&e.callbackNode!==n)return null;var r=ic;return 0===(r=Te(e,e===nc?r:0))?null:(Pc(e,r,t),bu(e,le()),null!=e.callbackNode&&e.callbackNode===n?wu.bind(null,e):null)}function xu(e,t){if(nu())return null;Pc(e,t,!0)}function Su(){return 0===pu&&(pu=_e()),pu}function ku(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:_t(""+e)}function Eu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Nu=0;Nu<xr.length;Nu++){var Tu=xr[Nu];Sr(Tu.toLowerCase(),"on"+(Tu[0].toUpperCase()+Tu.slice(1)))}Sr(fr,"onAnimationEnd"),Sr(mr,"onAnimationIteration"),Sr(pr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(gr,"onTransitionRun"),Sr(yr,"onTransitionStart"),Sr(vr,"onTransitionCancel"),Sr(br,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cu));function _u(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){Pa(u)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){Pa(u)}i.currentTarget=null,s=l}}}}function ju(e,t){var n=t[Ue];void 0===n&&(n=t[Ue]=new Set);var r=e+"__bubble";n.has(r)||(Pu(t,e,2,!1),n.add(r))}function Au(e,t,n){var r=0;t&&(r|=4),Pu(n,e,r,t)}var Du="_reactListening"+Math.random().toString(36).slice(2);function Lu(e){if(!e[Du]){e[Du]=!0,Xe.forEach((function(t){"selectionchange"!==t&&(Iu.has(t)||Au(t,!1,e),Au(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Du]||(t[Du]=!0,Au("selectionchange",!1,t))}}function Pu(e,t,n,r){switch(Xh(t)){case 2:var i=Kh;break;case 8:i=Wh;break;default:i=Gh}n=i.bind(null,t,n,e),i=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ru(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=We(o)))return;if(5===(l=a.tag)||6===l||26===l||27===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Ot((function(){var r=s,i=At(n),a=[];e:{var o=wr.get(e);if(void 0!==o){var l=Xt,c=e;switch(e){case"keypress":if(0===qt(n))break e;case"keydown":case"keyup":l=mn;break;case"focusin":c="focus",l=sn;break;case"focusout":c="blur",l=sn;break;case"beforeblur":case"afterblur":l=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=gn;break;case fr:case mr:case pr:l=an;break;case br:l=yn;break;case"scroll":case"scrollend":l=en;break;case"wheel":l=vn;break;case"copy":case"cut":case"paste":l=on;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=pn;break;case"toggle":case"beforetoggle":l=bn}var u=0!==(4&t),h=!u&&("scroll"===e||"scrollend"===e),d=u?null!==o?o+"Capture":null:o;u=[];for(var f,m=r;null!==m;){var p=m;if(f=p.stateNode,5!==(p=p.tag)&&26!==p&&27!==p||null===f||null===d||null!=(p=Mt(m,d))&&u.push(Ou(m,p,f)),h)break;m=m.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===jt||!(c=n.relatedTarget||n.fromElement)||!We(c)&&!c[Ve])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?We(c):null)&&(h=M(c),u=c.tag,c!==h||5!==u&&27!==u&&6!==u)&&(c=null)):(l=null,c=r),l!==c)){if(u=nn,p="onMouseLeave",d="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=pn,p="onPointerLeave",d="onPointerEnter",m="pointer"),h=null==l?o:Qe(l),f=null==c?o:Qe(c),(o=new u(p,m+"leave",l,n,i)).target=h,o.relatedTarget=f,p=null,We(i)===r&&((u=new u(d,m+"enter",c,n,i)).target=f,u.relatedTarget=h,p=u),h=p,l&&c)e:{for(d=c,m=0,f=u=l;f;f=Fu(f))m++;for(f=0,p=d;p;p=Fu(p))f++;for(;0<m-f;)u=Fu(u),m--;for(;0<f-m;)d=Fu(d),f--;for(;m--;){if(u===d||null!==d&&u===d.alternate)break e;u=Fu(u),d=Fu(d)}u=null}else u=null;null!==l&&zu(a,o,l,u,!1),null!==c&&null!==h&&zu(a,h,c,u,!0)}if("select"===(l=(o=r?Qe(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Mn;else if(An(o))if(Fn)g=Wn;else{g=Hn;var y=qn}else!(l=o.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Tt(r.elementType)&&(g=Mn):g=Kn;switch(g&&(g=g(e,r))?Dn(a,g,n,i):(y&&y(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),y=r?Qe(r):window,e){case"focusin":(An(y)||"true"===y.contentEditable)&&(rr=y,ir=r,sr=null);break;case"focusout":sr=ir=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,or(a,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(a,n,i)}var v;if(xn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else _n?Cn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(En&&"ko"!==n.locale&&(_n||"onCompositionStart"!==b?"onCompositionEnd"===b&&_n&&(v=$t()):(Ut="value"in(Vt=i)?Vt.value:Vt.textContent,_n=!0)),0<(y=Mu(r,b)).length&&(b=new ln(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=In(n))&&(b.data=v))),(v=kn?function(e,t){switch(e){case"compositionend":return In(t);case"keypress":return 32!==t.which?null:(Tn=!0,Nn);case"textInput":return(e=t.data)===Nn&&Tn?null:e;default:return null}}(e,n):function(e,t){if(_n)return"compositionend"===e||!xn&&Cn(e,t)?(e=$t(),Bt=Ut=Vt=null,_n=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Mu(r,"onBeforeInput")).length&&(y=new ln("onBeforeInput","beforeinput",null,n,i),a.push({event:y,listeners:b}),y.data=v)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=ku((i[ze]||null).action),a=r.submitter;a&&null!==(t=(t=a[ze]||null)?ku(t.formAction):a.getAttribute("formAction"))&&(s=t,a=null);var o=new Xt("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==pu){var e=a?Eu(i,a):new FormData(i);ha(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=a?Eu(i,a):new FormData(i),ha(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(a,e,r,n,i)}_u(a,t)}))}function Ou(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Mt(e,n))&&r.unshift(Ou(e,i,s)),null!=(i=Mt(e,t))&&r.push(Ou(e,i,s))),e=e.return}return r}function Fu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function zu(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Mt(n,s))&&a.unshift(Ou(n,c,l)):i||null!=(c=Mt(n,s))&&a.push(Ou(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Vu=/\r\n?/g,Uu=/\u0000|\uFFFD/g;function Bu(e){return("string"===typeof e?e:""+e).replace(Vu,"\n").replace(Uu,"")}function $u(e,t){return t=Bu(t),Bu(e)===t}function qu(){}function Hu(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":ot(e,"class",r);break;case"tabIndex":ot(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ot(e,n,r);break;case"style":Nt(e,r,s);break;case"data":if("object"!==t){ot(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=_t(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&Hu(e,t,"name",i.name,i,null),Hu(e,t,"formEncType",i.formEncType,i,null),Hu(e,t,"formMethod",i.formMethod,i,null),Hu(e,t,"formTarget",i.formTarget,i,null)):(Hu(e,t,"encType",i.encType,i,null),Hu(e,t,"method",i.method,i,null),Hu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=_t(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=qu);break;case"onScroll":null!=r&&ju("scroll",e);break;case"onScrollEnd":null!=r&&ju("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=_t(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":ju("beforetoggle",e),ju("toggle",e),at(e,"popover",r);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":at(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&at(e,n=Ct.get(n)||n,r)}}function Ku(e,t,n,r,i,s){switch(n){case"style":Nt(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&ju("scroll",e);break;case"onScrollEnd":null!=r&&ju("scrollend",e);break;case"onClick":null!=r&&(e.onclick=qu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[ze]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):at(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function Wu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ju("error",e),ju("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Hu(e,t,r,o,n,null)}}return s&&Hu(e,t,"srcSet",n.srcSet,n,null),void(i&&Hu(e,t,"src",n.src,n,null));case"input":ju("invalid",e);var l=r=o=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":s=h;break;case"type":o=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:Hu(e,t,i,h,n,null)}}return yt(e,r,l,c,u,o,s,!1),void ht(e);case"select":for(s in ju("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:Hu(e,t,s,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(o in ju("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Hu(e,t,o,l,n,null)}return xt(e,i,s,r),void ht(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Hu(e,t,c,i,n,null);return;case"dialog":ju("cancel",e),ju("close",e);break;case"iframe":case"object":ju("load",e);break;case"video":case"audio":for(i=0;i<Cu.length;i++)ju(Cu[i],e);break;case"image":ju("error",e),ju("load",e);break;case"details":ju("toggle",e);break;case"embed":case"source":case"link":ju("error",e),ju("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Hu(e,t,u,i,n,null)}return;default:if(Tt(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&Ku(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Hu(e,t,l,i,n,null))}var Gu=null,Qu=null;function Yu(e){return 9===e.nodeType?e:e.ownerDocument}function Ju(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Zu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var eh=null;var th="function"===typeof setTimeout?setTimeout:void 0,nh="function"===typeof clearTimeout?clearTimeout:void 0,rh="function"===typeof Promise?Promise:void 0,ih="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof rh?function(e){return rh.resolve(null).then(e).catch(sh)}:th;function sh(e){setTimeout((function(){throw e}))}function ah(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void gd(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);gd(t)}function oh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":oh(n),Ke(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function lh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function ch(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function uh(e,t,n){switch(t=Yu(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}var hh=new Map,dh=new Set;function fh(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var mh=B.d;B.d={f:function(){var e=mh.f(),t=zc();return e||t},r:function(e){var t=Ge(e);null!==t&&5===t.tag&&"form"===t.type?fa(t):mh.r(e)},D:function(e){mh.D(e),gh("dns-prefetch",e,null)},C:function(e,t){mh.C(e,t),gh("preconnect",e,t)},L:function(e,t,n){mh.L(e,t,n);var r=ph;if(r&&e&&t){var i='link[rel="preload"][as="'+pt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+pt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+pt(n.imageSizes)+'"]')):i+='[href="'+pt(e)+'"]';var s=i;switch(t){case"style":s=vh(e);break;case"script":s=xh(e)}hh.has(s)||(e=A({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),hh.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(bh(s))||"script"===t&&r.querySelector(Sh(s))||(Wu(t=r.createElement("link"),"link",e),Je(t),r.head.appendChild(t)))}},m:function(e,t){mh.m(e,t);var n=ph;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+pt(r)+'"][href="'+pt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=xh(e)}if(!hh.has(s)&&(e=A({rel:"modulepreload",href:e},t),hh.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Sh(s)))return}Wu(r=n.createElement("link"),"link",e),Je(r),n.head.appendChild(r)}}},X:function(e,t){mh.X(e,t);var n=ph;if(n&&e){var r=Ye(n).hoistableScripts,i=xh(e),s=r.get(i);s||((s=n.querySelector(Sh(i)))||(e=A({src:e,async:!0},t),(t=hh.get(i))&&Th(e,t),Je(s=n.createElement("script")),Wu(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){mh.S(e,t,n);var r=ph;if(r&&e){var i=Ye(r).hoistableStyles,s=vh(e);t=t||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(bh(s)))o.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":t},n),(n=hh.get(s))&&Nh(e,n);var l=a=r.createElement("link");Je(l),Wu(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){o.loading|=1})),l.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,Eh(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}},M:function(e,t){mh.M(e,t);var n=ph;if(n&&e){var r=Ye(n).hoistableScripts,i=xh(e),s=r.get(i);s||((s=n.querySelector(Sh(i)))||(e=A({src:e,async:!0,type:"module"},t),(t=hh.get(i))&&Th(e,t),Je(s=n.createElement("script")),Wu(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var ph="undefined"===typeof document?null:document;function gh(e,t,n){var r=ph;if(r&&"string"===typeof t&&t){var i=pt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),dh.has(i)||(dh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(Wu(t=r.createElement("link"),"link",e),Je(t),r.head.appendChild(t)))}}function yh(e,t,n,r){var i,s,o,l,c=(c=J.current)?fh(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=vh(n.href),(r=(n=Ye(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=vh(n.href);var u=Ye(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(bh(e)))&&!u._p&&(h.instance=u,h.state.loading=5),hh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},hh.set(e,n),u||(i=c,s=e,o=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",(function(){return l.loading|=1})),s.addEventListener("error",(function(){return l.loading|=2})),Wu(s,"link",o),Je(s),i.head.appendChild(s))))),t&&null===r)throw Error(a(528,""));return h}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=xh(n),(r=(n=Ye(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function vh(e){return'href="'+pt(e)+'"'}function bh(e){return'link[rel="stylesheet"]['+e+"]"}function wh(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function xh(e){return'[src="'+pt(e)+'"]'}function Sh(e){return"script[async]"+e}function kh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+pt(n.href)+'"]');if(r)return t.instance=r,Je(r),r;var i=A({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Je(r=(e.ownerDocument||e).createElement("style")),Wu(r,"style",i),Eh(r,n.precedence,e),t.instance=r;case"stylesheet":i=vh(n.href);var s=e.querySelector(bh(i));if(s)return t.state.loading|=4,t.instance=s,Je(s),s;r=wh(n),(i=hh.get(i))&&Nh(r,i),Je(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),Wu(s,"link",r),t.state.loading|=4,Eh(s,n.precedence,e),t.instance=s;case"script":return s=xh(n.src),(i=e.querySelector(Sh(s)))?(t.instance=i,Je(i),i):(r=n,(i=hh.get(s))&&Th(r=A({},n),i),Je(i=(e=e.ownerDocument||e).createElement("script")),Wu(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Eh(r,n.precedence,e));return t.instance}function Eh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Nh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Th(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ch=null;function Ih(e,t,n){if(null===Ch){var r=new Map,i=Ch=new Map;i.set(n,r)}else(r=(i=Ch).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[He]||s[Fe]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function _h(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function jh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Ah=null;function Dh(){}function Lh(){if(this.count--,0===this.count)if(this.stylesheets)Rh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Ph=null;function Rh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Ph=new Map,t.forEach(Oh,e),Ph=null,Lh.call(e))}function Oh(e,t){if(!(4&t.state.loading)){var n=Ph.get(e);if(n)var r=n.get(null);else{n=new Map,Ph.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(s=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=Lh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Mh={$$typeof:g,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function Fh(e,t,n,r,i,s,a,o){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function zh(e,t,n,r,i,s,a,o,l,c,u,h){return e=new Fh(e,t,n,a,o,l,c,h),t=1,!0===s&&(t|=24),s=Ol(3,null,null,t),e.current=s,s.stateNode=e,(t=Ui()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},jo(s),e}function Vh(e){return e?e=Dr:Dr}function Uh(e,t,n,r,i,s){i=Vh(i),null===r.context?r.context=i:r.pendingContext=i,(r=Do(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=Lo(e,r,t))&&(Lc(n,0,t),Po(n,e,t))}function Bh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $h(e,t){Bh(e,t),(e=e.alternate)&&Bh(e,t)}function qh(e){if(13===e.tag){var t=_r(e,67108864);null!==t&&Lc(t,0,67108864),$h(e,67108864)}}var Hh=!0;function Kh(e,t,n,r){var i=j.T;j.T=null;var s=B.p;try{B.p=2,Gh(e,t,n,r)}finally{B.p=s,j.T=i}}function Wh(e,t,n,r){var i=j.T;j.T=null;var s=B.p;try{B.p=8,Gh(e,t,n,r)}finally{B.p=s,j.T=i}}function Gh(e,t,n,r){if(Hh){var i=Qh(r);if(null===i)Ru(e,t,r,Yh,n),od(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return ed=ld(ed,e,t,n,r,i),!0;case"dragenter":return td=ld(td,e,t,n,r,i),!0;case"mouseover":return nd=ld(nd,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return rd.set(s,ld(rd.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,id.set(s,ld(id.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(od(e,r),4&t&&-1<ad.indexOf(e)){for(;null!==i;){var s=Ge(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=Ne(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-we(a);o.entanglements[1]|=l,a&=~l}gu(s),0===(6&tc)&&(xc=le()+500,yu(0,!1))}}break;case 13:null!==(o=_r(s,2))&&Lc(o,0,2),zc(),$h(s,2)}if(null===(s=Qh(r))&&Ru(e,t,r,Yh,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Ru(e,t,r,null,n)}}function Qh(e){return Jh(e=At(e))}var Yh=null;function Jh(e){if(Yh=null,null!==(e=We(e))){var t=M(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=F(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Yh=e,null}function Xh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case he:return 8;case de:case fe:return 32;case me:return 268435456;default:return 32}default:return 32}}var Zh=!1,ed=null,td=null,nd=null,rd=new Map,id=new Map,sd=[],ad="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function od(e,t){switch(e){case"focusin":case"focusout":ed=null;break;case"dragenter":case"dragleave":td=null;break;case"mouseover":case"mouseout":nd=null;break;case"pointerover":case"pointerout":rd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":id.delete(t.pointerId)}}function ld(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Ge(t))&&qh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function cd(e){var t=We(e.target);if(null!==t){var n=M(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=F(n)))return e.blockedOn=t,void function(e,t){var n=B.p;try{return B.p=e,t()}finally{B.p=n}}(e.priority,(function(){if(13===n.tag){var e=Ac(),t=_r(n,e);null!==t&&Lc(t,0,e),$h(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function ud(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qh(e.nativeEvent);if(null!==n)return null!==(t=Ge(n))&&qh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);jt=r,n.target.dispatchEvent(r),jt=null,t.shift()}return!0}function hd(e,t,n){ud(e)&&n.delete(t)}function dd(){Zh=!1,null!==ed&&ud(ed)&&(ed=null),null!==td&&ud(td)&&(td=null),null!==nd&&ud(nd)&&(nd=null),rd.forEach(hd),id.forEach(hd)}function fd(e,t){e.blockedOn===t&&(e.blockedOn=null,Zh||(Zh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dd)))}var md=null;function pd(e){md!==e&&(md=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){md===e&&(md=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Jh(r||n))continue;break}var s=Ge(n);null!==s&&(e.splice(t,3),t-=3,ha(s,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function gd(e){function t(t){return fd(t,e)}null!==ed&&fd(ed,e),null!==td&&fd(td,e),null!==nd&&fd(nd,e),rd.forEach(t),id.forEach(t);for(var n=0;n<sd.length;n++){var r=sd[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<sd.length&&null===(n=sd[0]).blockedOn;)cd(n),null===n.blockedOn&&sd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[ze]||null;if("function"===typeof s)a||pd(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[ze]||null)o=a.formAction;else if(null!==Jh(i))continue}else o=a.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),pd(n)}}}function yd(e){this._internalRoot=e}function vd(e){this._internalRoot=e}vd.prototype.render=yd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Uh(t.current,Ac(),e,t,null,null)},vd.prototype.unmount=yd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&nu(),Uh(e.current,2,null,e,null,null),zc(),t[Ve]=null}},vd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sd.length&&0!==t&&t<sd[n].priority;n++);sd.splice(n,0,e),0===n&&cd(e)}};var bd=i.version;if("19.0.0"!==bd)throw Error(a(527,bd,"19.0.0"));B.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=M(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return z(i),e;if(s===r)return z(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?V(e):null)?null:e.stateNode};var wd={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:j,findFiberByHostInstance:We,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xd.isDisabled&&xd.supportsFiber)try{ye=xd.inject(wd),ve=xd}catch(kd){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,r="",i=Ra,s=Oa,l=Ma;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=zh(e,1,!1,null,0,n,r,i,s,l,0,null),e[Ve]=t.current,Lu(8===e.nodeType?e.parentNode:e),new yd(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var r=!1,i="",s=Ra,l=Oa,c=Ma,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=zh(e,1,!0,t,0,r,i,s,l,c,0,u)).context=Vh(null),n=t.current,(i=Do(r=Ac())).callback=null,Lo(n,i,r),t.current.lanes=r,De(t,r),gu(t),e[Ve]=t.current,Lu(e),new vd(t)},t.version="19.0.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,p(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function E(e,t,r,i,s,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(){}function _(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return _((u=e._init)(e._payload),t,i,s,a)}}if(u)return a=a(e),u=""===s?"."+C(e,0):s,x(a)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),_(a,t,i,"",(function(e){return e}))):null!=a&&(N(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+u,a=E(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var h,m=""===s?".":s+":";if(x(e))for(var p=0;p<e.length;p++)u+=_(s=e[p],t,i,o=m+C(s,p),a);else if("function"===typeof(p=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=f&&h[f]||h["@@iterator"])?h:null))for(e=p.call(e),p=0;!(s=e.next()).done;)u+=_(s=s.value,t,i,o=m+C(s,p++),a);else if("object"===o){if("function"===typeof e.then)return _(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(I,I):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function j(e,t,n){if(null==e)return e;var r=[],i=0;return _(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function L(){}t.Children={map:j,forEach:function(e,t,n){j(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return j(e,(function(){t++})),t},toArray:function(e){return j(e,(function(e){return e}))||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=p({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!k.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];r.children=a}return E(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return E(e,s,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(L,D)}catch(s){D(s)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return S.H.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.0.0"},358:(e,t)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,m=!1,p=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!p)if(null!==r(c))p=!0,A();else{var t=r(u);null!==t&&D(x,t.startTime-e)}}var S,k=!1,E=-1,N=5,T=-1;function C(){return!(t.unstable_now()-T<N)}function I(){if(k){var e=t.unstable_now();T=e;var n=!0;try{e:{p=!1,g&&(g=!1,v(E),E=-1),m=!0;var s=f;try{t:{for(w(e),d=r(c);null!==d&&!(d.expirationTime>e&&C());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){d.callback=o,w(e),n=!0;break t}d===r(c)&&i(c),w(e)}else i(c);d=r(c)}if(null!==d)n=!0;else{var l=r(u);null!==l&&D(x,l.startTime-e),n=!1}}break e}finally{d=null,f=s,m=!1}n=void 0}}finally{n?S():k=!1}}}if("function"===typeof b)S=function(){b(I)};else if("undefined"!==typeof MessageChannel){var _=new MessageChannel,j=_.port2;_.port1.onmessage=I,S=function(){j.postMessage(null)}}else S=function(){y(I,0)};function A(){k||(k=!0,S())}function D(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,A())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(E),E=-1):g=!0,D(x,s-a))):(e.sortIndex=o,n(c,e),p||m||(p=!0,A())),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".8ab44547.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){o=h;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var d=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,a=r[0],o=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkfrontend=self.webpackChunkfrontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),i=n(391),s=(n(358),"popstate");function a(){return f((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=d(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),u("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:h(t))}),(function(e,t){l("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)}),arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?d(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function f(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,d="POP",f=null,m=p();function p(){return(l.state||{idx:null}).idx}function g(){d="POP";let e=p(),t=null==e?null:e-m;m=e,f&&f({action:d,location:v.location,delta:t})}function y(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),o(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==m&&(m=0,l.replaceState({...l.state,idx:m},""));let v={get action(){return d},get location(){return e(i,l)},listen(e){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(s,g),f=e,()=>{i.removeEventListener(s,g),f=null}},createHref:e=>t(i,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){d="PUSH";let r=u(v.location,e,t);n&&n(r,e),m=p()+1;let s=c(r,m),o=v.createHref(r);try{l.pushState(s,"",o)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;i.location.assign(o)}a&&f&&f({action:d,location:v.location,delta:1})},replace:function(e,t){d="REPLACE";let r=u(v.location,e,t);n&&n(r,e),m=p();let i=c(r,m),s=v.createHref(r);l.replaceState(i,"",s),a&&f&&f({action:d,location:v.location,delta:0})},go:e=>l.go(e)};return v}new WeakMap;function m(e,t){return p(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function p(e,t,n,r){let i=_(("string"===typeof t?d(t):t).pathname||"/",n);if(null==i)return null;let s=g(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=I(i);a=T(s[o],e,r)}return a}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(o(a.relativePath.startsWith(r),`Absolute route path "${a.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(r.length));let l=P([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(o(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),g(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:N(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of y(e.path))i(e,t,n);else i(e,t)})),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=y(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var v=/^:[\w-]+$/,b=3,w=2,x=1,S=10,k=-2,E=e=>"*"===e;function N(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=k),t&&(r+=w),n.filter((e=>!E(e))).reduce(((e,t)=>e+(v.test(t)?b:""===t?x:S)),r)}function T(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=C({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=C({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:P([s,u.pathname]),pathnameBase:R(P([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=P([s,u.pathnameBase]))}return a}function C(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];l("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function I(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return l(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function _(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function j(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function A(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function D(e){let t=A(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function L(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=d(e):(r={...e},o(!r.pathname||!r.pathname.includes("?"),j("?","pathname","search",r)),o(!r.pathname||!r.pathname.includes("#"),j("#","pathname","hash",r)),o(!r.search||!r.search.includes("#"),j("#","search","hash",r)));let s,a=""===e||""===r.pathname,l=a?"/":r.pathname;if(null==l)s=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?d(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:O(r),hash:M(i)}}(r,s),u=l&&"/"!==l&&l.endsWith("/"),h=(a||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}var P=e=>e.join("/").replace(/\/\/+/g,"/"),R=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),O=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function F(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var z=["POST","PUT","PATCH","DELETE"],V=(new Set(z),["GET",...z]);new Set(V),Symbol("ResetLoaderData");var U=r.createContext(null);U.displayName="DataRouter";var B=r.createContext(null);B.displayName="DataRouterState";var $=r.createContext({isTransitioning:!1});$.displayName="ViewTransition";var q=r.createContext(new Map);q.displayName="Fetchers";var H=r.createContext(null);H.displayName="Await";var K=r.createContext(null);K.displayName="Navigation";var W=r.createContext(null);W.displayName="Location";var G=r.createContext({outlet:null,matches:[],isDataRoute:!1});G.displayName="Route";var Q=r.createContext(null);Q.displayName="RouteError";function Y(){return null!=r.useContext(W)}function J(){return o(Y(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(W).location}var X="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z(e){r.useContext(K).static||r.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=r.useContext(G);return e?function(){let{router:e}=ce("useNavigate"),t=he("useNavigate"),n=r.useRef(!1);Z((()=>{n.current=!0}));let i=r.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(n.current,X),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))}),[e,t]);return i}():function(){o(Y(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(U),{basename:t,navigator:n}=r.useContext(K),{matches:i}=r.useContext(G),{pathname:s}=J(),a=JSON.stringify(D(i)),c=r.useRef(!1);Z((()=>{c.current=!0}));let u=r.useCallback((function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(l(c.current,X),!c.current)return;if("number"===typeof r)return void n.go(r);let o=L(r,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:P([t,o.pathname])),(i.replace?n.replace:n.push)(o,i.state,i)}),[t,n,a,s,e]);return u}()}r.createContext(null);function te(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(G),{pathname:i}=J(),s=JSON.stringify(D(n));return r.useMemo((()=>L(e,JSON.parse(s),i,"path"===t)),[e,s,i,t])}function ne(e,t,n,i){o(Y(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=r.useContext(K),{matches:c}=r.useContext(G),u=c[c.length-1],h=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let e=g&&g.path||"";me(f,!g||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let y,v=J();if(t){let e="string"===typeof t?d(t):t;o("/"===p||e.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${e.pathname}" was given in the \`location\` prop.`),y=e}else y=v;let b=y.pathname||"/",w=b;if("/"!==p){let e=p.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=!a&&n&&n.matches&&n.matches.length>0?n.matches:m(e,{pathname:w});l(g||null!=x,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),l(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=oe(x&&x.map((e=>Object.assign({},e,{params:Object.assign({},h,e.params),pathname:P([p,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:P([p,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),c,n,i);return t&&S?r.createElement(W.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},S):S}function re(){let e=de(),t=F(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:a},"ErrorBoundary")," or"," ",r.createElement("code",{style:a},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,o)}var ie=r.createElement(re,null),se=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(G.Provider,{value:this.props.routeContext},r.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ae(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext(U);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(G.Provider,{value:t},i)}function oe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,s=n?.errors;if(null!=s){let e=i.findIndex((e=>e.route.id&&void 0!==s?.[e.route.id]));o(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let a=!1,l=-1;if(n)for(let r=0;r<i.length;r++){let e=i[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){a=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}return i.reduceRight(((e,o,c)=>{let u,h=!1,d=null,f=null;n&&(u=s&&o.route.id?s[o.route.id]:void 0,d=o.route.errorElement||ie,a&&(l<0&&0===c?(me("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):l===c&&(h=!0,f=o.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,c+1)),p=()=>{let t;return t=u?d:h?f:o.route.Component?r.createElement(o.route.Component,null):o.route.element?o.route.element:e,r.createElement(ae,{match:o,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===c)?r.createElement(se,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()}),null)}function le(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ce(e){let t=r.useContext(U);return o(t,le(e)),t}function ue(e){let t=r.useContext(B);return o(t,le(e)),t}function he(e){let t=function(e){let t=r.useContext(G);return o(t,le(e)),t}(e),n=t.matches[t.matches.length-1];return o(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function de(){let e=r.useContext(Q),t=ue("useRouteError"),n=he("useRouteError");return void 0!==e?e:t.errors?.[n]}var fe={};function me(e,t,n){t||fe[e]||(fe[e]=!0,l(!1,n))}r.memo((function(e){let{routes:t,future:n,state:r}=e;return ne(t,void 0,r,n)}));function pe(e){let{to:t,replace:n,state:i,relative:s}=e;o(Y(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=r.useContext(K);l(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=r.useContext(G),{pathname:u}=J(),h=ee(),d=L(t,D(c),u,"path"===s),f=JSON.stringify(d);return r.useEffect((()=>{h(JSON.parse(f),{replace:n,state:i,relative:s})}),[h,f,s,n,i]),null}function ge(e){o(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ye(e){let{basename:t="/",children:n=null,location:i,navigationType:s="POP",navigator:a,static:c=!1}=e;o(!Y(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=r.useMemo((()=>({basename:u,navigator:a,static:c,future:{}})),[u,a,c]);"string"===typeof i&&(i=d(i));let{pathname:f="/",search:m="",hash:p="",state:g=null,key:y="default"}=i,v=r.useMemo((()=>{let e=_(f,u);return null==e?null:{location:{pathname:e,search:m,hash:p,state:g,key:y},navigationType:s}}),[u,f,m,p,g,y,s]);return l(null!=v,`<Router basename="${u}"> is not able to match the URL "${f}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),null==v?null:r.createElement(K.Provider,{value:h},r.createElement(W.Provider,{children:n,value:v}))}function ve(e){let{children:t,location:n}=e;return ne(be(t),n)}r.Component;function be(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,be(e.props.children,s));o(e.type===ge,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),o(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=be(e.props.children,s)),n.push(a)})),n}var we="get",xe="application/x-www-form-urlencoded";function Se(e){return null!=e&&"string"===typeof e.tagName}var ke=null;var Ee=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ne(e){return null==e||Ee.has(e)?e:(l(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xe}"`),null)}function Te(e,t){let n,r,i,s,a;if(Se(o=e)&&"form"===o.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?_(a,t):null,n=e.getAttribute("method")||we,i=Ne(e.getAttribute("enctype"))||xe,s=new FormData(e)}else if(function(e){return Se(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Se(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(r=o?_(o,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||we,i=Ne(e.getAttribute("formenctype"))||Ne(a.getAttribute("enctype"))||xe,s=new FormData(a,e),!function(){if(null===ke)try{new FormData(document.createElement("form"),0),ke=!1}catch(e){ke=!0}return ke}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";s.append(`${e}x`,"0"),s.append(`${e}y`,"0")}else t&&s.append(t,r)}}else{if(Se(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=we,r=null,i=xe,a=e}var o;return s&&"text/plain"===i&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}function Ce(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Ie(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function _e(e){return null!=e&&"string"===typeof e.page}function je(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ae(e,t,n,r,i,s){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===s?t.filter(((e,t)=>a(e,t)||o(e,t))):"data"===s?t.filter(((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function De(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function Le(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!_e(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e}),[])}function Pe(e){return{__html:e}}Symbol("SingleFetchRedirect");function Re(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===_(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}r.Component;function Oe(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let i,s=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(F(t))return r.createElement(Me,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)i=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);i=new Error(e)}return r.createElement(Me,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),s)}function Me(e){let{title:t,renderScripts:n,isOutsideRemixApp:i,children:s}=e,{routeModules:a}=Be();return a.root?.Layout&&!i?s:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,t)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,n?r.createElement(Qe,null):null)))}function Fe(e){return!0===e}function ze(){let e=r.useContext(U);return Ce(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ve(){let e=r.useContext(B);return Ce(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ue=r.createContext(void 0);function Be(){let e=r.useContext(Ue);return Ce(e,"You must render this element inside a <HydratedRouter> element"),e}function $e(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function qe(e,t,n){if(n&&!Ge)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function He(e){let{page:t,...n}=e,{router:i}=ze(),s=r.useMemo((()=>m(i.routes,t,i.basename)),[i.routes,t,i.basename]);return s?r.createElement(We,{page:t,matches:s,...n}):null}function Ke(e){let{manifest:t,routeModules:n}=Be(),[i,s]=r.useState([]);return r.useEffect((()=>{let r=!1;return async function(e,t,n){return Le((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Ie(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(je).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,t,n).then((e=>{r||s(e)})),()=>{r=!0}}),[e,t,n]),i}function We(e){let{page:t,matches:n,...i}=e,s=J(),{manifest:a,routeModules:o}=Be(),{basename:l}=ze(),{loaderData:c,matches:u}=Ve(),h=r.useMemo((()=>Ae(t,n,u,a,s,"data")),[t,n,u,a,s]),d=r.useMemo((()=>Ae(t,n,u,a,s,"assets")),[t,n,u,a,s]),f=r.useMemo((()=>{if(t===s.pathname+s.search+s.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{let n=a.routes[t.route.id];n&&n.hasLoader&&(!h.some((e=>e.route.id===t.route.id))&&t.route.id in c&&o[t.route.id]?.shouldRevalidate||n.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let i=Re(t,l);return r&&e.size>0&&i.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[l,c,s,a,h,n,t,o]),m=r.useMemo((()=>De(d,a)),[d,a]),p=Ke(d);return r.createElement(r.Fragment,null,f.map((e=>r.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...i}))),m.map((e=>r.createElement("link",{key:e,rel:"modulepreload",href:e,...i}))),p.map((e=>{let{key:t,link:n}=e;return r.createElement("link",{key:t,...n})})))}Ue.displayName="FrameworkContext";var Ge=!1;function Qe(e){let{manifest:t,serverHandoffString:n,isSpaMode:i,ssr:s,renderMeta:a}=Be(),{router:o,static:l,staticContext:c}=ze(),{matches:u}=Ve(),h=Fe(s);a&&(a.didRenderScripts=!0);let d=qe(u,null,i);r.useEffect((()=>{Ge=!0}),[]);let f=r.useMemo((()=>{let i=c?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",s=l?`${t.hmr?.runtime?`import ${JSON.stringify(t.hmr.runtime)};`:""}${h?"":`import ${JSON.stringify(t.url)}`};\n${d.map(((e,n)=>{let r=`route${n}`,i=t.routes[e.route.id];Ce(i,`Route ${e.route.id} not found in manifest`);let{clientActionModule:s,clientLoaderModule:a,hydrateFallbackModule:o,module:l}=i,c=[...s?[{module:s,varName:`${r}_clientAction`}]:[],...a?[{module:a,varName:`${r}_clientLoader`}]:[],...o?[{module:o,varName:`${r}_HydrateFallback`}]:[],{module:l,varName:`${r}_main`}];return 1===c.length?`import * as ${r} from ${JSON.stringify(l)};`:[c.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${c.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${h?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let n=new Set(t.state.matches.map((e=>e.route.id))),r=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(r.pop();r.length>0;)i.push(`/${r.join("/")}`),r.pop();i.forEach((e=>{let r=m(t.routes,e,t.basename);r&&r.forEach((e=>n.add(e.route.id)))}));let s=[...n].reduce(((t,n)=>Object.assign(t,{[n]:e.routes[n]})),{});return{...e,routes:s}}(t,o),null,2)};`:""}\n  window.__reactRouterRouteModules = {${d.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(t.entry.module)});`:" ";return r.createElement(r.Fragment,null,r.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Pe(i),type:void 0}),r.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Pe(s),type:"module",async:!0}))}),[]),p=Ge?[]:t.entry.imports.concat(De(d,t,{includeHydrateFallback:!0}));return Ge?null:r.createElement(r.Fragment,null,h?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin}),(g=p,[...new Set(g)]).map((t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin}))),f);var g}function Ye(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var Je="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Je&&(window.__reactRouterVersion="7.3.0")}catch(Cg){}function Xe(e){let{basename:t,children:n,window:i}=e,s=r.useRef();null==s.current&&(s.current=a({window:i,v5Compat:!0}));let o=s.current,[l,c]=r.useState({action:o.action,location:o.location}),u=r.useCallback((e=>{r.startTransition((()=>c(e)))}),[c]);return r.useLayoutEffect((()=>o.listen(u)),[o,u]),r.createElement(ye,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o})}var Ze=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=r.forwardRef((function(e,t){let n,{onClick:i,discover:s="render",prefetch:a="none",relative:c,reloadDocument:u,replace:d,state:f,target:m,to:p,preventScrollReset:g,viewTransition:y,...v}=e,{basename:b}=r.useContext(K),w="string"===typeof p&&Ze.test(p),x=!1;if("string"===typeof p&&w&&(n=p,Je))try{let e=new URL(window.location.href),t=p.startsWith("//")?new URL(e.protocol+p):new URL(p),n=_(t.pathname,b);t.origin===e.origin&&null!=n?p=n+t.search+t.hash:x=!0}catch(Cg){l(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(Y(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(K),{hash:s,pathname:a,search:l}=te(e,{relative:t}),c=a;return"/"!==n&&(c="/"===a?n:P([n,a])),i.createHref({pathname:c,search:l,hash:s})}(p,{relative:c}),[k,E,N]=function(e,t){let n=r.useContext(Ue),[i,s]=r.useState(!1),[a,o]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=t,f=r.useRef(null);r.useEffect((()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),r.useEffect((()=>{if(i){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let m=()=>{s(!0)},p=()=>{s(!1),o(!1)};return n?"intent"!==e?[a,f,{}]:[a,f,{onFocus:$e(l,m),onBlur:$e(c,p),onMouseEnter:$e(u,m),onMouseLeave:$e(h,p),onTouchStart:$e(d,m)}]:[!1,f,{}]}(a,v),T=function(e){let{target:t,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ee(),c=J(),u=te(e,{relative:a});return r.useCallback((r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:h(c)===h(u);l(e,{replace:t,state:i,preventScrollReset:s,relative:a,viewTransition:o})}}),[c,l,u,n,i,t,e,s,a,o])}(p,{replace:d,state:f,target:m,preventScrollReset:g,relative:c,viewTransition:y});let C=r.createElement("a",{...v,...N,href:n||S,onClick:x||u?i:function(e){i&&i(e),e.defaultPrevented||T(e)},ref:Ye(t,E),target:m,"data-discover":w||"render"!==s?void 0:"true"});return k&&!w?r.createElement(r.Fragment,null,C,r.createElement(He,{page:S})):C}));et.displayName="Link",r.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:u,children:h,...d}=e,f=te(c,{relative:d.relative}),m=J(),p=r.useContext(B),{navigator:g,basename:y}=r.useContext(K),v=null!=p&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext($);o(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=rt("useViewTransitionState"),s=te(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=_(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=_(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=C(s.pathname,l)||null!=C(s.pathname,a)}(f)&&!0===u,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=m.pathname,x=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(w=w.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase()),x&&y&&(x=_(x,y)||x);const S="/"!==b&&b.endsWith("/")?b.length-1:b.length;let k,E=w===b||!a&&w.startsWith(b)&&"/"===w.charAt(S),N=null!=x&&(x===b||!a&&x.startsWith(b)&&"/"===x.charAt(b.length)),T={isActive:E,isPending:N,isTransitioning:v},I=E?n:void 0;k="function"===typeof s?s(T):[s,E?"active":null,N?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let j="function"===typeof l?l(T):l;return r.createElement(et,{...d,"aria-current":I,className:k,ref:t,style:j,to:c,viewTransition:u},"function"===typeof h?h(T):h)})).displayName="NavLink";var tt=r.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:i,navigate:s,reloadDocument:a,replace:l,state:c,method:u=we,action:d,onSubmit:f,relative:m,preventScrollReset:p,viewTransition:g,...y}=e,v=at(),b=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(K),i=r.useContext(G);o(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...te(e||".",{relative:t})},l=J();if(null==e){a.search=l.search;let e=new URLSearchParams(a.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();a.search=n?`?${n}`:""}}e&&"."!==e||!s.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:P([n,a.pathname]));return h(a)}(d,{relative:m}),w="get"===u.toLowerCase()?"get":"post",x="string"===typeof d&&Ze.test(d);return r.createElement("form",{ref:t,method:w,action:b,onSubmit:a?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||u;v(t||e.currentTarget,{fetcherKey:i,method:n,navigate:s,replace:l,state:c,relative:m,preventScrollReset:p,viewTransition:g})},...y,"data-discover":x||"render"!==n?void 0:"true"})}));function nt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rt(e){let t=r.useContext(U);return o(t,nt(e)),t}tt.displayName="Form";var it=0,st=()=>`__${String(++it)}__`;function at(){let{router:e}=rt("useSubmit"),{basename:t}=r.useContext(K),n=he("useRouteId");return r.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:a,encType:o,formData:l,body:c}=Te(r,t);if(!1===i.navigate){let t=i.fetcherKey||st();await e.fetch(t,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,t,n])}new TextEncoder;class ot{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Network Error";this.status=e,this.text=t}}const lt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!==typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},ct=e=>e?"string"===typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},ut=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=await fetch(lt.origin+e,{method:"POST",headers:n,body:t}),i=await r.text(),s=new ot(r.status,i);if(r.ok)return s;throw s},ht=(e,t,n)=>{if(!e||"string"!==typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!==typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||"string"!==typeof n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},dt=e=>e.webdriver||!e.languages||0===e.languages.length,ft=()=>new ot(451,"Unavailable For Headless Browser"),mt=(e,t)=>{if((e=>!e.list?.length||!e.watchVariable)(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!==typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const n=((e,t)=>e instanceof FormData?e.get(t):e[t])(t,e.watchVariable);return"string"===typeof n&&e.list.includes(n)},pt=()=>new ot(403,"Forbidden"),gt=async(e,t,n)=>{if(!t.throttle||!n)return!1;((e,t)=>{if("number"!==typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!==typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);const r=t.id||e,i=await(async(e,t,n)=>{const r=Number(await n.get(e)||0);return t-Date.now()+r})(r,t.throttle,n);return i>0||(await n.set(r,Date.now().toString()),!1)},yt=()=>new ot(429,"Too Many Requests"),vt=async(e,t,n,r)=>{const i=ct(r),s=i.publicKey||lt.publicKey,a=i.blockHeadless||lt.blockHeadless,o=lt.storageProvider||i.storageProvider,l={...lt.blockList,...i.blockList},c={...lt.limitRate,...i.limitRate};if(a&&dt(navigator))return Promise.reject(ft());const u=(e=>"string"===typeof e?document.querySelector(e):e)(n);ht(s,e,t),(e=>{if(!e||"FORM"!==e.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"})(u);const h=new FormData(u);return mt(l,h)?Promise.reject(pt()):await gt(location.pathname,c,o)?Promise.reject(yt()):(h.append("lib_version","4.4.1"),h.append("service_id",e),h.append("template_id",t),h.append("user_id",s),ut("/api/v1.0/email/send-form",h))},bt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},wt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(bt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new xt;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class xt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const St=function(e){return function(e){const t=bt(e);return wt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},kt=function(e){try{return wt.decodeString(e,!0)}catch(Cg){console.error("base64Decode failed: ",Cg)}return null};const Et=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Nt=()=>{try{return Et()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ADMIN_PASSWORD:"admin123"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Cg){return}const t=e&&kt(e[1]);return t&&JSON.parse(t)})()}catch(Cg){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Cg}`)}},Tt=e=>{const t=(e=>{var t,n;return null===(n=null===(t=Nt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ct=()=>{var e;return null===(e=Nt())||void 0===e?void 0:e.config};class It{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function _t(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function jt(){return!function(){var e;const t=null===(e=Nt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Cg){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function At(){try{return"object"===typeof indexedDB}catch(Cg){return!1}}class Dt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Dt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lt.prototype.create)}}class Lt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Pt,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new Dt(n,s,t)}}const Pt=/\{\$([^}]+)}/g;function Rt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Ot(n)&&Ot(s)){if(!Rt(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ot(e){return null!==e&&"object"===typeof e}function Mt(e){return e&&e._delegate?e._delegate:e}class Ft{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const zt="[DEFAULT]";class Vt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new It;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Cg){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Cg){if(r)return null;throw Cg}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:zt})}catch(Cg){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Cg){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===zt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt;return this.component?this.component.multipleInstances?e:zt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ut{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Vt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Bt=[];var $t;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}($t||($t={}));const qt={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},Ht=$t.INFO,Kt={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},Wt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Kt[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...s)};class Gt{constructor(e){this.name=e,this._logLevel=Ht,this._logHandler=Wt,this._userLogHandler=null,Bt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $t))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?qt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...t),this._logHandler(this,$t.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...t),this._logHandler(this,$t.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$t.INFO,...t),this._logHandler(this,$t.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$t.WARN,...t),this._logHandler(this,$t.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...t),this._logHandler(this,$t.ERROR,...t)}}let Qt,Yt;const Jt=new WeakMap,Xt=new WeakMap,Zt=new WeakMap,en=new WeakMap,tn=new WeakMap;let nn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Xt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Zt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return an(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function rn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Yt||(Yt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(on(this),n),an(Jt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return an(e.apply(on(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(on(this),t,...r);return Zt.set(s,t.sort?t.sort():[t]),an(s)}}function sn(e){return"function"===typeof e?rn(e):(e instanceof IDBTransaction&&function(e){if(Xt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Xt.set(e,t)}(e),t=e,(Qt||(Qt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,nn):e);var t}function an(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(an(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Jt.set(t,e)})).catch((()=>{})),tn.set(t,e),t}(e);if(en.has(e))return en.get(e);const t=sn(e);return t!==e&&(en.set(e,t),tn.set(t,e)),t}const on=e=>tn.get(e);const ln=["get","getKey","getAll","getAllKeys","count"],cn=["put","add","delete","clear"],un=new Map;function hn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(un.get(t))return un.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=cn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ln.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return un.set(t,s),s}nn=(e=>({...e,get:(t,n,r)=>hn(t,n)||e.get(t,n,r),has:(t,n)=>!!hn(t,n)||e.has(t,n)}))(nn);class dn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const fn="@firebase/app",mn="0.11.4",pn=new Gt("@firebase/app"),gn="@firebase/app-compat",yn="@firebase/analytics-compat",vn="@firebase/analytics",bn="@firebase/app-check-compat",wn="@firebase/app-check",xn="@firebase/auth",Sn="@firebase/auth-compat",kn="@firebase/database",En="@firebase/data-connect",Nn="@firebase/database-compat",Tn="@firebase/functions",Cn="@firebase/functions-compat",In="@firebase/installations",_n="@firebase/installations-compat",jn="@firebase/messaging",An="@firebase/messaging-compat",Dn="@firebase/performance",Ln="@firebase/performance-compat",Pn="@firebase/remote-config",Rn="@firebase/remote-config-compat",On="@firebase/storage",Mn="@firebase/storage-compat",Fn="@firebase/firestore",zn="@firebase/vertexai",Vn="@firebase/firestore-compat",Un="firebase",Bn="[DEFAULT]",$n={[fn]:"fire-core",[gn]:"fire-core-compat",[vn]:"fire-analytics",[yn]:"fire-analytics-compat",[wn]:"fire-app-check",[bn]:"fire-app-check-compat",[xn]:"fire-auth",[Sn]:"fire-auth-compat",[kn]:"fire-rtdb",[En]:"fire-data-connect",[Nn]:"fire-rtdb-compat",[Tn]:"fire-fn",[Cn]:"fire-fn-compat",[In]:"fire-iid",[_n]:"fire-iid-compat",[jn]:"fire-fcm",[An]:"fire-fcm-compat",[Dn]:"fire-perf",[Ln]:"fire-perf-compat",[Pn]:"fire-rc",[Rn]:"fire-rc-compat",[On]:"fire-gcs",[Mn]:"fire-gcs-compat",[Fn]:"fire-fst",[Vn]:"fire-fst-compat",[zn]:"fire-vertex","fire-js":"fire-js",[Un]:"fire-js-all"},qn=new Map,Hn=new Map,Kn=new Map;function Wn(e,t){try{e.container.addComponent(t)}catch(Cg){pn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,Cg)}}function Gn(e){const t=e.name;if(Kn.has(t))return pn.debug(`There were multiple attempts to register component ${t}.`),!1;Kn.set(t,e);for(const n of qn.values())Wn(n,e);for(const n of Hn.values())Wn(n,e);return!0}function Qn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Yn=new Lt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Jn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ft("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}}function Xn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Bn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Yn.create("bad-app-name",{appName:String(i)});if(n||(n=Ct()),!n)throw Yn.create("no-options");const s=qn.get(i);if(s){if(Rt(n,s.options)&&Rt(r,s.config))return s;throw Yn.create("duplicate-app",{appName:i})}const a=new Ut(i);for(const l of Kn.values())a.addComponent(l);const o=new Jn(n,r,a);return qn.set(i,o),o}function Zn(e,t,n){var r;let i=null!==(r=$n[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void pn.warn(e.join(" "))}Gn(new Ft(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const er="firebase-heartbeat-store";let tr=null;function nr(){return tr||(tr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=an(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(an(a.result),e.oldVersion,e.newVersion,an(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(er)}catch(Cg){console.warn(Cg)}}}).catch((e=>{throw Yn.create("idb-open",{originalErrorMessage:e.message})}))),tr}async function rr(e,t){try{const n=(await nr()).transaction(er,"readwrite"),r=n.objectStore(er);await r.put(t,ir(e)),await n.done}catch(Cg){if(Cg instanceof Dt)pn.warn(Cg.message);else{const t=Yn.create("idb-set",{originalErrorMessage:null===Cg||void 0===Cg?void 0:Cg.message});pn.warn(t.message)}}}function ir(e){return`${e.name}!${e.options.appId}`}class sr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new or(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ar();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(Cg){pn.warn(Cg)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ar(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),lr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=St(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(Cg){return pn.warn(Cg),""}}}function ar(){return(new Date).toISOString().substring(0,10)}class or{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!At()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await nr()).transaction(er),n=await t.objectStore(er).get(ir(e));return await t.done,n}catch(Cg){if(Cg instanceof Dt)pn.warn(Cg.message);else{const t=Yn.create("idb-get",{originalErrorMessage:null===Cg||void 0===Cg?void 0:Cg.message});pn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return rr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return rr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function lr(e){return St(JSON.stringify({version:2,heartbeats:e})).length}var cr;cr="",Gn(new Ft("platform-logger",(e=>new dn(e)),"PRIVATE")),Gn(new Ft("heartbeat",(e=>new sr(e)),"PRIVATE")),Zn(fn,mn,cr),Zn(fn,mn,"esm2017"),Zn("fire-js","");var ur,hr,dr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},fr={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return d(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function p(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new p(o,o);if(h(e))return t=g(d(e),t),new p(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new p(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new p(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);h(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new p(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),p=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,m(n,2*i+2*s),n[2*i+2*s+1]+=l*g,m(n,2*i+2*s+1),n[2*i+2*s+1]+=f*p,m(n,2*i+2*s+1),n[2*i+2*s+2]+=l*p,m(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,hr=fr.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},ur=fr.Integer=r}).apply("undefined"!==typeof dr?dr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var mr,pr,gr,yr,vr,br,wr,xr,Sr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},kr={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Sr&&Sr];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function m(e){return/^[\s\xa0]*$/.test(e)}function p(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=p().indexOf("Gecko")&&!(-1!=p().toLowerCase().indexOf("webkit")&&-1==p().indexOf("Edge"))&&!(-1!=p().indexOf("Trident")||-1!=p().indexOf("MSIE"))&&-1==p().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){i.setTimeout((()=>{throw e}),0)}function E(){var e=_;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var N=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new T),(e=>e.reset()));class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,I=!1,_=new class{constructor(){this.h=this.g=null}add(e,t){const n=N.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},j=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(A)}};var A=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(n){k(n)}var t=N;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function D(){this.s=this.s,this.C=this.C}function L(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},L.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function R(e,t){if(L.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:O[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&R.aa.h.call(this)}}h(R,L);var O={2:"touch",3:"pen",4:"mouse"};R.prototype.h=function(){R.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function z(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function U(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}U.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=$(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new z(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),H={};function K(e,t,n,r,i){if(r&&r.once)return G(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,i):W(e,t,n,!1,r,i)}function W(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[q]=l=new U(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)P||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,i):W(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(s=e.g[t],n,r,i))&&(V(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[q]=null)):V(e)}}}function J(e){return e in H?H[e]:H[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new R(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof U?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){D.call(this),this.i=new U(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new L(t,e);else if(t instanceof L)t.target=t.target||e;else{var i=t;x(t=new L(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,D),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends D{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){D.call(this),this.h=e,this.g={}}h(le,D);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function me(){}function pe(e){return e.h||(e.h=e.i())}function ge(){}me.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){L.call(this,"d")}function be(){L.call(this,"c")}h(ve,L),h(be,L);var we={},xe=null;function Se(){return xe=xe||new ne}function ke(e){L.call(this,we.La,e)}function Ee(e){const t=Se();re(t,new ke(t))}function Ne(e,t){L.call(this,we.STAT_EVENT,e),this.stat=t}function Te(e){const t=Se();re(t,new Ne(t,e))}function Ce(e,t){L.call(this,we.Ma,e),this.size=t}function Ie(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function _e(){this.g=!0}function je(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return he(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",h(ke,L),we.STAT_EVENT="statevent",h(Ne,L),we.Ma="timingevent",h(Ce,L),_e.prototype.xa=function(){this.g=!1},_e.prototype.info=function(){};var Ae,De={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Le={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Pe(){}function Re(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}h(Pe,me),Pe.prototype.g=function(){return new XMLHttpRequest},Pe.prototype.i=function(){return{}},Ae=new Pe;var Me={},Fe={};function ze(e,t,n){e.L=1,e.v=ht(at(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),$e(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Nt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Oe,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=K(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ue(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ie(c(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function We(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Yt(n)}rn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ie(c(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!m(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(He(o),$e(o)),r.g=a}else nn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(u){}}Re.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},Re.prototype.Y=function(e){try{if(e==this.g)e:{const d=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=d||7==t||Ee(),He(this);var n=this.g.Z();this.X=n;t:if(Ue(this)){var r=Kt(this.g);e="";var s=r.length,a=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){We(this),Ke(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),We(this),Ke(this);break e}je(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Fe){4==d&&(this.s=4,Te(14),n=!1),je(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Te(15),je(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}je(this.i,this.l,e,null),Ge(this,e)}if(Ue(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=o.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),sn(h),h.M=!0,Te(11))}}else je(this.i,this.l,o,"[Invalid Chunked Response]"),We(this),Ke(this)}else je(this.i,this.l,o,null),Ge(this,o);4==d&&We(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(m(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),We(this),Ke(this)}}}catch(d){}},Re.prototype.cancel=function(){this.J=!0,We(this)},Re.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ee(),Te(17)),We(this),this.s=2,Ke(this)):qe(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function at(e){return new st(e)}function ot(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(kt(this,t),Nt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new xt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function ht(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,mt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function mt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var pt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function kt(e,t){St(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Et(e,t){return St(e),t=Tt(e,t),e.g.has(t)}function Nt(e,t,n){kt(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),d(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ct(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function It(){this.g=new fe}function _t(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;a(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Cg){throw t.push(r+"type="+encodeURIComponent("_badmap")),Cg}}function jt(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Dt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Lt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Pt(e)}function Pt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Rt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ot(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Rt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){St(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){St(this);let t=[];if("string"===typeof e)Et(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return St(this),this.i=null,Et(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},h(jt,me),jt.prototype.g=function(){return new At(this.l,this.j)},jt.prototype.i=(pt={},function(){return pt}),h(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Pt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pt(this)),this.g&&(this.readyState=3,Pt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Lt(this):Pt(this),3==this.readyState&&Dt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Lt(this))},e.Qa=function(e){this.g&&(this.response=e,Lt(this))},e.ga=function(){this.g&&Lt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Mt,ne);var Ft=/^https?$/i,zt=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ut(e),$t(e)}function Ut(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Ft.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Ht(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Ut(e)}}finally{$t(e)}}}function $t(e,t){if(e.g){qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(Cg){}}}function qt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Nr){return null}}function Wt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new _e,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wt("baseRetryDelayMs",5e3,e),this.cb=Wt("retryDelaySeedMs",1e4,e),this.Wa=Wt("forwardChannelMaxRetries",2,e),this.wa=Wt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new It,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Jt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Re(e,e.j,t)).L=2,t.v=ht(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}hn(e)}function Yt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Jt(e){Yt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||j(),I||(C(),I=!0),_.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Ot(r,e.m,e.o),n=new Re(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),ze(n,r,t)}function en(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{_t(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||j(),I||(C(),I=!0),_.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ie(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Re(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Ot(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(at(t)),n.m=null,n.P=!0,Ve(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Ce(r,n)),Xt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ie(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),ht(r),t?function(e,t){const n=new _e;if(i.Image){const r=new Image;r.onload=u(Ct,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ct,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ct,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ct,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new _e;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ct(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Ct(0,0,!0,t):Ct(0,0,!1,t)})).catch((()=>{clearTimeout(r),Ct(0,0,!1,t)}))}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),hn(e),Jt(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof st?at(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new st(null);r&&ot(a,r),t&&(a.g=t),s&&lt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new jt({eb:n})):new Mt(e.pa)).Ha(e.J),t}function mn(){}function pn(){}function gn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!m(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!m(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?pe(this.o):pe(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Vt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(zt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Vt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),$t(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$t(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(pt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(pt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Re(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),x(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Rt(s)))+"&"+t:this.m&&Ot(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,ze(i,n,null)):ze(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Je(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ie(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Yt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=mn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new gn(e,t)},h(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Xt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)},h(yn,ve),h(vn,be),h(bn,mn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new yn(e))},bn.prototype.sa=function(e){re(this.g,new vn)},bn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,xr=kr.createWebChannelTransport=function(){return new pn},wr=kr.getStatEventTarget=function(){return Se()},br=kr.Event=we,vr=kr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,yr=kr.ErrorCode=De,Le.COMPLETE="complete",gr=kr.EventType=Le,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,pr=kr.WebChannel=ge,kr.FetchXmlHttpFactory=jt,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,mr=kr.XhrIo=Mt}).apply("undefined"!==typeof Sr?Sr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Er="@firebase/firestore",Nr="4.7.10";class Tr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tr.UNAUTHENTICATED=new Tr(null),Tr.GOOGLE_CREDENTIALS=new Tr("google-credentials-uid"),Tr.FIRST_PARTY=new Tr("first-party-uid"),Tr.MOCK_USER=new Tr("mock-user");let Cr="11.5.0";const Ir=new Gt("@firebase/firestore");function _r(){return Ir.logLevel}function jr(e){if(Ir.logLevel<=$t.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Lr);Ir.debug(`Firestore (${Cr}): ${e}`,...i)}}function Ar(e){if(Ir.logLevel<=$t.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Lr);Ir.error(`Firestore (${Cr}): ${e}`,...i)}}function Dr(e){if(Ir.logLevel<=$t.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Lr);Ir.warn(`Firestore (${Cr}): ${e}`,...i)}}function Lr(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Pr(){const e=`FIRESTORE (${Cr}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw Ar(e),new Error(e)}function Rr(e,t){e||Pr()}function Or(e,t){return e}const Mr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fr extends Dt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Vr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ur{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Tr.UNAUTHENTICATED)))}shutdown(){}}class Br{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class $r{constructor(e){this.t=e,this.currentUser=Tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Rr(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new zr,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{jr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(jr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new zr)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(jr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Rr("string"==typeof t.accessToken),new Vr(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rr(null===e||"string"==typeof e),new Tr(e)}}class qr{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Tr.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Hr{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new qr(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Tr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Kr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wr{constructor(e,t){var n;this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,null!==(n=e)&&void 0!==n&&void 0!==n.settings&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Rr(void 0===this.o);const n=e=>{null!=e.error&&jr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,jr("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{jr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):jr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new Kr(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Rr("string"==typeof e.token),this.R=e.token,new Kr(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Gr(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function Qr(){return new TextEncoder}class Yr{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Gr(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Jr(e,t){return e<t?-1:e>t?1:0}function Xr(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return Jr(r,i);{const s=Qr(),a=ei(s.encode(Zr(e,n)),s.encode(Zr(t,n)));return 0!==a?a:Jr(r,i)}}n+=r>65535?2:1}return Jr(e.length,t.length)}function Zr(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function ei(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Jr(e[n],t[n]);return Jr(e.length,t.length)}function ti(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function ni(e){return e+"\0"}const ri=-62135596800,ii=1e6;class si{static now(){return si.fromMillis(Date.now())}static fromDate(e){return si.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ii);return new si(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fr(Mr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fr(Mr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ri)throw new Fr(Mr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fr(Mr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ii}_compareTo(e){return this.seconds===e.seconds?Jr(this.nanoseconds,e.nanoseconds):Jr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ri;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ai{static fromTimestamp(e){return new ai(e)}static min(){return new ai(new si(0,0))}static max(){return new ai(new si(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const oi="__name__";class li{constructor(e,t,n){void 0===t?t=0:t>e.length&&Pr(),void 0===n?n=e.length-t:n>e.length-t&&Pr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===li.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof li?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=li.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Jr(e.length,t.length)}static compareSegments(e,t){const n=li.isNumericId(e),r=li.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?li.extractNumericId(e).compare(li.extractNumericId(t)):Xr(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ur.fromString(e.substring(4,e.length-2))}}class ci extends li{construct(e,t,n){return new ci(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Fr(Mr.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new ci(e)}static emptyPath(){return new ci([])}}const ui=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hi extends li{construct(e,t,n){return new hi(e,t,n)}static isValidIdentifier(e){return ui.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===oi}static keyField(){return new hi([oi])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Fr(Mr.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Fr(Mr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Fr(Mr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Fr(Mr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hi(t)}static emptyPath(){return new hi([])}}class di{constructor(e){this.path=e}static fromPath(e){return new di(ci.fromString(e))}static fromName(e){return new di(ci.fromString(e).popFirst(5))}static empty(){return new di(ci.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ci.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ci.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new di(new ci(e.slice()))}}const fi=-1;class mi{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function pi(e){return e.fields.find((e=>2===e.kind))}function gi(e){return e.fields.filter((e=>2!==e.kind))}mi.UNKNOWN_ID=-1;class yi{constructor(e,t){this.fieldPath=e,this.kind=t}}class vi{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new vi(0,xi.min())}}function bi(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ai.fromTimestamp(1e9===r?new si(n+1,0):new si(n,r));return new xi(i,di.empty(),t)}function wi(e){return new xi(e.readTime,e.key,fi)}class xi{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new xi(ai.min(),di.empty(),fi)}static max(){return new xi(ai.max(),di.empty(),fi)}}function Si(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=di.comparator(e.documentKey,t.documentKey),0!==n?n:Jr(e.largestBatchId,t.largestBatchId))}const ki="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ei{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ni(e){if(e.code!==Mr.FAILED_PRECONDITION||e.message!==ki)throw e;jr("LocalStore","Unexpectedly lost primary lease")}class Ti{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ti(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ti?t:Ti.resolve(t)}catch(e){return Ti.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ti.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ti.reject(t)}static resolve(e){return new Ti(((t,n)=>{t(e)}))}static reject(e){return new Ti(((t,n)=>{n(e)}))}static waitFor(e){return new Ti(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Ti.resolve(!1);for(const n of e)t=t.next((e=>e?Ti.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Ti(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Ti(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}const Ci="SimpleDb";class Ii{static open(e,t,n,r){try{return new Ii(t,e.transaction(r,n))}catch(e){throw new Di(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new zr,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new Di(e,t.error)):this.m.resolve()},this.transaction.onerror=t=>{const n=Mi(t.target.error);this.m.reject(new Di(e,n))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(jr(Ci,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Pi(t)}}class _i{static delete(e){return jr(Ci,"Removing database:",e),Ri(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!At())return!1;if(_i.v())return!0;const e=_t(),t=_i.C(e),n=0<t&&t<10,r=ji(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static v(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static C(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.O=n,12.2===_i.C(_t())&&Ar("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(jr(Ci,"Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Di(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Fr(Mr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Fr(Mr.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Di(e,r))},r.onupgradeneeded=e=>{jr(Ci,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.O.B(t,r.transaction,e.oldVersion,this.version).next((()=>{jr(Ci,"Database upgrade to version "+this.version+" complete")}))}}))),this.L&&(this.db.onversionchange=e=>this.L(e)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.N(e);const t=Ii.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.S(),e))).catch((e=>(t.abort(e),Ti.reject(e)))).toPromise();return s.catch((()=>{})),await t.p,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(jr(Ci,"Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function ji(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Ai{constructor(e){this.q=e,this.$=!1,this.U=null}get isDone(){return this.$}get K(){return this.U}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.U=e}delete(){return Ri(this.q.delete())}}class Di extends Fr{constructor(e,t){super(Mr.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Li(e){return"IndexedDbTransactionError"===e.name}class Pi{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(jr(Ci,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(jr(Ci,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ri(n)}add(e){return jr(Ci,"ADD",this.store.name,e,e),Ri(this.store.add(e))}get(e){return Ri(this.store.get(e)).next((t=>(void 0===t&&(t=null),jr(Ci,"GET",this.store.name,e,t),t)))}delete(e){return jr(Ci,"DELETE",this.store.name,e),Ri(this.store.delete(e))}count(){return jr(Ci,"COUNT",this.store.name),Ri(this.store.count())}G(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Ti(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.j(e,((e,n)=>{t.push(n)})).next((()=>t))}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Ti(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}J(e,t){jr(Ci,"DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const r=this.cursor(n);return this.j(r,((e,t,n)=>n.delete()))}Z(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.j(r,t)}X(e){const t=this.cursor({});return new Ti(((n,r)=>{t.onerror=e=>{const t=Mi(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}j(e,t){const n=[];return new Ti(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Ai(i),a=t(i.primaryKey,i.value,s);if(a instanceof Ti){const e=a.catch((e=>(s.done(),Ti.reject(e))));n.push(e)}s.isDone?r():null===s.K?i.continue():i.continue(s.K)}})).next((()=>Ti.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ri(e){return new Ti(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Mi(e.target.error);n(t)}}))}let Oi=!1;function Mi(e){const t=_i.C(_t());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Fr("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Oi||(Oi=!0,setTimeout((()=>{throw e}),0)),e}}return e}const Fi="IndexBackfiller";class zi{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}te(e){jr(Fi,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const e=await this.ee.ne();jr(Fi,`Documents written: ${e}`)}catch(e){Li(e)?jr(Fi,"Ignoring IndexedDB error during index backfill: ",e):await Ni(e)}await this.te(6e4)}))}}class Vi{constructor(e,t){this.localStore=e,this.persistence=t}async ne(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.re(t,e)))}re(e,t){const n=new Set;let r=t,i=!0;return Ti.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return jr(Fi,`Processing collection: ${t}`),this.ie(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}ie(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.se(r,n))).next((n=>(jr(Fi,`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}se(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=wi(t);Si(r,n)>0&&(n=r)})),new xi(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ui{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ui.ae=-1;const Bi=-1;function $i(e){return null==e}function qi(e){return 0===e&&1/e==-1/0}function Hi(e){return"number"==typeof e&&Number.isInteger(e)&&!qi(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Ki="\x01";function Wi(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Qi(t)),t=Gi(e.get(n),t);return Qi(t)}function Gi(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Ki:n+="\x01\x11";break;default:n+=t}}return n}function Qi(e){return e+Ki+"\x01"}function Yi(e){const t=e.length;if(Rr(t>=2),2===t)return Rr(e.charAt(0)===Ki&&"\x01"===e.charAt(1)),ci.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf(Ki,s);switch((t<0||t>n)&&Pr(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let a;0===i.length?a=n:(i+=n,a=i,i=""),r.push(a);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:Pr()}s=t+2}return new ci(r)}const Ji="remoteDocuments",Xi="owner",Zi="owner",es="mutationQueues",ts="mutations",ns="batchId",rs="userMutationsIndex",is=["userId","batchId"];function ss(e,t){return[e,Wi(t)]}function as(e,t,n){return[e,Wi(t),n]}const os={},ls="documentMutations",cs="remoteDocumentsV14",us=["prefixPath","collectionGroup","readTime","documentId"],hs="documentKeyIndex",ds=["prefixPath","collectionGroup","documentId"],fs="collectionGroupIndex",ms=["collectionGroup","readTime","prefixPath","documentId"],ps="remoteDocumentGlobal",gs="remoteDocumentGlobalKey",ys="targets",vs="queryTargetsIndex",bs=["canonicalId","targetId"],ws="targetDocuments",xs=["targetId","path"],Ss="documentTargetsIndex",ks=["path","targetId"],Es="targetGlobalKey",Ns="targetGlobal",Ts="collectionParents",Cs=["collectionId","parent"],Is="clientMetadata",_s="bundles",js="namedQueries",As="indexConfiguration",Ds="collectionGroupIndex",Ls="indexState",Ps=["indexId","uid"],Rs="sequenceNumberIndex",Os=["uid","sequenceNumber"],Ms="indexEntries",Fs=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zs="documentKeyIndex",Vs=["indexId","uid","orderedDocumentKey"],Us="documentOverlays",Bs=["userId","collectionPath","documentId"],$s="collectionPathOverlayIndex",qs=["userId","collectionPath","largestBatchId"],Hs="collectionGroupOverlayIndex",Ks=["userId","collectionGroup","largestBatchId"],Ws="globals",Gs=[es,ts,ls,Ji,ys,Xi,Ns,ws,Is,ps,Ts,_s,js],Qs=[...Gs,Us],Ys=[es,ts,ls,cs,ys,Xi,Ns,ws,Is,ps,Ts,_s,js,Us],Js=Ys,Xs=[...Js,As,Ls,Ms],Zs=Xs,ea=[...Xs,Ws];class ta extends Ei{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function na(e,t){const n=Or(e);return _i.M(n.ue,t)}function ra(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ia(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function sa(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class aa{constructor(e,t){this.comparator=e,this.root=t||la.EMPTY}insert(e,t){return new aa(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,la.BLACK,null,null))}remove(e){return new aa(this.comparator,this.root.remove(e,this.comparator).copy(null,null,la.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oa(this.root,e,this.comparator,!1)}getReverseIterator(){return new oa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oa(this.root,e,this.comparator,!0)}}class oa{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class la{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:la.RED,this.left=null!=r?r:la.EMPTY,this.right=null!=i?i:la.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new la(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return la.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return la.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,la.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,la.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pr();if(this.right.isRed())throw Pr();const e=this.left.check();if(e!==this.right.check())throw Pr();return e+(this.isRed()?0:1)}}la.EMPTY=null,la.RED=!0,la.BLACK=!1,la.EMPTY=new class{constructor(){this.size=0}get key(){throw Pr()}get value(){throw Pr()}get color(){throw Pr()}get left(){throw Pr()}get right(){throw Pr()}copy(e,t,n,r,i){return this}insert(e,t,n){return new la(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ca{constructor(e){this.comparator=e,this.data=new aa(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ua(this.data.getIterator())}getIteratorFrom(e){return new ua(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ca))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ca(this.comparator);return t.data=e,t}}class ua{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ha(e){return e.hasNext()?e.getNext():void 0}class da{constructor(e){this.fields=e,e.sort(hi.comparator)}static empty(){return new da([])}unionWith(e){let t=new ca(hi.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new da(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ti(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class fa extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ma{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new fa("Invalid base64 string: "+e):e}}(e);return new ma(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ma(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ma.EMPTY_BYTE_STRING=new ma("");const pa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ga(e){if(Rr(!!e),"string"==typeof e){let t=0;const n=pa.exec(e);if(Rr(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ya(e.seconds),nanos:ya(e.nanos)}}function ya(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function va(e){return"string"==typeof e?ma.fromBase64String(e):ma.fromUint8Array(e)}const ba="server_timestamp",wa="__type__",xa="__previous_value__",Sa="__local_write_time__";function ka(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[wa])||void 0===n?void 0:n.stringValue)===ba}function Ea(e){const t=e.mapValue.fields[xa];return ka(t)?Ea(t):t}function Na(e){const t=ga(e.mapValue.fields[Sa].timestampValue);return new si(t.seconds,t.nanos)}class Ta{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}const Ca="(default)";class Ia{constructor(e,t){this.projectId=e,this.database=t||Ca}static empty(){return new Ia("","")}get isDefaultDatabase(){return this.database===Ca}isEqual(e){return e instanceof Ia&&e.projectId===this.projectId&&e.database===this.database}}const _a="__type__",ja="__max__",Aa={mapValue:{fields:{__type__:{stringValue:ja}}}},Da="__vector__",La="value",Pa={nullValue:"NULL_VALUE"};function Ra(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ka(e)?4:Xa(e)?9007199254740991:Ya(e)?10:11:Pr()}function Oa(e,t){if(e===t)return!0;const n=Ra(e);if(n!==Ra(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Na(e).isEqual(Na(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ga(e.timestampValue),r=ga(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return va(e.bytesValue).isEqual(va(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ya(e.geoPointValue.latitude)===ya(t.geoPointValue.latitude)&&ya(e.geoPointValue.longitude)===ya(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ya(e.integerValue)===ya(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ya(e.doubleValue),r=ya(t.doubleValue);return n===r?qi(n)===qi(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ti(e.arrayValue.values||[],t.arrayValue.values||[],Oa);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ra(n)!==ra(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Oa(n[i],r[i])))return!1;return!0}(e,t);default:return Pr()}}function Ma(e,t){return void 0!==(e.values||[]).find((e=>Oa(e,t)))}function Fa(e,t){if(e===t)return 0;const n=Ra(e),r=Ra(t);if(n!==r)return Jr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Jr(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ya(e.integerValue||e.doubleValue),r=ya(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return za(e.timestampValue,t.timestampValue);case 4:return za(Na(e),Na(t));case 5:return Xr(e.stringValue,t.stringValue);case 6:return function(e,t){const n=va(e),r=va(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Jr(n[i],r[i]);if(0!==e)return e}return Jr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Jr(ya(e.latitude),ya(t.latitude));return 0!==n?n:Jr(ya(e.longitude),ya(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Va(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a[La])||void 0===n?void 0:n.arrayValue,c=null===(r=o[La])||void 0===r?void 0:r.arrayValue,u=Jr((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Va(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Aa.mapValue&&t===Aa.mapValue)return 0;if(e===Aa.mapValue)return 1;if(t===Aa.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Xr(r[a],s[a]);if(0!==e)return e;const t=Fa(n[r[a]],i[s[a]]);if(0!==t)return t}return Jr(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Pr()}}function za(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Jr(e,t);const n=ga(e),r=ga(t),i=Jr(n.seconds,r.seconds);return 0!==i?i:Jr(n.nanos,r.nanos)}function Va(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Fa(n[i],r[i]);if(e)return e}return Jr(n.length,r.length)}function Ua(e){return Ba(e)}function Ba(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ga(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return va(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return di.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ba(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Ba(e.fields[i])}`;return n+"}"}(e.mapValue):Pr()}function $a(e){switch(Ra(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ea(e);return t?16+$a(t):16;case 5:return 2*e.stringValue.length;case 6:return va(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+$a(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return ia(e.fields,((e,n)=>{t+=e.length+$a(n)})),t}(e.mapValue);default:throw Pr()}}function qa(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ha(e){return!!e&&"integerValue"in e}function Ka(e){return!!e&&"arrayValue"in e}function Wa(e){return!!e&&"nullValue"in e}function Ga(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Qa(e){return!!e&&"mapValue"in e}function Ya(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[_a])||void 0===n?void 0:n.stringValue)===Da}function Ja(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ia(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Ja(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ja(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Xa(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===ja}const Za={mapValue:{fields:{[_a]:{stringValue:Da},[La]:{arrayValue:{}}}}};function eo(e){return"nullValue"in e?Pa:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?qa(Ia.empty(),di.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?Ya(e)?Za:{mapValue:{}}:Pr()}function to(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?qa(Ia.empty(),di.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?Za:"mapValue"in e?Ya(e)?{mapValue:{}}:Aa:Pr()}function no(e,t){const n=Fa(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ro(e,t){const n=Fa(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class io{constructor(e){this.value=e}static empty(){return new io({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Qa(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ja(t)}setAll(e){let t=hi.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ja(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Qa(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Oa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Qa(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ia(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new io(Ja(this.value))}}function so(e){const t=[];return ia(e.fields,((e,n)=>{const r=new hi([e]);if(Qa(n)){const e=so(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new da(t)}class ao{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new ao(e,0,ai.min(),ai.min(),ai.min(),io.empty(),0)}static newFoundDocument(e,t,n,r){return new ao(e,1,t,ai.min(),n,r,0)}static newNoDocument(e,t){return new ao(e,2,t,ai.min(),ai.min(),io.empty(),0)}static newUnknownDocument(e,t){return new ao(e,3,t,ai.min(),ai.min(),io.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ai.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=io.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=io.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ai.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ao&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ao(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oo{constructor(e,t){this.position=e,this.inclusive=t}}function lo(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?di.comparator(di.fromName(a.referenceValue),n.key):Fa(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function co(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Oa(e.position[n],t.position[n]))return!1;return!0}class uo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ho(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class fo{}class mo extends fo{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Eo(e,t,n):"array-contains"===t?new Io(e,n):"in"===t?new _o(e,n):"not-in"===t?new jo(e,n):"array-contains-any"===t?new Ao(e,n):new mo(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new No(e,n):new To(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Fa(t,this.value)):null!==t&&Ra(this.value)===Ra(t)&&this.matchesComparison(Fa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class po extends fo{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new po(e,t)}matches(e){return go(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function go(e){return"and"===e.op}function yo(e){return"or"===e.op}function vo(e){return bo(e)&&go(e)}function bo(e){for(const t of e.filters)if(t instanceof po)return!1;return!0}function wo(e){if(e instanceof mo)return e.field.canonicalString()+e.op.toString()+Ua(e.value);if(vo(e))return e.filters.map((e=>wo(e))).join(",");{const t=e.filters.map((e=>wo(e))).join(",");return`${e.op}(${t})`}}function xo(e,t){return e instanceof mo?function(e,t){return t instanceof mo&&e.op===t.op&&e.field.isEqual(t.field)&&Oa(e.value,t.value)}(e,t):e instanceof po?function(e,t){return t instanceof po&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&xo(n,t.filters[r])),!0)}(e,t):void Pr()}function So(e,t){const n=e.filters.concat(t);return po.create(n,e.op)}function ko(e){return e instanceof mo?function(e){return`${e.field.canonicalString()} ${e.op} ${Ua(e.value)}`}(e):e instanceof po?function(e){return e.op.toString()+" {"+e.getFilters().map(ko).join(" ,")+"}"}(e):"Filter"}class Eo extends mo{constructor(e,t,n){super(e,t,n),this.key=di.fromName(n.referenceValue)}matches(e){const t=di.comparator(e.key,this.key);return this.matchesComparison(t)}}class No extends mo{constructor(e,t){super(e,"in",t),this.keys=Co("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class To extends mo{constructor(e,t){super(e,"not-in",t),this.keys=Co("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Co(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>di.fromName(e.referenceValue)))}class Io extends mo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ka(t)&&Ma(t.arrayValue,this.value)}}class _o extends mo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ma(this.value.arrayValue,t)}}class jo extends mo{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ma(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ma(this.value.arrayValue,t)}}class Ao extends mo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ka(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ma(this.value.arrayValue,e)))}}class Do{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.le=null}}function Lo(e){return new Do(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Po(e){const t=Or(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>wo(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),$i(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ua(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ua(e))).join(",")),t.le=e}return t.le}function Ro(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ho(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!xo(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!co(e.startAt,t.startAt)&&co(e.endAt,t.endAt)}function Oo(e){return di.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Mo(e,t){return e.filters.filter((e=>e instanceof mo&&e.field.isEqual(t)))}function Fo(e,t,n){let r=Pa,i=!0;for(const s of Mo(e,t)){let e=Pa,t=!0;switch(s.op){case"<":case"<=":e=eo(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=Pa}no({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];no({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function zo(e,t,n){let r=Aa,i=!0;for(const s of Mo(e,t)){let e=Aa,t=!0;switch(s.op){case">=":case">":e=to(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=Aa}ro({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];ro({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Vo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Uo(e,t,n,r,i,s,a,o){return new Vo(e,t,n,r,i,s,a,o)}function Bo(e){return new Vo(e)}function $o(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function qo(e){return null!==e.collectionGroup}function Ho(e){const t=Or(e);if(null===t.he){t.he=[];const e=new Set;for(const i of t.explicitOrderBy)t.he.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ca(hi.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new uo(r,n))})),e.has(hi.keyField().canonicalString())||t.he.push(new uo(hi.keyField(),n))}return t.he}function Ko(e){const t=Or(e);return t.Pe||(t.Pe=Wo(t,Ho(e))),t.Pe}function Wo(e,t){if("F"===e.limitType)return Lo(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new uo(e.field,t)}));const n=e.endAt?new oo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new oo(e.startAt.position,e.startAt.inclusive):null;return Lo(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Go(e,t){const n=e.filters.concat([t]);return new Vo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Qo(e,t,n){return new Vo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Yo(e,t){return Ro(Ko(e),Ko(t))&&e.limitType===t.limitType}function Jo(e){return`${Po(Ko(e))}|lt:${e.limitType}`}function Xo(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>ko(e))).join(", ")}]`),$i(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ua(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ua(e))).join(",")),`Target(${t})`}(Ko(e))}; limitType=${e.limitType})`}function Zo(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):di.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ho(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=lo(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ho(e),t))&&!(e.endAt&&!function(e,t,n){const r=lo(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ho(e),t))}(e,t)}function el(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function tl(e){return(t,n)=>{let r=!1;for(const i of Ho(e)){const e=nl(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function nl(e,t,n){const r=e.field.isKeyField()?di.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Fa(r,i):Pr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Pr()}}class rl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ia(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return sa(this.inner)}size(){return this.innerSize}}const il=new aa(di.comparator);function sl(){return il}const al=new aa(di.comparator);function ol(){let e=al;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function ll(e){let t=al;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function cl(){return hl()}function ul(){return hl()}function hl(){return new rl((e=>e.toString()),((e,t)=>e.isEqual(t)))}const dl=new aa(di.comparator),fl=new ca(di.comparator);function ml(){let e=fl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const pl=new ca(Jr);function gl(){return pl}function yl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qi(t)?"-0":t}}function vl(e){return{integerValue:""+e}}function bl(e,t){return Hi(t)?vl(t):yl(e,t)}class wl{constructor(){this._=void 0}}function xl(e,t,n){return e instanceof El?function(e,t){const n={fields:{[wa]:{stringValue:ba},[Sa]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ka(t)&&(t=Ea(t)),t&&(n.fields[xa]=t),{mapValue:n}}(n,t):e instanceof Nl?Tl(e,t):e instanceof Cl?Il(e,t):function(e,t){const n=kl(e,t),r=jl(n)+jl(e.Ie);return Ha(n)&&Ha(e.Ie)?vl(r):yl(e.serializer,r)}(e,t)}function Sl(e,t,n){return e instanceof Nl?Tl(e,t):e instanceof Cl?Il(e,t):n}function kl(e,t){return e instanceof _l?function(e){return Ha(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class El extends wl{}class Nl extends wl{constructor(e){super(),this.elements=e}}function Tl(e,t){const n=Al(t);for(const r of e.elements)n.some((e=>Oa(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Cl extends wl{constructor(e){super(),this.elements=e}}function Il(e,t){let n=Al(t);for(const r of e.elements)n=n.filter((e=>!Oa(e,r)));return{arrayValue:{values:n}}}class _l extends wl{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function jl(e){return ya(e.integerValue||e.doubleValue)}function Al(e){return Ka(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Dl{constructor(e,t){this.field=e,this.transform=t}}class Ll{constructor(e,t){this.version=e,this.transformResults=t}}class Pl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pl}static exists(e){return new Pl(void 0,e)}static updateTime(e){return new Pl(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rl(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ol{}function Ml(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Wl(e.key,Pl.none()):new Bl(e.key,e.data,Pl.none());{const n=e.data,r=io.empty();let i=new ca(hi.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new $l(e.key,r,new da(i.toArray()),Pl.none())}}function Fl(e,t,n){e instanceof Bl?function(e,t,n){const r=e.value.clone(),i=Hl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof $l?function(e,t,n){if(!Rl(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Hl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ql(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function zl(e,t,n,r){return e instanceof Bl?function(e,t,n,r){if(!Rl(e.precondition,t))return n;const i=e.value.clone(),s=Kl(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof $l?function(e,t,n,r){if(!Rl(e.precondition,t))return n;const i=Kl(e.fieldTransforms,r,t),s=t.data;return s.setAll(ql(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Rl(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Vl(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=kl(r.transform,e||null);null!=i&&(null===n&&(n=io.empty()),n.set(r.field,i))}return n||null}function Ul(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ti(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Nl&&t instanceof Nl||e instanceof Cl&&t instanceof Cl?ti(e.elements,t.elements,Oa):e instanceof _l&&t instanceof _l?Oa(e.Ie,t.Ie):e instanceof El&&t instanceof El}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Bl extends Ol{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class $l extends Ol{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ql(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Hl(e,t,n){const r=new Map;Rr(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Sl(a,o,n[i]))}return r}function Kl(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,xl(e,s,t))}return r}class Wl extends Ol{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gl extends Ol{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ql{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Fl(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=zl(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=zl(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ul();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Ml(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(ai.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ml())}isEqual(e){return this.batchId===e.batchId&&ti(this.mutations,e.mutations,((e,t)=>Ul(e,t)))&&ti(this.baseMutations,e.baseMutations,((e,t)=>Ul(e,t)))}}class Yl{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Rr(e.mutations.length===n.length);let r=dl;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Yl(e,t,n,r)}}class Jl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Xl{constructor(e,t){this.count=e,this.unchangedNames=t}}var Zl,ec;function tc(e){switch(e){case Mr.OK:return Pr();case Mr.CANCELLED:case Mr.UNKNOWN:case Mr.DEADLINE_EXCEEDED:case Mr.RESOURCE_EXHAUSTED:case Mr.INTERNAL:case Mr.UNAVAILABLE:case Mr.UNAUTHENTICATED:return!1;case Mr.INVALID_ARGUMENT:case Mr.NOT_FOUND:case Mr.ALREADY_EXISTS:case Mr.PERMISSION_DENIED:case Mr.FAILED_PRECONDITION:case Mr.ABORTED:case Mr.OUT_OF_RANGE:case Mr.UNIMPLEMENTED:case Mr.DATA_LOSS:return!0;default:return Pr()}}function nc(e){if(void 0===e)return Ar("GRPC error has no .code"),Mr.UNKNOWN;switch(e){case Zl.OK:return Mr.OK;case Zl.CANCELLED:return Mr.CANCELLED;case Zl.UNKNOWN:return Mr.UNKNOWN;case Zl.DEADLINE_EXCEEDED:return Mr.DEADLINE_EXCEEDED;case Zl.RESOURCE_EXHAUSTED:return Mr.RESOURCE_EXHAUSTED;case Zl.INTERNAL:return Mr.INTERNAL;case Zl.UNAVAILABLE:return Mr.UNAVAILABLE;case Zl.UNAUTHENTICATED:return Mr.UNAUTHENTICATED;case Zl.INVALID_ARGUMENT:return Mr.INVALID_ARGUMENT;case Zl.NOT_FOUND:return Mr.NOT_FOUND;case Zl.ALREADY_EXISTS:return Mr.ALREADY_EXISTS;case Zl.PERMISSION_DENIED:return Mr.PERMISSION_DENIED;case Zl.FAILED_PRECONDITION:return Mr.FAILED_PRECONDITION;case Zl.ABORTED:return Mr.ABORTED;case Zl.OUT_OF_RANGE:return Mr.OUT_OF_RANGE;case Zl.UNIMPLEMENTED:return Mr.UNIMPLEMENTED;case Zl.DATA_LOSS:return Mr.DATA_LOSS;default:return Pr()}}(ec=Zl||(Zl={}))[ec.OK=0]="OK",ec[ec.CANCELLED=1]="CANCELLED",ec[ec.UNKNOWN=2]="UNKNOWN",ec[ec.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ec[ec.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ec[ec.NOT_FOUND=5]="NOT_FOUND",ec[ec.ALREADY_EXISTS=6]="ALREADY_EXISTS",ec[ec.PERMISSION_DENIED=7]="PERMISSION_DENIED",ec[ec.UNAUTHENTICATED=16]="UNAUTHENTICATED",ec[ec.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ec[ec.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ec[ec.ABORTED=10]="ABORTED",ec[ec.OUT_OF_RANGE=11]="OUT_OF_RANGE",ec[ec.UNIMPLEMENTED=12]="UNIMPLEMENTED",ec[ec.INTERNAL=13]="INTERNAL",ec[ec.UNAVAILABLE=14]="UNAVAILABLE",ec[ec.DATA_LOSS=15]="DATA_LOSS";let rc=null;const ic=new ur([4294967295,4294967295],0);function sc(e){const t=Qr().encode(e),n=new hr;return n.update(t),new Uint8Array(n.digest())}function ac(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ur([n,r],0),new ur([i,s],0)]}class oc{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new lc(`Invalid padding: ${t}`);if(n<0)throw new lc(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new lc(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new lc(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ur.fromNumber(this.Ee)}Ae(e,t,n){let r=e.add(t.multiply(ur.fromNumber(n)));return 1===r.compare(ic)&&(r=new ur([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=sc(e),[n,r]=ac(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);if(!this.Re(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new oc(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ee)return;const t=sc(e),[n,r]=ac(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);this.Ve(e)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class lc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cc{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,uc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new cc(ai.min(),r,new aa(Jr),sl(),ml())}}class uc{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new uc(n,t,ml(),ml(),ml())}}class hc{constructor(e,t,n,r){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=r}}class dc{constructor(e,t){this.targetId=e,this.ge=t}}class fc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ma.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class mc{constructor(){this.pe=0,this.ye=yc(),this.we=ma.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ml(),t=ml(),n=ml();return this.ye.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Pr()}})),new uc(this.we,this.Se,e,t,n)}Me(){this.be=!1,this.ye=yc()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Rr(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class pc{constructor(e){this.ke=e,this.qe=new Map,this.Qe=sl(),this.$e=gc(),this.Ue=gc(),this.Ke=new aa(Jr)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:Pr()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((e,n)=>{this.Je(n)&&t(n)}))}Ze(e){const t=e.targetId,n=e.ge.count,r=this.Xe(t);if(r){const i=r.target;if(Oo(i))if(0===n){const e=new di(i.path);this.ze(t,e,ao.newNoDocument(e,ai.min()))}else Rr(1===n);else{const r=this.et(t);if(r!==n){const n=this.tt(e),i=n?this.nt(n,e,r):1;if(0!==i){this.Ye(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==rc||rc.rt(function(e,t,n,r,i){var s,a,o,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==d?void 0:d.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.ge,this.ke.it(),n,i))}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=va(n).toUint8Array()}catch(e){if(e instanceof fa)return Dr("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new oc(s,r,i)}catch(e){return Dr(e instanceof lc?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ee?null:a}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ke.it(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.ze(t,n,null),r++)})),r}ot(e){const t=new Map;this.qe.forEach(((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&Oo(i.target)){const t=new di(i.target.path);this._t(t).has(r)||this.ut(r,t)||this.ze(r,t,ao.newNoDocument(t,e))}n.ve&&(t.set(r,n.Fe()),n.Me())}}));let n=ml();this.Ue.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Qe.forEach(((t,n)=>n.setReadTime(e)));const r=new cc(e,t,this.Ke,this.Qe,n);return this.Qe=sl(),this.$e=gc(),this.Ue=gc(),this.Ke=new aa(Jr),r}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new mc,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new ca(Jr),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new ca(Jr),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||jr("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new mc),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function gc(){return new aa(di.comparator)}function yc(){return new aa(di.comparator)}const vc={asc:"ASCENDING",desc:"DESCENDING"},bc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wc={and:"AND",or:"OR"};class xc{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sc(e,t){return e.useProto3Json||$i(t)?t:{value:t}}function kc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ec(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Nc(e,t){return kc(e,t.toTimestamp())}function Tc(e){return Rr(!!e),ai.fromTimestamp(function(e){const t=ga(e);return new si(t.seconds,t.nanos)}(e))}function Cc(e,t){return Ic(e,t).canonicalString()}function Ic(e,t){const n=function(e){return new ci(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function _c(e){const t=ci.fromString(e);return Rr(Jc(t)),t}function jc(e,t){return Cc(e.databaseId,t.path)}function Ac(e,t){const n=_c(t);if(n.get(1)!==e.databaseId.projectId)throw new Fr(Mr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Fr(Mr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new di(Rc(n))}function Dc(e,t){return Cc(e.databaseId,t)}function Lc(e){const t=_c(e);return 4===t.length?ci.emptyPath():Rc(t)}function Pc(e){return new ci(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Rc(e){return Rr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Oc(e,t,n){return{name:jc(e,t),fields:n.value.mapValue.fields}}function Mc(e,t,n){const r=Ac(e,t.name),i=Tc(t.updateTime),s=t.createTime?Tc(t.createTime):ai.min(),a=new io({mapValue:{fields:t.fields}}),o=ao.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Fc(e,t){let n;if(t instanceof Bl)n={update:Oc(e,t.key,t.value)};else if(t instanceof Wl)n={delete:jc(e,t.key)};else if(t instanceof $l)n={update:Oc(e,t.key,t.data),updateMask:Yc(t.fieldMask)};else{if(!(t instanceof Gl))return Pr();n={verify:jc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof El)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Nl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Cl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof _l)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Pr()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Nc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Pr()}(e,t.precondition)),n}function zc(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Pl.updateTime(Tc(e.updateTime)):void 0!==e.exists?Pl.exists(e.exists):Pl.none()}(t.currentDocument):Pl.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Rr("REQUEST_TIME"===t.setToServerValue),n=new El;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Nl(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Cl(e)}else"increment"in t?n=new _l(e,t.increment):Pr();const r=hi.fromServerFormat(t.fieldPath);return new Dl(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Ac(e,t.update.name),s=new io({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new da(t.map((e=>hi.fromServerFormat(e))))}(t.updateMask);return new $l(i,s,e,n,r)}return new Bl(i,s,n,r)}if(t.delete){const r=Ac(e,t.delete);return new Wl(r,n)}if(t.verify){const r=Ac(e,t.verify);return new Gl(r,n)}return Pr()}function Vc(e,t){return{documents:[Dc(e,t.path)]}}function Uc(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Dc(e,i);const s=function(e){if(0!==e.length)return Qc(po.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Wc(e.field),direction:qc(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Sc(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:n,parent:i}}function Bc(e){let t=Lc(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Rr(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=$c(e);return t instanceof po&&vo(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new uo(Gc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,$i(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new oo(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new oo(n,t)}(n.endAt)),Uo(t,i,a,s,o,"F",l,c)}function $c(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Gc(e.unaryFilter.field);return mo.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Gc(e.unaryFilter.field);return mo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Gc(e.unaryFilter.field);return mo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Gc(e.unaryFilter.field);return mo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Pr()}}(e):void 0!==e.fieldFilter?function(e){return mo.create(Gc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pr()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return po.create(e.compositeFilter.filters.map((e=>$c(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Pr()}}(e.compositeFilter.op))}(e):Pr()}function qc(e){return vc[e]}function Hc(e){return bc[e]}function Kc(e){return wc[e]}function Wc(e){return{fieldPath:e.canonicalString()}}function Gc(e){return hi.fromServerFormat(e.fieldPath)}function Qc(e){return e instanceof mo?function(e){if("=="===e.op){if(Ga(e.value))return{unaryFilter:{field:Wc(e.field),op:"IS_NAN"}};if(Wa(e.value))return{unaryFilter:{field:Wc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ga(e.value))return{unaryFilter:{field:Wc(e.field),op:"IS_NOT_NAN"}};if(Wa(e.value))return{unaryFilter:{field:Wc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wc(e.field),op:Hc(e.op),value:e.value}}}(e):e instanceof po?function(e){const t=e.getFilters().map((e=>Qc(e)));return 1===t.length?t[0]:{compositeFilter:{op:Kc(e.op),filters:t}}}(e):Pr()}function Yc(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Jc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Xc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ai.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ai.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ma.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Xc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Zc{constructor(e){this.Tt=e}}function eu(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:tu(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:jc(e,t.key),fields:t.data.value.mapValue.fields,updateTime:kc(e,t.version.toTimestamp()),createTime:kc(e,t.createTime.toTimestamp())}}(e.Tt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:nu(t.version)};else{if(!t.isUnknownDocument())return Pr();r.unknownDocument={path:n.path.toArray(),version:nu(t.version)}}return r}function tu(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function nu(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ru(e){const t=new si(e.seconds,e.nanoseconds);return ai.fromTimestamp(t)}function iu(e,t){const n=(t.baseMutations||[]).map((t=>zc(e.Tt,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>zc(e.Tt,t))),i=si.fromMillis(t.localWriteTimeMs);return new Ql(t.batchId,i,n,r)}function su(e){const t=ru(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?ru(e.lastLimboFreeSnapshotVersion):ai.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Rr(1===e.documents.length),Ko(Bo(Lc(e.documents[0])))}(e.query):function(e){return Ko(Bc(e))}(e.query),new Xc(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,ma.fromBase64String(e.resumeToken))}function au(e,t){const n=nu(t.snapshotVersion),r=nu(t.lastLimboFreeSnapshotVersion);let i;i=Oo(t.target)?Vc(e.Tt,t.target):Uc(e.Tt,t.target).ht;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Po(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ou(e){const t=Bc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Qo(t,t.limit,"L"):t}function lu(e,t){return new Jl(t.largestBatchId,zc(e.Tt,t.overlayMutation))}function cu(e,t){const n=t.path.lastSegment();return[e,Wi(t.path.popLast()),n]}function uu(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:nu(r.readTime),documentKey:Wi(r.documentKey.path),largestBatchId:r.largestBatchId}}class hu{getBundleMetadata(e,t){return du(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:ru(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return du(e).put(function(e){return{bundleId:e.id,createTime:nu(Tc(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return fu(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:ou(e.bundledQuery),readTime:ru(e.readTime)}}(e)}))}saveNamedQuery(e,t){return fu(e).put(function(e){return{name:e.name,readTime:nu(Tc(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function du(e){return na(e,_s)}function fu(e){return na(e,js)}class mu{constructor(e,t){this.serializer=e,this.userId=t}static It(e,t){const n=t.uid||"";return new mu(e,n)}getOverlay(e,t){return pu(e).get(cu(this.userId,t)).next((e=>e?lu(this.serializer,e):null))}getOverlays(e,t){const n=cl();return Ti.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new Jl(t,i);r.push(this.Et(e,s))})),Ti.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Wi(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(pu(e).J($s,r))})),Ti.waitFor(i)}getOverlaysForCollection(e,t,n){const r=cl(),i=Wi(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return pu(e).G($s,s).next((e=>{for(const t of e){const e=lu(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=cl();let s;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return pu(e).Z({index:Hs,range:a},((e,t,n)=>{const a=lu(this.serializer,t);i.size()<r||a.largestBatchId===s?(i.set(a.getKey(),a),s=a.largestBatchId):n.done()})).next((()=>i))}Et(e,t){return pu(e).put(function(e,t,n){const[r,i,s]=cu(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Fc(e.Tt,n.mutation)}}(this.serializer,this.userId,t))}}function pu(e){return na(e,Us)}class gu{dt(e){return na(e,Ws)}getSessionToken(e){return this.dt(e).get("sessionToken").next((e=>{const t=null==e?void 0:e.value;return t?ma.fromUint8Array(t):ma.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class yu{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(ya(e.integerValue));else if("doubleValue"in e){const n=ya(e.doubleValue);isNaN(n)?this.ft(t,13):(this.ft(t,15),qi(n)?t.gt(0):t.gt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ft(t,20),"string"==typeof n&&(n=ga(n)),t.yt(`${n.seconds||""}`),t.gt(n.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(va(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ft(t,45),t.gt(n.latitude||0),t.gt(n.longitude||0)}else"mapValue"in e?Xa(e)?this.ft(t,Number.MAX_SAFE_INTEGER):Ya(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):Pr()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const n=e.fields||{};this.ft(t,55);for(const r of Object.keys(n))this.wt(r,t),this.Rt(n[r],t)}vt(e,t){var n,r;const i=e.fields||{};this.ft(t,53);const s=La,a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.ft(t,15),t.gt(ya(a)),this.wt(s,t),this.Rt(i[s],t)}Ft(e,t){const n=e.values||[];this.ft(t,50);for(const r of n)this.Rt(r,t)}Dt(e,t){this.ft(t,37),di.fromName(e).path.forEach((e=>{this.ft(t,60),this.Mt(e,t)}))}ft(e,t){e.gt(t)}St(e){e.gt(2)}}yu.xt=new yu;const vu=255;function bu(e){if(0===e)return 8;let t=0;return e>>4||(t+=4,e<<=4),e>>6||(t+=2,e<<=2),e>>7||(t+=1),t}function wu(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=bu(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}class xu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Nt(n.value),n=t.next();this.Bt()}Lt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.kt(n.value),n=t.next();this.qt()}Qt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Nt(e);else if(e<2048)this.Nt(960|e>>>6),this.Nt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Nt(480|e>>>12),this.Nt(128|63&e>>>6),this.Nt(128|63&e);else{const e=t.codePointAt(0);this.Nt(240|e>>>18),this.Nt(128|63&e>>>12),this.Nt(128|63&e>>>6),this.Nt(128|63&e)}}this.Bt()}$t(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.kt(e);else if(e<2048)this.kt(960|e>>>6),this.kt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.kt(480|e>>>12),this.kt(128|63&e>>>6),this.kt(128|63&e);else{const e=t.codePointAt(0);this.kt(240|e>>>18),this.kt(128|63&e>>>12),this.kt(128|63&e>>>6),this.kt(128|63&e)}}this.qt()}Ut(e){const t=this.Kt(e),n=wu(t);this.Wt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Gt(e){const t=this.Kt(e),n=wu(t);this.Wt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}zt(){this.jt(vu),this.jt(255)}Ht(){this.Jt(vu),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Kt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Nt(e){const t=255&e;0===t?(this.jt(0),this.jt(255)):t===vu?(this.jt(vu),this.jt(0)):this.jt(t)}kt(e){const t=255&e;0===t?(this.Jt(0),this.Jt(255)):t===vu?(this.Jt(vu),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Su{constructor(e){this.Zt=e}bt(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Ut(e)}Vt(){this.Zt.zt()}}class ku{constructor(e){this.Zt=e}bt(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class Eu{constructor(){this.Zt=new xu,this.Xt=new Su(this.Zt),this.en=new ku(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return 0===e?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}class Nu{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}nn(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Nu(this.indexId,this.documentKey,this.arrayValue,n)}}function Tu(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Cu(e.arrayValue,t.arrayValue),0!==n?n:(n=Cu(e.directionalValue,t.directionalValue),0!==n?n:di.comparator(e.documentKey,t.documentKey)))}function Cu(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Iu{constructor(e){this.rn=new ca(((e,t)=>hi.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[];for(const t of e.filters){const e=t;e.isInequality()?this.rn=this.rn.add(e):this._n.push(e)}}get an(){return this.rn.size>1}un(e){if(Rr(e.collectionGroup===this.collectionId),this.an)return!1;const t=pi(e);if(void 0!==t&&!this.cn(t))return!1;const n=gi(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.cn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.rn.size>0){const e=this.rn.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.ln(e,t)||!this.hn(this.sn[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.sn.length||!this.hn(this.sn[s++],e))return!1}return!0}Pn(){if(this.an)return null;let e=new ca(hi.comparator);const t=[];for(const n of this._n)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new yi(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new yi(n.field,0))}for(const n of this.sn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new yi(n.field,"asc"===n.dir?0:1)));return new mi(mi.UNKNOWN_ID,this.collectionId,t,vi.empty())}cn(e){for(const t of this._n)if(this.ln(t,e))return!0;return!1}ln(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}hn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function _u(e){var t,n;if(Rr(e instanceof mo||e instanceof po),e instanceof mo){if(e instanceof _o){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>mo.create(e.field,"==",t))))||[];return po.create(r,"or")}return e}const r=e.filters.map((e=>_u(e)));return po.create(r,e.op)}function ju(e){if(0===e.getFilters().length)return[];const t=Pu(_u(e));return Rr(Lu(t)),Au(t)||Du(t)?[t]:t.getFilters()}function Au(e){return e instanceof mo}function Du(e){return e instanceof po&&vo(e)}function Lu(e){return Au(e)||Du(e)||function(e){if(e instanceof po&&yo(e)){for(const t of e.getFilters())if(!Au(t)&&!Du(t))return!1;return!0}return!1}(e)}function Pu(e){if(Rr(e instanceof mo||e instanceof po),e instanceof mo)return e;if(1===e.filters.length)return Pu(e.filters[0]);const t=e.filters.map((e=>Pu(e)));let n=po.create(t,e.op);return n=Mu(n),Lu(n)?n:(Rr(n instanceof po),Rr(go(n)),Rr(n.filters.length>1),n.filters.reduce(((e,t)=>Ru(e,t))))}function Ru(e,t){let n;return Rr(e instanceof mo||e instanceof po),Rr(t instanceof mo||t instanceof po),n=e instanceof mo?t instanceof mo?function(e,t){return po.create([e,t],"and")}(e,t):Ou(e,t):t instanceof mo?Ou(t,e):function(e,t){if(Rr(e.filters.length>0&&t.filters.length>0),go(e)&&go(t))return So(e,t.getFilters());const n=yo(e)?e:t,r=yo(e)?t:e,i=n.filters.map((e=>Ru(e,r)));return po.create(i,"or")}(e,t),Mu(n)}function Ou(e,t){if(go(t))return So(t,e.getFilters());{const n=t.filters.map((t=>Ru(e,t)));return po.create(n,"or")}}function Mu(e){if(Rr(e instanceof mo||e instanceof po),e instanceof mo)return e;const t=e.getFilters();if(1===t.length)return Mu(t[0]);if(bo(e))return e;const n=t.map((e=>Mu(e))),r=[];return n.forEach((t=>{t instanceof mo?r.push(t):t instanceof po&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:po.create(r,e.op)}class Fu{constructor(){this.Tn=new zu}addToCollectionParentIndex(e,t){return this.Tn.add(t),Ti.resolve()}getCollectionParents(e,t){return Ti.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Ti.resolve()}deleteFieldIndex(e,t){return Ti.resolve()}deleteAllFieldIndexes(e){return Ti.resolve()}createTargetIndexes(e,t){return Ti.resolve()}getDocumentsMatchingTarget(e,t){return Ti.resolve(null)}getIndexType(e,t){return Ti.resolve(0)}getFieldIndexes(e,t){return Ti.resolve([])}getNextCollectionGroupToUpdate(e){return Ti.resolve(null)}getMinOffset(e,t){return Ti.resolve(xi.min())}getMinOffsetFromCollectionGroup(e,t){return Ti.resolve(xi.min())}updateCollectionGroup(e,t,n){return Ti.resolve()}updateIndexEntries(e,t){return Ti.resolve()}}class zu{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ca(ci.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ca(ci.comparator)).toArray()}}const Vu="IndexedDbIndexManager",Uu=new Uint8Array(0);class Bu{constructor(e,t){this.databaseId=t,this.In=new zu,this.En=new rl((e=>Po(e)),((e,t)=>Ro(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.In.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.In.add(t)}));const i={collectionId:n,parent:Wi(r)};return $u(e).put(i)}return Ti.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[ni(t),""],!1,!0);return $u(e).G(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Yi(r.parent))}return n}))}addFieldIndex(e,t){const n=Hu(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Ku(e);return i.next((e=>{n.put(uu(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Hu(e),r=Ku(e),i=qu(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Hu(e),n=qu(e),r=Ku(e);return t.J().next((()=>n.J())).next((()=>r.J()))}createTargetIndexes(e,t){return Ti.forEach(this.dn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new Iu(t).Pn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=qu(e);let r=!0;const i=new Map;return Ti.forEach(this.dn(t),(t=>this.An(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=ml();const r=[];return Ti.forEach(i,((i,s)=>{jr(Vu,`Using index ${function(e){return`id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`}(i)} to execute ${Po(t)}`);const a=function(e,t){const n=pi(t);if(void 0===n)return null;for(const r of Mo(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),o=function(e,t){const n=new Map;for(const r of gi(t))for(const t of Mo(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of gi(t)){const t=0===i.kind?Fo(e,i.fieldPath,e.startAt):zo(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new oo(n,r)}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of gi(t)){const t=0===i.kind?zo(e,i.fieldPath,e.endAt):Fo(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new oo(n,r)}(s,i),u=this.Rn(i,s,l),h=this.Rn(i,s,c),d=this.Vn(i,s,o),f=this.mn(i.indexId,a,u,l.inclusive,h,c.inclusive,d);return Ti.forEach(f,(i=>n.H(i,t.limit).next((t=>{t.forEach((t=>{const n=di.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Ti.resolve(null)}))}dn(e){let t=this.En.get(e);return t||(t=0===e.filters.length?[e]:ju(po.create(e.filters,"and")).map((t=>Lo(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.En.set(e,t),t)}mn(e,t,n,r,i,s,a){const o=(null!=t?t.length:1)*Math.max(n.length,i.length),l=o/(null!=t?t.length:1),c=[];for(let u=0;u<o;++u){const o=t?this.fn(t[u/l]):Uu,h=this.gn(e,o,n[u%l],r),d=this.pn(e,o,i[u%l],s),f=a.map((t=>this.gn(e,o,t,!0)));c.push(...this.createRange(h,d,f))}return c}gn(e,t,n,r){const i=new Nu(e,di.empty(),t,n);return r?i:i.nn()}pn(e,t,n,r){const i=new Nu(e,di.empty(),t,n);return r?i.nn():i}An(e,t){const n=new Iu(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.un(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.dn(t);return Ti.forEach(r,(t=>this.An(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new ca(hi.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}yn(e,t){const n=new Eu;for(const r of gi(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.tn(r.kind);yu.xt.At(e,i)}return n.Yt()}fn(e){const t=new Eu;return yu.xt.At(e,t.tn(0)),t.Yt()}wn(e,t){const n=new Eu;return yu.xt.At(qa(this.databaseId,t),n.tn(function(e){const t=gi(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Yt()}Vn(e,t,n){if(null===n)return[];let r=[];r.push(new Eu);let i=0;for(const s of gi(e)){const e=n[i++];for(const n of r)if(this.Sn(t,s.fieldPath)&&Ka(e))r=this.bn(r,s,e);else{const t=n.tn(s.kind);yu.xt.At(e,t)}}return this.Dn(r)}Rn(e,t,n){return this.Vn(e,t,n.position)}Dn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Yt();return t}bn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new Eu;n.seed(e.Yt()),yu.xt.At(s,n.tn(t.kind)),i.push(n)}return i}Sn(e,t){return!!e.filters.find((e=>e instanceof mo&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Hu(e),r=Ku(e);return(t?n.G(Ds,IDBKeyRange.bound(t,t)):n.G()).next((e=>{const t=[];return Ti.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new vi(t.sequenceNumber,new xi(ru(t.readTime),new di(Yi(t.documentKey)),t.largestBatchId)):vi.empty(),r=e.fields.map((e=>{let[t,n]=e;return new yi(hi.fromServerFormat(t),n)}));return new mi(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Jr(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Hu(e),i=Ku(e);return this.vn(e).next((e=>r.G(Ds,IDBKeyRange.bound(t,t)).next((t=>Ti.forEach(t,(t=>i.put(uu(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Ti.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Ti.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Ti.forEach(i,(n=>this.Cn(e,t,n).next((t=>{const i=this.Fn(r,n);return t.isEqual(i)?Ti.resolve():this.Mn(e,r,n,t,i)})))))))}))}xn(e,t,n,r){return qu(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.wn(n,t.key),documentKey:t.key.path.toArray()})}On(e,t,n,r){return qu(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.wn(n,t.key),t.key.path.toArray()])}Cn(e,t,n){const r=qu(e);let i=new ca(Tu);return r.Z({index:zs,range:IDBKeyRange.only([n.indexId,this.uid,this.wn(n,t)])},((e,r)=>{i=i.add(new Nu(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}Fn(e,t){let n=new ca(Tu);const r=this.yn(t,e);if(null==r)return n;const i=pi(t);if(null!=i){const s=e.data.field(i.fieldPath);if(Ka(s))for(const i of s.arrayValue.values||[])n=n.add(new Nu(t.indexId,e.key,this.fn(i),r))}else n=n.add(new Nu(t.indexId,e.key,Uu,r));return n}Mn(e,t,n,r,i){jr(Vu,"Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),a=t.getIterator();let o=ha(s),l=ha(a);for(;o||l;){let e=!1,t=!1;if(o&&l){const r=n(o,l);r<0?t=!0:r>0&&(e=!0)}else null!=o?t=!0:e=!0;e?(r(l),l=ha(a)):t?(i(o),o=ha(s)):(o=ha(s),l=ha(a))}}(r,i,Tu,(r=>{s.push(this.xn(e,t,n,r))}),(r=>{s.push(this.On(e,t,n,r))})),Ti.waitFor(s)}vn(e){let t=1;return Ku(e).Z({index:Rs,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Tu(e,t))).filter(((e,t,n)=>!t||0!==Tu(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=Tu(s,e),i=Tu(s,t);if(0===n)r[0]=e.nn();else if(n>0&&i<0)r.push(s),r.push(s.nn());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.Nn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Uu,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Uu,[]];i.push(IDBKeyRange.bound(e,t))}return i}Nn(e,t){return Tu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Wu)}getMinOffset(e,t){return Ti.mapArray(this.dn(t),(t=>this.An(e,t).next((e=>e||Pr())))).next(Wu)}}function $u(e){return na(e,Ts)}function qu(e){return na(e,Ms)}function Hu(e){return na(e,As)}function Ku(e){return na(e,Ls)}function Wu(e){Rr(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Si(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new xi(t.readTime,t.documentKey,n)}const Gu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qu=41943040;class Yu{static withCacheSize(e){return new Yu(e,Yu.DEFAULT_COLLECTION_PERCENTILE,Yu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}function Ju(e,t,n){const r=e.store(ts),i=e.store(ls),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const l=r.Z({range:a},((e,t,n)=>(o++,n.delete())));s.push(l.next((()=>{Rr(1===o)})));const c=[];for(const u of n.mutations){const e=as(t,u.key.path,n.batchId);s.push(i.delete(e)),c.push(u.key)}return Ti.waitFor(s).next((()=>c))}function Xu(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Pr();t=e.noDocument}return JSON.stringify(t).length}Yu.DEFAULT_COLLECTION_PERCENTILE=10,Yu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yu.DEFAULT=new Yu(Qu,Yu.DEFAULT_COLLECTION_PERCENTILE,Yu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yu.DISABLED=new Yu(-1,0,0);class Zu{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Bn={}}static It(e,t,n,r){Rr(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Zu(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return th(e).Z({index:rs,range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=nh(e),s=th(e);return s.add({}).next((a=>{Rr("number"==typeof a);const o=new Ql(a,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Fc(e.Tt,t))),i=n.mutations.map((t=>Fc(e.Tt,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,o),c=[];let u=new ca(((e,t)=>Jr(e.canonicalString(),t.canonicalString())));for(const e of r){const t=as(this.userId,e.key.path,a);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(i.put(t,os))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Bn[a]=o.keys()})),Ti.waitFor(c).next((()=>o))}))}lookupMutationBatch(e,t){return th(e).get(t).next((e=>e?(Rr(e.userId===this.userId),iu(this.serializer,e)):null))}Ln(e,t){return this.Bn[t]?Ti.resolve(this.Bn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Bn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return th(e).Z({index:rs,range:r},((e,t,r)=>{t.userId===this.userId&&(Rr(t.batchId>=n),i=iu(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=Bi;return th(e).Z({index:rs,range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Bi],[this.userId,Number.POSITIVE_INFINITY]);return th(e).G(rs,t).next((e=>e.map((e=>iu(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=ss(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return nh(e).Z({range:r},((n,r,s)=>{const[a,o,l]=n,c=Yi(o);if(a===this.userId&&t.path.isEqual(c))return th(e).get(l).next((e=>{if(!e)throw Pr();Rr(e.userId===this.userId),i.push(iu(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ca(Jr);const r=[];return t.forEach((t=>{const i=ss(this.userId,t.path),s=IDBKeyRange.lowerBound(i),a=nh(e).Z({range:s},((e,r,i)=>{const[s,a,o]=e,l=Yi(a);s===this.userId&&t.path.isEqual(l)?n=n.add(o):i.done()}));r.push(a)})),Ti.waitFor(r).next((()=>this.kn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=ss(this.userId,n),s=IDBKeyRange.lowerBound(i);let a=new ca(Jr);return nh(e).Z({range:s},((e,t,i)=>{const[s,o,l]=e,c=Yi(o);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(a=a.add(l)):i.done()})).next((()=>this.kn(e,a)))}kn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(th(e).get(t).next((e=>{if(null===e)throw Pr();Rr(e.userId===this.userId),n.push(iu(this.serializer,e))})))})),Ti.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Ju(e.ue,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.qn(t.batchId)})),Ti.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Ti.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return nh(e).Z({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Yi(e[1]);r.push(t)}else n.done()})).next((()=>{Rr(0===r.length)}))}))}containsKey(e,t){return eh(e,this.userId,t)}Qn(e){return rh(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:Bi,lastStreamToken:""}))}}function eh(e,t,n){const r=ss(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return nh(e).Z({range:s,Y:!0},((e,n,r)=>{const[s,o,l]=e;s===t&&o===i&&(a=!0),r.done()})).next((()=>a))}function th(e){return na(e,ts)}function nh(e){return na(e,ls)}function rh(e){return na(e,es)}class ih{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ih(0)}static Kn(){return new ih(-1)}}class sh{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Wn(e).next((t=>{const n=new ih(t.highestTargetId);return t.highestTargetId=n.next(),this.Gn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Wn(e).next((e=>ai.fromTimestamp(new si(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Wn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Wn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Gn(e,r))))}addTargetData(e,t){return this.zn(e,t).next((()=>this.Wn(e).next((n=>(n.targetCount+=1,this.jn(t,n),this.Gn(e,n))))))}updateTargetData(e,t){return this.zn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>ah(e).delete(t.targetId))).next((()=>this.Wn(e))).next((t=>(Rr(t.targetCount>0),t.targetCount-=1,this.Gn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return ah(e).Z(((s,a)=>{const o=su(a);o.sequenceNumber<=t&&null===n.get(o.targetId)&&(r++,i.push(this.removeTargetData(e,o)))})).next((()=>Ti.waitFor(i))).next((()=>r))}forEachTarget(e,t){return ah(e).Z(((e,n)=>{const r=su(n);t(r)}))}Wn(e){return oh(e).get(Es).next((e=>(Rr(null!==e),e)))}Gn(e,t){return oh(e).put(Es,t)}zn(e,t){return ah(e).put(au(this.serializer,t))}jn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Wn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Po(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return ah(e).Z({range:r,index:vs},((e,n,r)=>{const s=su(n);Ro(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=lh(e);return t.forEach((t=>{const s=Wi(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),Ti.waitFor(r)}removeMatchingKeys(e,t,n){const r=lh(e);return Ti.forEach(t,(t=>{const i=Wi(t.path);return Ti.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=lh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=lh(e);let i=ml();return r.Z({range:n,Y:!0},((e,t,n)=>{const r=Yi(e[1]),s=new di(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=Wi(t.path),r=IDBKeyRange.bound([n],[ni(n)],!1,!0);let i=0;return lh(e).Z({index:Ss,Y:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}lt(e,t){return ah(e).get(t).next((e=>e?su(e):null))}}function ah(e){return na(e,ys)}function oh(e){return na(e,Ns)}function lh(e){return na(e,ws)}const ch="LruGarbageCollector",uh=1048576;function hh(e,t){let[n,r]=e,[i,s]=t;const a=Jr(n,i);return 0===a?Jr(r,s):a}class dh{constructor(e){this.Hn=e,this.buffer=new ca(hh),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();hh(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fh{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){jr(ch,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Li(e)?jr(ch,"Ignoring IndexedDB error during garbage collection: ",e):await Ni(e)}await this.er(3e5)}))}}class mh{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Ti.resolve(Ui.ae);const n=new dh(t);return this.tr.forEachTarget(e,(e=>n.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>n.Zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(jr("LruGarbageCollector","Garbage collection skipped; disabled"),Ti.resolve(Gu)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(jr("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gu):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(jr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),_r()<=$t.DEBUG&&jr("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(a-s)+"ms\n"+`\tRemoved ${i} targets in `+(o-a)+"ms\n"+`\tRemoved ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-c}ms`),Ti.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function ph(e,t){return new mh(e,t)}class gh{constructor(e,t){this.db=e,this.garbageCollector=ph(this,t)}nr(e){const t=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}rr(e,t){return this._r(e,((e,n)=>t(n)))}addReference(e,t,n){return yh(e,n)}removeReference(e,t,n){return yh(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return yh(e,t)}ar(e,t){return function(e,t){let n=!1;return rh(e).X((r=>eh(e,r,t).next((e=>(e&&(n=!0),Ti.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this._r(e,((s,a)=>{if(a<=t){const t=this.ar(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,ai.min()),lh(e).delete(function(e){return[0,Wi(e.path)]}(s)))))}));r.push(t)}})).next((()=>Ti.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return yh(e,t)}_r(e,t){const n=lh(e);let r,i=Ui.ae;return n.Z({index:Ss},((e,n)=>{let[s,a]=e,{path:o,sequenceNumber:l}=n;0===s?(i!==Ui.ae&&t(new di(Yi(r)),i),i=l,r=o):i=Ui.ae})).next((()=>{i!==Ui.ae&&t(new di(Yi(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function yh(e,t){return lh(e).put(function(e,t){return{targetId:0,path:Wi(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class vh{constructor(){this.changes=new rl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ao.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ti.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bh{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return kh(e).put(n)}removeEntry(e,t,n){return kh(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],tu(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.ur(e,n))))}getEntry(e,t){let n=ao.newInvalidDocument(t);return kh(e).Z({index:hs,range:IDBKeyRange.only(Eh(t))},((e,r)=>{n=this.cr(t,r)})).next((()=>n))}lr(e,t){let n={size:0,document:ao.newInvalidDocument(t)};return kh(e).Z({index:hs,range:IDBKeyRange.only(Eh(t))},((e,r)=>{n={document:this.cr(t,r),size:Xu(r)}})).next((()=>n))}getEntries(e,t){let n=sl();return this.hr(e,t,((e,t)=>{const r=this.cr(e,t);n=n.insert(e,r)})).next((()=>n))}Pr(e,t){let n=sl(),r=new aa(di.comparator);return this.hr(e,t,((e,t)=>{const i=this.cr(e,t);n=n.insert(e,i),r=r.insert(e,Xu(t))})).next((()=>({documents:n,Tr:r})))}hr(e,t,n){if(t.isEmpty())return Ti.resolve();let r=new ca(Th);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Eh(r.first()),Eh(r.last())),s=r.getIterator();let a=s.getNext();return kh(e).Z({index:hs,range:i},((e,t,r)=>{const i=di.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&Th(a,i)<0;)n(a,null),a=s.getNext();a&&a.isEqual(i)&&(n(a,t),a=s.hasNext()?s.getNext():null),a?r.W(Eh(a)):r.done()})).next((()=>{for(;a;)n(a,null),a=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),tu(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],o=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return kh(e).G(IDBKeyRange.bound(a,o,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=sl();for(const i of e){const e=this.cr(di.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Zo(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=sl();const s=Nh(t,n),a=Nh(t,xi.max());return kh(e).Z({index:fs,range:IDBKeyRange.bound(s,a,!0)},((e,t,n)=>{const s=this.cr(di.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new xh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Sh(e).get(gs).next((e=>(Rr(!!e),e)))}ur(e,t){return Sh(e).put(gs,t)}cr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Mc(e.Tt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=di.fromSegments(t.noDocument.path),r=ru(t.noDocument.readTime);n=ao.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Pr();{const e=di.fromSegments(t.unknownDocument.path),r=ru(t.unknownDocument.version);n=ao.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new si(e[0],e[1]);return ai.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(ai.min()))return e}return ao.newInvalidDocument(e)}}function wh(e){return new bh(e)}class xh extends vh{constructor(e,t){super(),this.Ir=e,this.trackRemovals=t,this.Er=new rl((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new ca(((e,t)=>Jr(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const a=this.Er.get(i);if(t.push(this.Ir.removeEntry(e,i,a.readTime)),s.isValidDocument()){const o=eu(this.Ir.serializer,s);r=r.add(i.path.popLast());const l=Xu(o);n+=l-a.size,t.push(this.Ir.addEntry(e,i,o))}else if(n-=a.size,this.trackRemovals){const n=eu(this.Ir.serializer,s.convertToNoDocument(ai.min()));t.push(this.Ir.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.Ir.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.Ir.updateMetadata(e,n)),Ti.waitFor(t)}getFromCache(e,t){return this.Ir.lr(e,t).next((e=>(this.Er.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.Ir.Pr(e,t).next((e=>{let{documents:t,Tr:n}=e;return n.forEach(((e,n)=>{this.Er.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function Sh(e){return na(e,ps)}function kh(e){return na(e,cs)}function Eh(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Nh(e,t){const n=t.documentKey.path.toArray();return[e,tu(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Th(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Jr(n[s],r[s]),i)return i;return i=Jr(n.length,r.length),i||(i=Jr(n[n.length-2],r[r.length-2]),i||Jr(n[n.length-1],r[r.length-1]))}class Ch{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ih{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&zl(n.mutation,e,da.empty(),si.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,ml()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ml();const r=cl();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=ol();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=cl();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ml())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=sl();const s=hl(),a=hl();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof $l)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),zl(a.mutation,t,a.mutation.getFieldMask(),si.now())):s.set(t.key,da.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Ch(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=hl();let r=new aa(((e,t)=>e-t)),i=ml();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||da.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||ml()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=ul();l.forEach((e=>{if(!i.has(e)){const r=Ml(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Ti.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return di.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):qo(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ti.resolve(cl());let a=fi,o=i;return s.next((t=>Ti.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Ti.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,ml()))).next((e=>({batchId:a,changes:ll(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new di(t)).next((e=>{let t=ol();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=ol();return this.indexManager.getCollectionParents(e,i).next((a=>Ti.forEach(a,(a=>{const o=function(e,t){return new Vo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,ao.newInvalidDocument(r)))}));let n=ol();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&zl(s.mutation,r,da.empty(),si.now()),Zo(t,r)&&(n=n.insert(e,r))})),n}))}}class _h{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Ti.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Tc(e.createTime)}}(t)),Ti.resolve()}getNamedQuery(e,t){return Ti.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(e){return{name:e.name,query:ou(e.bundledQuery),readTime:Tc(e.readTime)}}(t)),Ti.resolve()}}class jh{constructor(){this.overlays=new aa(di.comparator),this.Rr=new Map}getOverlay(e,t){return Ti.resolve(this.overlays.get(t))}getOverlays(e,t){const n=cl();return Ti.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Et(e,t,r)})),Ti.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(n)),Ti.resolve()}getOverlaysForCollection(e,t,n){const r=cl(),i=t.length+1,s=new di(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ti.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new aa(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=cl(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=cl(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Ti.resolve(a)}Et(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Jl(t,n));let i=this.Rr.get(t);void 0===i&&(i=ml(),this.Rr.set(t,i)),this.Rr.set(t,i.add(n.key))}}class Ah{constructor(){this.sessionToken=ma.EMPTY_BYTE_STRING}getSessionToken(e){return Ti.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ti.resolve()}}class Dh{constructor(){this.Vr=new ca(Lh.mr),this.gr=new ca(Lh.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new Lh(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new Lh(e,t))}Sr(e,t){e.forEach((e=>this.removeReference(e,t)))}br(e){const t=new di(new ci([])),n=new Lh(t,e),r=new Lh(t,e+1),i=[];return this.gr.forEachInRange([n,r],(e=>{this.wr(e),i.push(e.key)})),i}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new di(new ci([])),n=new Lh(t,e),r=new Lh(t,e+1);let i=ml();return this.gr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Lh(e,0),n=this.Vr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Lh{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return di.comparator(e.key,t.key)||Jr(e.Cr,t.Cr)}static pr(e,t){return Jr(e.Cr,t.Cr)||di.comparator(e.key,t.key)}}class Ph{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new ca(Lh.mr)}checkEmpty(e){return Ti.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Ql(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Mr=this.Mr.add(new Lh(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ti.resolve(s)}lookupMutationBatch(e,t){return Ti.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),i=r<0?0:r;return Ti.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ti.resolve(0===this.mutationQueue.length?Bi:this.Fr-1)}getAllMutationBatches(e){return Ti.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Lh(t,0),r=new Lh(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,r],(e=>{const t=this.Or(e.Cr);i.push(t)})),Ti.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ca(Jr);return t.forEach((e=>{const t=new Lh(e,0),r=new Lh(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,r],(e=>{n=n.add(e.Cr)}))})),Ti.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;di.isDocumentKey(i)||(i=i.child(""));const s=new Lh(new di(i),0);let a=new ca(Jr);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Cr)),!0)}),s),Ti.resolve(this.Br(a))}Br(e){const t=[];return e.forEach((e=>{const n=this.Or(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Rr(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return Ti.forEach(t.mutations,(r=>{const i=new Lh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,t){const n=new Lh(t,0),r=this.Mr.firstAfterOrEqual(n);return Ti.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ti.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Rh{constructor(e){this.kr=e,this.docs=new aa(di.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ti.resolve(n?n.document.mutableCopy():ao.newInvalidDocument(t))}getEntries(e,t){let n=sl();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():ao.newInvalidDocument(e))})),Ti.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=sl();const s=t.path,a=new di(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Si(wi(a),n)<=0||(r.has(a.key)||Zo(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Ti.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Pr()}qr(e,t){return Ti.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Oh(this)}getSize(e){return Ti.resolve(this.size)}}class Oh extends vh{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)})),Ti.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}class Mh{constructor(e){this.persistence=e,this.Qr=new rl((e=>Po(e)),Ro),this.lastRemoteSnapshotVersion=ai.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Dh,this.targetCount=0,this.Kr=ih.Un()}forEachTarget(e,t){return this.Qr.forEach(((e,n)=>t(n))),Ti.resolve()}getLastRemoteSnapshotVersion(e){return Ti.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ti.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Ti.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),Ti.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new ih(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Ti.resolve()}updateTargetData(e,t){return this.zn(t),Ti.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,Ti.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Qr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Qr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Ti.waitFor(i).next((()=>r))}getTargetCount(e){return Ti.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return Ti.resolve(n)}addMatchingKeys(e,t,n){return this.Ur.yr(t,n),Ti.resolve()}removeMatchingKeys(e,t,n){this.Ur.Sr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Ti.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),Ti.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ur.vr(t);return Ti.resolve(n)}containsKey(e,t){return Ti.resolve(this.Ur.containsKey(t))}}class Fh{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Ui(0),this.zr=!1,this.zr=!0,this.jr=new Ah,this.referenceDelegate=e(this),this.Hr=new Mh(this),this.indexManager=new Fu,this.remoteDocumentCache=function(e){return new Rh(e)}((e=>this.referenceDelegate.Jr(e))),this.serializer=new Zc(t),this.Yr=new _h(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new jh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new Ph(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){jr("MemoryPersistence","Starting transaction:",e);const r=new zh(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((e=>this.referenceDelegate.Xr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}ei(e,t){return Ti.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,t))))}}class zh extends Ei{constructor(e){super(),this.currentSequenceNumber=e}}class Vh{constructor(e){this.persistence=e,this.ti=new Dh,this.ni=null}static ri(e){return new Vh(e)}get ii(){if(this.ni)return this.ni;throw Pr()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),Ti.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),Ti.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Ti.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach((e=>this.ii.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ti.forEach(this.ii,(n=>{const r=di.fromPath(n);return this.si(e,r).next((e=>{e||t.removeEntry(r,ai.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return Ti.or([()=>Ti.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Uh{constructor(e,t){this.persistence=e,this.oi=new rl((e=>Wi(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=ph(this,t)}static ri(e,t){return new Uh(e,t)}Zr(){}Xr(e){return Ti.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return Ti.forEach(this.oi,((n,r)=>this.ar(e,n,r).next((e=>e?Ti.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(e,(r=>this.ar(e,r,t).next((e=>{e||(n++,i.removeEntry(r,ai.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Ti.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Ti.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Ti.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Ti.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=$a(e.data.value)),t}ar(e,t,n){return Ti.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return Ti.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Bh{constructor(e){this.serializer=e}B(e,t,n,r){const i=new Ii("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Xi)}(e),function(e){e.createObjectStore(es,{keyPath:"userId"});e.createObjectStore(ts,{keyPath:ns,autoIncrement:!0}).createIndex(rs,is,{unique:!0}),e.createObjectStore(ls)}(e),$h(e),function(e){e.createObjectStore(Ji)}(e));let s=Ti.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(ws),e.deleteObjectStore(ys),e.deleteObjectStore(Ns)}(e),$h(e)),s=s.next((()=>function(e){const t=e.store(Ns),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ai.min().toTimestamp(),targetCount:0};return t.put(Es,n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store(ts).G().next((n=>{e.deleteObjectStore(ts),e.createObjectStore(ts,{keyPath:ns,autoIncrement:!0}).createIndex(rs,is,{unique:!0});const r=t.store(ts),i=n.map((e=>r.put(e)));return Ti.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore(Is,{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this._i(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore(ps)}(e),this.ai(i))))),n<7&&r>=7&&(s=s.next((()=>this.ui(i)))),n<8&&r>=8&&(s=s.next((()=>this.ci(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.li(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore(_s,{keyPath:"bundleId"})}(e),function(e){e.createObjectStore(js,{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore(Us,{keyPath:Bs});t.createIndex($s,qs,{unique:!1}),t.createIndex(Hs,Ks,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore(cs,{keyPath:us});t.createIndex(hs,ds),t.createIndex(fs,ms)}(e))).next((()=>this.hi(e,i))).next((()=>e.deleteObjectStore(Ji)))),n<14&&r>=14&&(s=s.next((()=>this.Pi(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore(As,{keyPath:"indexId",autoIncrement:!0}).createIndex(Ds,"collectionGroup",{unique:!1});e.createObjectStore(Ls,{keyPath:Ps}).createIndex(Rs,Os,{unique:!1});e.createObjectStore(Ms,{keyPath:Fs}).createIndex(zs,Vs,{unique:!1})}(e)))),n<16&&r>=16&&(s=s.next((()=>{t.objectStore(Ls).clear()})).next((()=>{t.objectStore(Ms).clear()}))),n<17&&r>=17&&(s=s.next((()=>{!function(e){e.createObjectStore(Ws,{keyPath:"name"})}(e)}))),s}ai(e){let t=0;return e.store(Ji).Z(((e,n)=>{t+=Xu(n)})).next((()=>{const n={byteSize:t};return e.store(ps).put(gs,n)}))}_i(e){const t=e.store(es),n=e.store(ts);return t.G().next((t=>Ti.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,Bi],[t.userId,t.lastAcknowledgedBatchId]);return n.G(rs,r).next((n=>Ti.forEach(n,(n=>{Rr(n.userId===t.userId);const r=iu(this.serializer,n);return Ju(e,t.userId,r).next((()=>{}))}))))}))))}ui(e){const t=e.store(ws),n=e.store(Ji);return e.store(Ns).get(Es).next((e=>{const r=[];return n.Z(((n,i)=>{const s=new ci(n),a=function(e){return[0,Wi(e)]}(s);r.push(t.get(a).next((n=>n?Ti.resolve():(n=>t.put({targetId:0,path:Wi(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>Ti.waitFor(r)))}))}ci(e,t){e.createObjectStore(Ts,{keyPath:Cs});const n=t.store(Ts),r=new zu,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Wi(r)})}};return t.store(Ji).Z({Y:!0},((e,t)=>{const n=new ci(e);return i(n.popLast())})).next((()=>t.store(ls).Z({Y:!0},((e,t)=>{let[n,r,s]=e;const a=Yi(r);return i(a.popLast())}))))}li(e){const t=e.store(ys);return t.Z(((e,n)=>{const r=su(n),i=au(this.serializer,r);return t.put(i)}))}hi(e,t){const n=t.store(Ji),r=[];return n.Z(((e,n)=>{const i=t.store(cs),s=function(e){return e.document?new di(ci.fromString(e.document.name).popFirst(5)):e.noDocument?di.fromSegments(e.noDocument.path):e.unknownDocument?di.fromSegments(e.unknownDocument.path):Pr()}(n).path.toArray(),a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>Ti.waitFor(r)))}Pi(e,t){const n=t.store(ts),r=wh(this.serializer),i=new Fh(Vh.ri,this.serializer.Tt);return n.G().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:ml();iu(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Ti.forEach(n,((e,n)=>{const s=new Tr(n),a=mu.It(this.serializer,s),o=i.getIndexManager(s),l=Zu.It(s,this.serializer,o,i.referenceDelegate);return new Ih(r,l,a,o).recalculateAndSaveOverlaysForDocumentKeys(new ta(t,Ui.ae),e).next()}))}))}}function $h(e){e.createObjectStore(ws,{keyPath:xs}).createIndex(Ss,ks,{unique:!0}),e.createObjectStore(ys,{keyPath:"targetId"}).createIndex(vs,bs,{unique:!0}),e.createObjectStore(Ns)}const qh="IndexedDbPersistence",Hh=18e5,Kh=5e3,Wh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Gh="main";class Qh{constructor(e,t,n,r,i,s,a,o,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:17;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Ti=i,this.window=s,this.document=a,this.Ii=l,this.Ei=c,this.di=u,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=e=>Promise.resolve(),!Qh.D())throw new Fr(Mr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gh(this,r),this.gi=t+Gh,this.serializer=new Zc(o),this.pi=new _i(this.gi,this.di,new Bh(this.serializer)),this.jr=new gu,this.Hr=new sh(this.referenceDelegate,this.serializer),this.remoteDocumentCache=wh(this.serializer),this.Yr=new hu,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,!1===c&&Ar(qh,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fr(Mr.FAILED_PRECONDITION,Wh);return this.Si(),this.bi(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Hr.getHighestSequenceNumber(e)))})).then((e=>{this.Gr=new Ui(e,this.Ii)})).then((()=>{this.zr=!0})).catch((e=>(this.pi&&this.pi.close(),Promise.reject(e))))}Ci(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget((async()=>{this.started&&await this.wi()})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Jh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Fi(e).next((e=>{e||(this.isPrimary=!1,this.Ti.enqueueRetryable((()=>this.fi(!1))))}))})).next((()=>this.Mi(e))).next((t=>this.isPrimary&&!t?this.xi(e).next((()=>!1)):!!t&&this.Oi(e).next((()=>!0)))))).catch((e=>{if(Li(e))return jr(qh,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return jr(qh,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable((()=>this.fi(e))),this.isPrimary=e}))}Fi(e){return Yh(e).get(Zi).next((e=>Ti.resolve(this.Ni(e))))}Bi(e){return Jh(e).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,Hh)){this.mi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=na(e,Is);return t.G().next((e=>{const n=this.qi(e,Hh),r=e.filter((e=>-1===n.indexOf(e)));return Ti.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.yi)for(const t of e)this.yi.removeItem(this.Qi(t.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.wi().then((()=>this.Li())).then((()=>this.Di()))))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?Ti.resolve(!0):Yh(e).get(Zi).next((t=>{if(null!==t&&this.ki(t.leaseTimestampMs,Kh)&&!this.$i(t.ownerId)){if(this.Ni(t)&&this.networkEnabled)return!0;if(!this.Ni(t)){if(!t.allowTabSynchronization)throw new Fr(Mr.FAILED_PRECONDITION,Wh);return!1}}return!(!this.networkEnabled||!this.inForeground)||Jh(e).G().next((e=>void 0===this.qi(e,Kh).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&jr(qh,`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.zr=!1,this.Ui(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ki(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[Xi,Is],(e=>{const t=new ta(e,Ui.ae);return this.xi(t).next((()=>this.Bi(t)))})),this.pi.close(),this.Gi()}qi(e,t){return e.filter((e=>this.ki(e.updateTimeMs,t)&&!this.$i(e.clientId)))}zi(){return this.runTransaction("getActiveClients","readonly",(e=>Jh(e).G().next((e=>this.qi(e,Hh).map((e=>e.clientId))))))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,t){return Zu.It(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Bu(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return mu.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,t,n){jr(qh,"Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 17===e?ea:16===e?Zs:15===e?Xs:14===e?Js:13===e?Ys:12===e?Qs:11===e?Gs:void Pr()}(this.di);let s;return this.pi.runTransaction(e,r,i,(r=>(s=new ta(r,this.Gr?this.Gr.next():Ui.ae),"readwrite-primary"===t?this.Fi(s).next((e=>!!e||this.Mi(s))).next((t=>{if(!t)throw Ar(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable((()=>this.fi(!1))),new Fr(Mr.FAILED_PRECONDITION,ki);return n(s)})).next((e=>this.Oi(s).next((()=>e)))):this.ji(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}ji(e){return Yh(e).get(Zi).next((e=>{if(null!==e&&this.ki(e.leaseTimestampMs,Kh)&&!this.$i(e.ownerId)&&!this.Ni(e)&&!(this.Ei||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Fr(Mr.FAILED_PRECONDITION,Wh)}))}Oi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Yh(e).put(Zi,t)}static D(){return _i.D()}xi(e){const t=Yh(e);return t.get(Zi).next((e=>this.Ni(e)?(jr(qh,"Releasing primary lease."),t.delete(Zi)):Ti.resolve()))}ki(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Ar(`Detected an update time that is in the future: ${e} > ${n}`),!1))}Si(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ri=()=>{this.Ti.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.wi())))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground="visible"===this.document.visibilityState)}Ki(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}bi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ai=()=>{this.Ui();const e=/(?:Version|Mobile)\/1[456]/;jt()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var t;try{const n=null!==(null===(t=this.yi)||void 0===t?void 0:t.getItem(this.Qi(e)));return jr(qh,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Ar(qh,"Failed to get zombied client id.",e),!1}}Ui(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(Cg){Ar("Failed to set zombie client id.",Cg)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch(Cg){}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Yh(e){return na(e,Xi)}function Jh(e){return na(e,Is)}function Xh(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Zh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=ml(),r=ml();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Zh(e,t.fromCache,n,r)}}class ed{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class td{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=jt()?8:ji(_t())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ss(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new ed;return this._s(e,t,n).next((r=>{if(i.result=r,this.Xi)return this.us(e,t,n,r.size)}))})).next((()=>i.result))}us(e,t,n,r){return n.documentReadCount<this.es?(_r()<=$t.DEBUG&&jr("QueryEngine","SDK will not create cache indexes for query:",Xo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Ti.resolve()):(_r()<=$t.DEBUG&&jr("QueryEngine","Query:",Xo(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(_r()<=$t.DEBUG&&jr("QueryEngine","The SDK decides to create cache indexes for query:",Xo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ko(t))):Ti.resolve())}rs(e,t){if($o(t))return Ti.resolve(null);let n=Ko(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Qo(t,null,"F"),n=Ko(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=ml(...r);return this.ns.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.cs(t,r);return this.ls(t,s,i,n.readTime)?this.rs(e,Qo(t,null,"F")):this.hs(e,s,t,n)}))))})))))}ss(e,t,n,r){return $o(t)||r.isEqual(ai.min())?Ti.resolve(null):this.ns.getDocuments(e,n).next((i=>{const s=this.cs(t,i);return this.ls(t,s,n,r)?Ti.resolve(null):(_r()<=$t.DEBUG&&jr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xo(t)),this.hs(e,s,t,bi(r,fi)).next((e=>e)))}))}cs(e,t){let n=new ca(tl(e));return t.forEach(((t,r)=>{Zo(e,r)&&(n=n.add(r))})),n}ls(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(e,t,n){return _r()<=$t.DEBUG&&jr("QueryEngine","Using full collection scan to execute query:",Xo(t)),this.ns.getDocumentsMatchingQuery(e,t,xi.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const nd="LocalStore";class rd{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new aa(Jr),this.Is=new rl((e=>Po(e)),Ro),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ih(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function id(e,t,n,r){return new rd(e,t,n,r)}async function sd(e,t){const n=Or(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.As(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=ml();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({Rs:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function ad(e){const t=Or(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}function od(e,t,n){let r=ml(),i=ml();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=sl();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(ai.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):jr(nd,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{Vs:r,fs:i}}))}function ld(e,t){const n=Or(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=Bi),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function cd(e,t){const n=Or(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Hr.getTargetData(e,t).next((i=>i?(r=i,Ti.resolve(r)):n.Hr.allocateTargetId(e).next((i=>(r=new Xc(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Hr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(e.targetId,e),n.Is.set(t,e.targetId)),e}))}async function ud(e,t,n){const r=Or(e),i=r.Ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Li(e))throw e;jr(nd,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function hd(e,t,n){const r=Or(e);let i=ai.min(),s=ml();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Or(e),i=r.Is.get(n);return void 0!==i?Ti.resolve(r.Ts.get(i)):r.Hr.getTargetData(t,n)}(r,e,Ko(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Ps.getDocumentsMatchingQuery(e,t,n?i:ai.min(),n?s:ml()))).next((e=>(dd(r,el(t),e),{documents:e,gs:s})))))}function dd(e,t,n){let r=e.Es.get(t)||ai.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Es.set(t,r)}class fd{constructor(){this.activeTargetIds=gl()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class md{constructor(){this.ho=new fd,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new fd,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pd{To(e){}shutdown(){}}const gd="ConnectivityMonitor";class yd{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){jr(gd,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){jr(gd,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let vd=null;function bd(){return null===vd?vd=268435456+Math.round(2147483648*Math.random()):vd++,"0x"+vd.toString(16)}const wd="RestConnection",xd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Sd{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===Ca?`project_id=${n}`:`project_id=${n}&database_id=${r}`}So(e,t,n,r,i){const s=bd(),a=this.bo(e,t.toUriEncodedString());jr(wd,`Sending RPC '${e}' ${s}:`,a,n);const o={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(o,r,i),this.vo(e,a,o,n).then((t=>(jr(wd,`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw Dr(wd,`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t}))}Co(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=xd[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}class kd{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}const Ed="WebChannelConnection";class Nd extends Sd{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const i=bd();return new Promise(((s,a)=>{const o=new mr;o.setWithCredentials(!0),o.listenOnce(gr.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case yr.NO_ERROR:const t=o.getResponseJson();jr(Ed,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case yr.TIMEOUT:jr(Ed,`RPC '${e}' ${i} timed out`),a(new Fr(Mr.DEADLINE_EXCEEDED,"Request time out"));break;case yr.HTTP_ERROR:const n=o.getStatus();if(jr(Ed,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Mr).indexOf(t)>=0?t:Mr.UNKNOWN}(t.status);a(new Fr(e,t.message))}else a(new Fr(Mr.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Fr(Mr.UNAVAILABLE,"Connection failed."));break;default:Pr()}}finally{jr(Ed,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);jr(Ed,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)}))}Wo(e,t,n){const r=bd(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=xr(),a=wr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");jr(Ed,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);let h=!1,d=!1;const f=new kd({Fo:t=>{d?jr(Ed,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(jr(Ed,`Opening RPC '${e}' stream ${r} transport.`),u.open(),h=!0),jr(Ed,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Mo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return m(u,pr.EventType.OPEN,(()=>{d||(jr(Ed,`RPC '${e}' stream ${r} transport opened.`),f.Qo())})),m(u,pr.EventType.CLOSE,(()=>{d||(d=!0,jr(Ed,`RPC '${e}' stream ${r} transport closed`),f.Uo())})),m(u,pr.EventType.ERROR,(t=>{d||(d=!0,Dr(Ed,`RPC '${e}' stream ${r} transport errored:`,t),f.Uo(new Fr(Mr.UNAVAILABLE,"The operation could not be completed")))})),m(u,pr.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Rr(!!i);const s=i,a=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){jr(Ed,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=Zl[e];if(void 0!==t)return nc(t)}(t),i=a.message;void 0===n&&(n=Mr.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.Uo(new Fr(n,i)),u.close()}else jr(Ed,`RPC '${e}' stream ${r} received:`,i),f.Ko(i)}})),m(a,br.STAT_EVENT,(t=>{t.stat===vr.PROXY?jr(Ed,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===vr.NOPROXY&&jr(Ed,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.$o()}),0),f}}function Td(){return"undefined"!=typeof window?window:null}function Cd(){return"undefined"!=typeof document?document:null}function Id(e){return new xc(e,!0)}class _d{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&jr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const jd="PersistentStream";class Ad{constructor(e,t,n,r,i,s,a,o){this.Ti=e,this.n_=n,this.r_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new _d(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===Mr.RESOURCE_EXHAUSTED?(Ar(t.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Mr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.i_===t&&this.V_(n,r)}),(t=>{e((()=>{const e=new Fr(Mr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{n((()=>this.m_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return jr(jd,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(jr(jd,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Dd extends Ad{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Pr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Rr(void 0===t||"string"==typeof t),ma.fromBase64String(t||"")):(Rr(void 0===t||t instanceof Buffer||t instanceof Uint8Array),ma.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Mr.UNKNOWN:nc(e.code);return new Fr(t,e.message||"")}(a);n=new fc(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ac(e,r.document.name),s=Tc(r.document.updateTime),a=r.document.createTime?Tc(r.document.createTime):ai.min(),o=new io({mapValue:{fields:r.document.fields}}),l=ao.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new hc(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ac(e,r.document),s=r.readTime?Tc(r.readTime):ai.min(),a=ao.newNoDocument(i,s),o=r.removedTargetIds||[];n=new hc([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ac(e,r.document),s=r.removedTargetIds||[];n=new hc([],s,i,null)}else{if(!("filter"in t))return Pr();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Xl(r,i),a=e.targetId;n=new dc(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ai.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ai.min():t.readTime?Tc(t.readTime):ai.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=Pc(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Oo(r)?{documents:Vc(e,r)}:{query:Uc(e,r).ht},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Ec(e,t.resumeToken);const r=Sc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ai.min())>0){n.readTime=kc(e,t.snapshotVersion.toTimestamp());const r=Sc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pr()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=Pc(this.serializer),t.removeTarget=e,this.I_(t)}}class Ld extends Ad{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Rr(!!e.streamToken),this.lastStreamToken=e.streamToken,Rr(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){Rr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(Rr(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Tc(e.updateTime):Tc(t);return n.isEqual(ai.min())&&(n=Tc(t)),new Ll(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Tc(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=Pc(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Fc(this.serializer,e)))};this.I_(t)}}class Pd{}class Rd extends Pd{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new Fr(Mr.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.So(e,Ic(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Mr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Fr(Mr.UNKNOWN,e.toString())}))}Co(e,t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.Co(e,Ic(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Mr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Fr(Mr.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class Od{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ar(t),this.N_=!1):jr("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const Md="RemoteStore";class Fd{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((e=>{n.enqueueAndForget((async()=>{Wd(this)&&(jr(Md,"Restarting streams for network reachability change."),await async function(e){const t=Or(e);t.W_.add(4),await Vd(t),t.j_.set("Unknown"),t.W_.delete(4),await zd(t)}(this))}))})),this.j_=new Od(n,r)}}async function zd(e){if(Wd(e))for(const t of e.G_)await t(!0)}async function Vd(e){for(const t of e.G_)await t(!1)}function Ud(e,t){const n=Or(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Kd(n)?Hd(n):ff(n).c_()&&$d(n,t))}function Bd(e,t){const n=Or(e),r=ff(n);n.K_.delete(t),r.c_()&&qd(n,t),0===n.K_.size&&(r.c_()?r.P_():Wd(n)&&n.j_.set("Unknown"))}function $d(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ai.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ff(e).y_(t)}function qd(e,t){e.H_.Ne(t),ff(e).w_(t)}function Hd(e){e.H_=new pc({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),ff(e).start(),e.j_.B_()}function Kd(e){return Wd(e)&&!ff(e).u_()&&e.K_.size>0}function Wd(e){return 0===Or(e).W_.size}function Gd(e){e.H_=void 0}async function Qd(e){e.j_.set("Online")}async function Yd(e){e.K_.forEach(((t,n)=>{$d(e,t)}))}async function Jd(e,t){Gd(e),Kd(e)?(e.j_.q_(t),Hd(e)):e.j_.set("Unknown")}async function Xd(e,t,n){if(e.j_.set("Online"),t instanceof fc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.K_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.K_.delete(r),e.H_.removeTarget(r))}(e,t)}catch(n){jr(Md,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Zd(e,n)}else if(t instanceof hc?e.H_.We(t):t instanceof dc?e.H_.Ze(t):e.H_.je(t),!n.isEqual(ai.min()))try{const t=await ad(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.H_.ot(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.K_.get(r);i&&e.K_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.K_.get(t);if(!r)return;e.K_.set(t,r.withResumeToken(ma.EMPTY_BYTE_STRING,r.snapshotVersion)),qd(e,t);const i=new Xc(r.target,t,n,r.sequenceNumber);$d(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){jr(Md,"Failed to raise snapshot:",t),await Zd(e,t)}}async function Zd(e,t,n){if(!Li(t))throw t;e.W_.add(1),await Vd(e),e.j_.set("Offline"),n||(n=()=>ad(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{jr(Md,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await zd(e)}))}function ef(e,t){return t().catch((n=>Zd(e,n,t)))}async function tf(e){const t=Or(e),n=mf(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:Bi;for(;nf(t);)try{const e=await ld(t.localStore,r);if(null===e){0===t.U_.length&&n.P_();break}r=e.batchId,rf(t,e)}catch(e){await Zd(t,e)}sf(t)&&af(t)}function nf(e){return Wd(e)&&e.U_.length<10}function rf(e,t){e.U_.push(t);const n=mf(e);n.c_()&&n.S_&&n.b_(t.mutations)}function sf(e){return Wd(e)&&!mf(e).u_()&&e.U_.length>0}function af(e){mf(e).start()}async function of(e){mf(e).C_()}async function lf(e){const t=mf(e);for(const n of e.U_)t.b_(n.mutations)}async function cf(e,t,n){const r=e.U_.shift(),i=Yl.from(r,t,n);await ef(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await tf(e)}async function uf(e,t){t&&mf(e).S_&&await async function(e,t){if(function(e){return tc(e)&&e!==Mr.ABORTED}(t.code)){const n=e.U_.shift();mf(e).h_(),await ef(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await tf(e)}}(e,t),sf(e)&&af(e)}async function hf(e,t){const n=Or(e);n.asyncQueue.verifyOperationInProgress(),jr(Md,"RemoteStore received new credentials");const r=Wd(n);n.W_.add(3),await Vd(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await zd(n)}async function df(e,t){const n=Or(e);t?(n.W_.delete(2),await zd(n)):t||(n.W_.add(2),await Vd(n),n.j_.set("Unknown"))}function ff(e){return e.J_||(e.J_=function(e,t,n){const r=Or(e);return r.M_(),new Dd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:Qd.bind(null,e),No:Yd.bind(null,e),Lo:Jd.bind(null,e),p_:Xd.bind(null,e)}),e.G_.push((async t=>{t?(e.J_.h_(),Kd(e)?Hd(e):e.j_.set("Unknown")):(await e.J_.stop(),Gd(e))}))),e.J_}function mf(e){return e.Y_||(e.Y_=function(e,t,n){const r=Or(e);return r.M_(),new Ld(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:of.bind(null,e),Lo:uf.bind(null,e),D_:lf.bind(null,e),v_:cf.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await tf(e)):(await e.Y_.stop(),e.U_.length>0&&(jr(Md,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))}))),e.Y_}class pf{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new pf(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fr(Mr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gf(e,t){if(Ar("AsyncQueue",`${t}: ${e}`),Li(e))return new Fr(Mr.UNAVAILABLE,`${t}: ${e}`);throw e}class yf{static emptySet(e){return new yf(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||di.comparator(t.key,n.key):(e,t)=>di.comparator(e.key,t.key),this.keyedMap=ol(),this.sortedSet=new aa(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new yf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class vf{constructor(){this.Z_=new aa(di.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?0!==e.type&&3===n.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==n.type?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Z_=this.Z_.remove(t):1===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Pr():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class bf{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new bf(e,t,yf.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class wf{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class xf{constructor(){this.queries=Sf(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const n=Or(e),r=n.queries;n.queries=Sf(),r.forEach(((e,n)=>{for(const r of n.ta)r.onError(t)}))}(this,new Fr(Mr.ABORTED,"Firestore shutting down"))}}function Sf(){return new rl((e=>Jo(e)),Yo)}async function kf(e,t){const n=Or(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.na()&&t.ra()&&(r=2):(s=new wf,r=t.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=gf(e,`Initialization of query '${Xo(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.ta.push(t),t.sa(n.onlineState),s.ea&&t.oa(s.ea)&&Cf(n)}async function Ef(e,t){const n=Or(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.ta.indexOf(t);e>=0&&(s.ta.splice(e,1),0===s.ta.length?i=t.ra()?0:1:!s.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Nf(e,t){const n=Or(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ta)e.oa(i)&&(r=!0);t.ea=i}}r&&Cf(n)}function Tf(e,t,n){const r=Or(e),i=r.queries.get(t);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(t)}function Cf(e){e.ia.forEach((e=>{e.next()}))}var If,_f;(_f=If||(If={}))._a="default",_f.Cache="cache";class jf{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new bf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==t;return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=bf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==If.Cache}}class Af{constructor(e){this.key=e}}class Df{constructor(e){this.key=e}}class Lf{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ml(),this.mutatedKeys=ml(),this.ya=tl(e),this.wa=new yf(this.ya)}get Sa(){return this.fa}ba(e,t){const n=t?t.Da:new vf,r=t?t.wa:this.wa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Zo(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.va(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.ya(u,o)>0||l&&this.ya(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{wa:s,Da:n,ls:a,mutatedKeys:i}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const s=e.Da.X_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pr()}};return n(e)-n(t)}(e.type,t.type)||this.ya(e.doc,t.doc))),this.Ca(n),r=null!=r&&r;const a=t&&!r?this.Fa():[],o=0===this.pa.size&&this.current&&!r?1:0,l=o!==this.ga;return this.ga=o,0!==s.length||l?{snapshot:new bf(this.query,e.wa,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new vf,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((e=>this.fa=this.fa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.fa=this.fa.delete(e))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ml(),this.wa.forEach((e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))}));const t=[];return e.forEach((e=>{this.pa.has(e)||t.push(new Df(e))})),this.pa.forEach((n=>{e.has(n)||t.push(new Af(n))})),t}Oa(e){this.fa=e.gs,this.pa=ml();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return bf.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const Pf="SyncEngine";class Rf{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Of{constructor(e){this.key=e,this.Ba=!1}}class Mf{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new rl((e=>Jo(e)),Yo),this.qa=new Map,this.Qa=new Set,this.$a=new aa(di.comparator),this.Ua=new Map,this.Ka=new Dh,this.Wa={},this.Ga=new Map,this.za=ih.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function Ff(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=sm(e);let i;const s=r.ka.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await Vf(r,t,n,!0),i}async function zf(e,t){const n=sm(e);await Vf(n,t,!0,!1)}async function Vf(e,t,n,r){const i=await cd(e.localStore,Ko(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await Uf(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Ud(e.remoteStore,i),o}async function Uf(e,t,n,r,i){e.Ha=(t,n,r)=>async function(e,t,n,r){let i=t.view.ba(n);i.ls&&(i=await hd(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ba(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Zf(e,t.targetId,o.Ma),o.snapshot}(e,t,n,r);const s=await hd(e.localStore,t,!0),a=new Lf(t,s.gs),o=a.ba(s.documents),l=uc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Zf(e,n,c.Ma);const u=new Rf(t,n,a);return e.ka.set(t,u),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),c.snapshot}async function Bf(e,t,n){const r=Or(e),i=r.ka.get(t),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter((e=>!Yo(e,t)))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ud(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Bd(r.remoteStore,i.targetId),Jf(r,i.targetId)})).catch(Ni)):(Jf(r,i.targetId),await ud(r.localStore,i.targetId,!0))}async function $f(e,t){const n=Or(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Bd(n.remoteStore,r.targetId))}async function qf(e,t){const n=Or(e);try{const e=await function(e,t){const n=Or(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Hr.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Hr.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(ma.EMPTY_BYTE_STRING,ai.min()).withLastLimboFreeSnapshotVersion(ai.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&a.push(n.Hr.updateTargetData(e,c))}));let o=sl(),l=ml();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(od(e,s,t.documentUpdates).next((e=>{o=e.Vs,l=e.fs}))),!r.isEqual(ai.min())){const t=n.Hr.getLastRemoteSnapshotVersion(e).next((t=>n.Hr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Ti.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.Ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ua.get(t);r&&(Rr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ba=!0:e.modifiedDocuments.size>0?Rr(r.Ba):e.removedDocuments.size>0&&(Rr(r.Ba),r.Ba=!1))})),await nm(n,e,t)}catch(e){await Ni(e)}}function Hf(e,t,n){const r=Or(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ka.forEach(((n,r)=>{const i=r.view.sa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Or(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.ta)i.sa(t)&&(r=!0)})),r&&Cf(n)}(r.eventManager,t),e.length&&r.La.p_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Kf(e,t,n){const r=Or(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ua.get(t),s=i&&i.key;if(s){let e=new aa(di.comparator);e=e.insert(s,ao.newNoDocument(s,ai.min()));const n=ml().add(s),i=new cc(ai.min(),new Map,new aa(Jr),e,n);await qf(r,i),r.$a=r.$a.remove(s),r.Ua.delete(t),tm(r)}else await ud(r.localStore,t,!1).then((()=>Jf(r,t,n))).catch(Ni)}async function Wf(e,t){const n=Or(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Or(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Ti.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Rr(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ml();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Yf(n,r,null),Qf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nm(n,e)}catch(e){await Ni(e)}}async function Gf(e,t,n){const r=Or(e);try{const e=await function(e,t){const n=Or(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Rr(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Yf(r,t,n),Qf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await nm(r,e)}catch(n){await Ni(n)}}function Qf(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function Yf(e,t,n){const r=Or(e);let i=r.Wa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function Jf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach((t=>{e.Ka.containsKey(t)||Xf(e,t)}))}function Xf(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);null!==n&&(Bd(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),tm(e))}function Zf(e,t,n){for(const r of n)r instanceof Af?(e.Ka.addReference(r.key,t),em(e,r)):r instanceof Df?(jr(Pf,"Document no longer in limbo: "+r.key),e.Ka.removeReference(r.key,t),e.Ka.containsKey(r.key)||Xf(e,r.key)):Pr()}function em(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(jr(Pf,"New document in limbo: "+n),e.Qa.add(r),tm(e))}function tm(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new di(ci.fromString(t)),r=e.za.next();e.Ua.set(r,new Of(n)),e.$a=e.$a.insert(n,r),Ud(e.remoteStore,new Xc(Ko(Bo(n.path)),r,"TargetPurposeLimboResolution",Ui.ae))}}async function nm(e,t,n){const r=Or(e),i=[],s=[],a=[];r.ka.isEmpty()||(r.ka.forEach(((e,o)=>{a.push(r.Ha(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Zh.Yi(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.La.p_(i),await async function(e,t){const n=Or(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Ti.forEach(t,(t=>Ti.forEach(t.Hi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Ti.forEach(t.Ji,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Li(e))throw e;jr(nd,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,i)}}}(r.localStore,s))}async function rm(e,t){const n=Or(e);if(!n.currentUser.isEqual(t)){jr(Pf,"User change. New user:",t.toKey());const e=await sd(n.localStore,t);n.currentUser=t,function(e,t){e.Ga.forEach((e=>{e.forEach((e=>{e.reject(new Fr(Mr.CANCELLED,t))}))})),e.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await nm(n,e.Rs)}}function im(e,t){const n=Or(e),r=n.Ua.get(t);if(r&&r.Ba)return ml().add(r.key);{let e=ml();const r=n.qa.get(t);if(!r)return e;for(const t of r){const r=n.ka.get(t);e=e.unionWith(r.view.Sa)}return e}}function sm(e){const t=Or(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=qf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=im.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Kf.bind(null,t),t.La.p_=Nf.bind(null,t.eventManager),t.La.Ja=Tf.bind(null,t.eventManager),t}function am(e){const t=Or(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Wf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Gf.bind(null,t),t}class om{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Id(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return id(this.persistence,new td,e.initialUser,this.serializer)}Xa(e){return new Fh(Vh.ri,this.serializer)}Za(e){return new md}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}om.provider={build:()=>new om};class lm extends om{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Rr(this.persistence.referenceDelegate instanceof Uh);const n=this.persistence.referenceDelegate.garbageCollector;return new fh(n,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?Yu.withCacheSize(this.cacheSizeBytes):Yu.DEFAULT;return new Fh((e=>Uh.ri(e,t)),this.serializer)}}class cm extends om{constructor(e,t,n){super(),this.ru=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await am(this.ru.syncEngine),await tf(this.ru.remoteStore),await this.persistence.Ci((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}eu(e){return id(this.persistence,new td,e.initialUser,this.serializer)}tu(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new fh(n,e.asyncQueue,t)}nu(e,t){const n=new Vi(t,this.persistence);return new zi(e.asyncQueue,n)}Xa(e){const t=Xh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Yu.withCacheSize(this.cacheSizeBytes):Yu.DEFAULT;return new Qh(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Td(),Cd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new md}}class um{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Hf(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=rm.bind(null,this.syncEngine),await df(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new xf}createDatastore(e){const t=Id(e.databaseInfo.databaseId),n=function(e){return new Nd(e)}(e.databaseInfo);return function(e,t,n,r){return new Rd(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Fd(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Hf(this.syncEngine,e,0)),yd.D()?new yd:new pd)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Mf(e,t,n,r,i,s);return a&&(o.ja=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Or(e);jr(Md,"RemoteStore shutting down."),t.W_.add(5),await Vd(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}um.provider={build:()=>new um};class hm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const dm="FirestoreClient";class fm{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Tr.UNAUTHENTICATED,this.clientId=Yr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{jr(dm,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(jr(dm,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=gf(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function mm(e,t){e.asyncQueue.verifyOperationInProgress(),jr(dm,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await sd(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function pm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await gm(e);jr(dm,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>hf(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>hf(t.remoteStore,n))),e._onlineComponents=t}async function gm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){jr(dm,"Using user provided OfflineComponentProvider");try{await mm(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Mr.FAILED_PRECONDITION||e.code===Mr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Dr("Error using user provided cache. Falling back to memory cache: "+n),await mm(e,new om)}}else jr(dm,"Using default OfflineComponentProvider"),await mm(e,new lm(void 0));return e._offlineComponents}async function ym(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(jr(dm,"Using user provided OnlineComponentProvider"),await pm(e,e._uninitializedComponentsProvider._online)):(jr(dm,"Using default OnlineComponentProvider"),await pm(e,new um))),e._onlineComponents}function vm(e){return ym(e).then((e=>e.syncEngine))}async function bm(e){const t=await ym(e),n=t.eventManager;return n.onListen=Ff.bind(null,t.syncEngine),n.onUnlisten=Bf.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=zf.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=$f.bind(null,t.syncEngine),n}function wm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new zr;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new hm({next:o=>{s.su(),t.enqueueAndForget((()=>Ef(e,a)));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new Fr(Mr.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new Fr(Mr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new jf(Bo(n.path),s,{includeMetadataChanges:!0,Ta:!0});return kf(e,a)}(await bm(e),e.asyncQueue,t,n,r))),r.promise}function xm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new zr;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new hm({next:n=>{s.su(),t.enqueueAndForget((()=>Ef(e,a))),n.fromCache&&"server"===r.source?i.reject(new Fr(Mr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new jf(n,s,{includeMetadataChanges:!0,Ta:!0});return kf(e,a)}(await bm(e),e.asyncQueue,t,n,r))),r.promise}function Sm(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const km=new Map;function Em(e,t,n){if(!n)throw new Fr(Mr.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Nm(e){if(!di.isDocumentKey(e))throw new Fr(Mr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Tm(e){if(di.isDocumentKey(e))throw new Fr(Mr.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Cm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Pr()}function Im(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Fr(Mr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cm(e);throw new Fr(Mr.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}const _m="firestore.googleapis.com",jm=!0;class Am{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Fr(Mr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_m,this.ssl=jm}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:jm;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Qu;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<uh)throw new Fr(Mr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Fr(Mr.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Sm(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Fr(Mr.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Fr(Mr.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Fr(Mr.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dm{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Am({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Fr(Mr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fr(Mr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Am(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ur;switch(e.type){case"firstParty":return new Hr(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Fr(Mr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=km.get(e);t&&(jr("ComponentProvider","Removing Datastore"),km.delete(e),t.terminate())}(this),Promise.resolve()}}function Lm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Im(e,Dm))._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),o=`${t}:${n}`;s.host!==_m&&s.host!==o&&Dr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:o,ssl:!1,emulatorOptions:r});if(!Rt(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Tr.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[St(JSON.stringify({alg:"none",type:"JWT"})),St(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Fr(Mr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Tr(s)}e._authCredentials=new Br(new Vr(t,n))}}class Pm{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Pm(this.firestore,e,this._query)}}class Rm{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Om(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rm(this.firestore,e,this._key)}}class Om extends Pm{constructor(e,t,n){super(e,t,Bo(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rm(this.firestore,null,new di(e))}withConverter(e){return new Om(this.firestore,e,this._path)}}function Mm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Mt(e),Em("collection","path",t),e instanceof Dm){const n=ci.fromString(t,...r);return Tm(n),new Om(e,null,n)}{if(!(e instanceof Rm||e instanceof Om))throw new Fr(Mr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ci.fromString(t,...r));return Tm(n),new Om(e.firestore,null,n)}}function Fm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Mt(e),1===arguments.length&&(t=Yr.newId()),Em("doc","path",t),e instanceof Dm){const n=ci.fromString(t,...r);return Nm(n),new Rm(e,null,new di(n))}{if(!(e instanceof Rm||e instanceof Om))throw new Fr(Mr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ci.fromString(t,...r));return Nm(n),new Rm(e.firestore,e instanceof Om?e.converter:null,new di(n))}}const zm="AsyncQueue";class Vm{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new _d(this,"async_queue_retry"),this.Su=()=>{const e=Cd();e&&jr(zm,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.bu=e;const t=Cd();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Cd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new zr;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(Cg){if(!Li(Cg))throw Cg;jr(zm,"Operation failed with retryable error: "+Cg)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.bu.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ar("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.pu=!1,e))))));return this.bu=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=pf.createAndSchedule(this,e,t,n,(e=>this.Fu(e)));return this.fu.push(r),r}Du(){this.gu&&Pr()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.bu,await e}while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Um extends Dm{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Vm,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Vm(e),this._firestoreClient=void 0,await e}}}function Bm(e){if(e._terminated)throw new Fr(Mr.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||$m(e),e._firestoreClient}function $m(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Ta(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Sm(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new fm(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}function qm(e,t,n){if((e=Im(e,Um))._firestoreClient||e._terminated)throw new Fr(Mr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new Fr(Mr.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},$m(e)}class Hm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hm(ma.fromBase64String(e))}catch(e){throw new Fr(Mr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Hm(ma.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Km{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Fr(Mr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hi(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wm{constructor(e){this._methodName=e}}class Gm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fr(Mr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fr(Mr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jr(this._lat,e._lat)||Jr(this._long,e._long)}}class Qm{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Ym=/^__.*__$/;class Jm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new $l(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bl(e,this.data,t,this.fieldTransforms)}}class Xm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new $l(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Zm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pr()}}class ep{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new ep(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Uu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return gp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(Zm(this.Lu)&&Ym.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class tp{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Id(e)}ju(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ep({Lu:e,methodName:t,zu:n,path:hi.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function np(e){const t=e._freezeSettings(),n=Id(e._databaseId);return new tp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function rp(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ju(s.merge||s.mergeFields?2:0,t,n,i);dp("Data must be an object, but it was:",a,r);const o=up(r,a);let l,c;if(s.merge)l=new da(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=fp(t,r,n);if(!a.contains(i))throw new Fr(Mr.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);yp(e,i)||e.push(i)}l=new da(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new Jm(new io(o),l,c)}class ip extends Wm{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ip}}class sp extends Wm{_toFieldTransform(e){return new Dl(e.path,new El)}isEqual(e){return e instanceof sp}}function ap(e,t,n,r){const i=e.ju(1,t,n);dp("Data must be an object, but it was:",i,r);const s=[],a=io.empty();ia(r,((e,r)=>{const o=pp(t,e,n);r=Mt(r);const l=i.Uu(o);if(r instanceof ip)s.push(o);else{const e=cp(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new da(s);return new Xm(a,o,i.fieldTransforms)}function op(e,t,n,r,i,s){const a=e.ju(1,t,n),o=[fp(t,r,n)],l=[i];if(s.length%2!=0)throw new Fr(Mr.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)o.push(fp(t,s[d])),l.push(s[d+1]);const c=[],u=io.empty();for(let d=o.length-1;d>=0;--d)if(!yp(c,o[d])){const e=o[d];let t=l[d];t=Mt(t);const n=a.Uu(e);if(t instanceof ip)c.push(e);else{const r=cp(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new da(c);return new Xm(u,h,a.fieldTransforms)}function lp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return cp(n,e.ju(r?4:3,t))}function cp(e,t){if(hp(e=Mt(e)))return dp("Unsupported field value:",t,e),up(e,t);if(e instanceof Wm)return function(e,t){if(!Zm(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=cp(i,t.Ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Mt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return bl(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=si.fromDate(e);return{timestampValue:kc(t.serializer,n)}}if(e instanceof si){const n=new si(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:kc(t.serializer,n)}}if(e instanceof Gm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Hm)return{bytesValue:Ec(t.serializer,e._byteString)};if(e instanceof Rm){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Cc(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Qm)return function(e,t){return{mapValue:{fields:{[_a]:{stringValue:Da},[La]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return yl(t.serializer,e)}))}}}}}}(e,t);throw t.Wu(`Unsupported field value: ${Cm(e)}`)}(e,t)}function up(e,t){const n={};return sa(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ia(e,((e,r)=>{const i=cp(r,t.qu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function hp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof si||e instanceof Gm||e instanceof Hm||e instanceof Rm||e instanceof Wm||e instanceof Qm)}function dp(e,t,n){if(!hp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Cm(n);throw"an object"===r?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function fp(e,t,n){if((t=Mt(t))instanceof Km)return t._internalPath;if("string"==typeof t)return pp(e,t);throw gp("Field path arguments must be of type string or ",e,!1,void 0,n)}const mp=new RegExp("[~\\*/\\[\\]]");function pp(e,t,n){if(t.search(mp)>=0)throw gp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Km(...t.split("."))._internalPath}catch(r){throw gp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function gp(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Fr(Mr.INVALID_ARGUMENT,o+e+l)}function yp(e,t){return e.some((e=>e.isEqual(t)))}class vp{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Rm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new bp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class bp extends vp{data(){return super.data()}}function wp(e,t){return"string"==typeof t?pp(e,t):t instanceof Km?t._internalPath:t._delegate._internalPath}function xp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Fr(Mr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sp{}class kp extends Sp{}function Ep(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Sp&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Cp)).length,n=e.filter((e=>e instanceof Np)).length;if(t>1||t>0&&n>0)throw new Fr(Mr.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Np extends kp{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Np(e,t,n)}_apply(e){const t=this._parse(e);return jp(e._query,t),new Pm(e.firestore,e.converter,Go(e._query,t))}_parse(e){const t=np(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Fr(Mr.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){_p(a,s);const t=[];for(const n of a)t.push(Ip(r,e,n));o={arrayValue:{values:t}}}else o=Ip(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||_p(a,s),o=lp(n,t,a,"in"===s||"not-in"===s);return mo.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Tp(e,t,n){const r=t,i=wp("where",e);return Np._create(i,r,n)}class Cp extends Sp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Cp(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:po.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)jp(n,i),n=Go(n,i)}(e._query,t),new Pm(e.firestore,e.converter,Go(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Ip(e,t,n){if("string"==typeof(n=Mt(n))){if(""===n)throw new Fr(Mr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qo(t)&&-1!==n.indexOf("/"))throw new Fr(Mr.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ci.fromString(n));if(!di.isDocumentKey(r))throw new Fr(Mr.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qa(e,new di(r))}if(n instanceof Rm)return qa(e,n._key);throw new Fr(Mr.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cm(n)}.`)}function _p(e,t){if(!Array.isArray(e)||0===e.length)throw new Fr(Mr.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function jp(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Fr(Mr.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Fr(Mr.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Ap{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ya(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pr()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ia(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[La].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>ya(e.doubleValue)));return new Qm(i)}convertGeoPoint(e){return new Gm(ya(e.latitude),ya(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ea(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Na(e));default:return null}}convertTimestamp(e){const t=ga(e);return new si(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ci.fromString(e);Rr(Jc(n));const r=new Ia(n.get(1),n.get(3)),i=new di(n.popFirst(5));return r.isEqual(t)||Ar(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Dp(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Lp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pp extends vp{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Rp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(wp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Rp extends Pp{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Op{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Lp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Rp(this._firestore,this._userDataWriter,n.key,n,new Lp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Fr(Mr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Rp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Lp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Rp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Lp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Mp(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Mp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pr()}}function Fp(e){e=Im(e,Rm);const t=Im(e.firestore,Um);return wm(Bm(t),e._key).then((n=>Kp(t,e,n)))}class zp extends Ap{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rm(this.firestore,null,t)}}function Vp(e){e=Im(e,Pm);const t=Im(e.firestore,Um),n=Bm(t),r=new zp(t);return xp(e._query),xm(n,e._query).then((n=>new Op(t,r,e,n)))}function Up(e,t,n){e=Im(e,Rm);const r=Im(e.firestore,Um),i=Dp(e.converter,t,n);return Hp(r,[rp(np(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Pl.none())])}function Bp(e,t,n){e=Im(e,Rm);const r=Im(e.firestore,Um),i=np(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=Mt(t))||t instanceof Km?op(i,"updateDoc",e._key,t,n,o):ap(i,"updateDoc",e._key,t),Hp(r,[s.toMutation(e._key,Pl.exists(!0))])}function $p(e){return Hp(Im(e.firestore,Um),[new Wl(e._key,Pl.none())])}function qp(e,t){const n=Im(e.firestore,Um),r=Fm(e),i=Dp(e.converter,t);return Hp(n,[rp(np(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Pl.exists(!1))]).then((()=>r))}function Hp(e,t){return function(e,t){const n=new zr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=am(e);try{const e=await function(e,t){const n=Or(e),r=si.now(),i=t.reduce(((e,t)=>e.add(t.key)),ml());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=sl(),l=ml();return n.ds.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=Vl(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new $l(e.key,t,so(t.value.mapValue),Pl.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:ll(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Wa[e.currentUser.toKey()];r||(r=new aa(Jr)),r=r.insert(t,n),e.Wa[e.currentUser.toKey()]=r}(r,e.batchId,n),await nm(r,e.changes),await tf(r.remoteStore)}catch(e){const t=gf(e,"Failed to persist write");n.reject(t)}}(await vm(e),t,n))),n.promise}(Bm(e),t)}function Kp(e,t,n){const r=n.docs.get(t._key),i=new zp(e);return new Pp(e,i,t._key,r,new Lp(n.hasPendingWrites,n.fromCache),t.converter)}function Wp(){return new sp("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Cr=e}("11.6.0"),Gn(new Ft("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new Um(new $r(e.getProvider("auth-internal")),new Wr(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Fr(Mr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ia(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Zn(Er,Nr,e),Zn(Er,Nr,"esm2017")}();Zn("firebase","11.6.0","app");const Gp={apiKey:"AIzaSyArp7Nqz9bPgBN-tCut31B_uauSGXi9aNE",authDomain:"techtan-team.firebaseapp.com",projectId:"techtan-team",storageBucket:"techtan-team.appspot.com",messagingSenderId:"864198020641",appId:"1:864198020641:web:3d622b3a3e8f7ffb4c1d60"},Qp=Xn(Gp),Yp=function(e,t){const n="object"==typeof e?e:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn;const t=qn.get(e);if(!t&&e===Bn&&Ct())return Xn();if(!t)throw Yn.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||Ca,i=Qn(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=Tt("firestore");e&&Lm(i,...e)}return i}(Qp),Jp=()=>{try{const e=window.location.pathname,t=window.location.hash;return e.includes("/admin")||t.includes("/admin")}catch(Cg){return console.error("Error checking admin context:",Cg),!1}};try{console.log("Initializing Firebase with persistence..."),function(e,t){Dr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();return qm(e,um.provider,{build:e=>new cm(e,n.cacheSizeBytes,null==t?void 0:t.forceOwnership)}),Promise.resolve()}(Yp,{cacheSizeBytes:-1,experimentalForceOwningTab:Jp()}).then((()=>{console.log("\u2705 Firestore persistence enabled successfully")})).catch((e=>{"failed-precondition"===e.code?(console.warn("Firestore persistence failed to enable: Multiple tabs open"),console.log("The application will still work but caching will be disabled")):"unimplemented"===e.code?console.warn("Firestore persistence is not available in this browser"):console.error("Error enabling Firestore persistence:",e),console.log("Continuing with Firebase setup despite persistence issue...")}))}catch(Ig){console.error("Error setting up Firestore persistence:",Ig)}const Xp=async()=>{if(console.log("Starting Firebase permissions check..."),!Qp)return console.error("Firebase app is not initialized"),{success:!1,error:"Firebase app is not initialized"};if(console.log("\u2713 Firebase app is initialized"),!Yp)return console.error("Firestore is not initialized"),{success:!1,error:"Firestore is not initialized"};console.log("\u2713 Firestore is initialized");const e={...Gp};delete e.apiKey,console.log("Current Firebase config:",e);let t=!1;try{const e=Mm(Yp,"_connection_test");await Vp(e),t=!0,console.log("\u2713 Direct Firestore access successful")}catch(Ig){console.error("\u2717 Direct Firestore access failed:",Ig)}return console.log("Permissions check complete. To fix permissions issues:"),console.log("1. Go to Firebase Console: https://console.firebase.google.com/"),console.log(`2. Select your project: ${Gp.projectId}`),console.log("3. Go to Firestore Database \u2192 Rules"),console.log("4. Set rules to allow read/write:"),console.log("\nrules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /{document=**} {\n      allow read, write: if true;\n    }\n  }\n}\n  "),{success:t,message:t?"Permission check complete. Firestore is accessible.":"Permission check failed. Firestore is not accessible. Check console for details."}};let Zp=!1;const eg=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{const n=localStorage.getItem(e);if(!n)return t;const r=JSON.parse(n);return Array.isArray(r)?r:t}catch(Ig){return console.error(`Error parsing localStorage data for ${e}:`,Ig),t}},tg=(e,t)=>{try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(Ig){return console.error(`Error saving data to localStorage for ${e}:`,Ig),!1}},ng=async()=>{try{const e=await Vp(Mm(Yp,"teamMembers")),t=[];return e.forEach((e=>{t.push({id:e.id,...e.data()})})),tg("teamMembers",t),t}catch(Ig){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return console.error(`Firebase ${e} operation failed:`,t),Zp||"undefined"===typeof window||(Zp=!0,console.warn("Firebase connectivity issue detected. Falling back to local data.")),n}("getAll teamMembers",Ig,eg("teamMembers"))}},rg=async e=>{try{const t={id:(await qp(Mm(Yp,"teamMembers"),{...e,timestamp:Wp()})).id,...e},n=eg("teamMembers");return tg("teamMembers",[...n,t]),t}catch(Ig){console.error("Error adding team member:",Ig);const n=eg("teamMembers"),r={...e,id:Date.now().toString()},i=[...n,r];return tg("teamMembers",i),r}},ig=async(e,t)=>{try{const n=Fm(Yp,"teamMembers",e);await Bp(n,{...t,timestamp:Wp()});const r={id:e,...t},i=eg("teamMembers").map((t=>t.id===e?r:t));return tg("teamMembers",i),r}catch(Ig){console.error("Error updating team member:",Ig);const r=eg("teamMembers").map((n=>n.id===e?{id:e,...t}:n));return tg("teamMembers",r),{id:e,...t}}},sg=async e=>{try{await $p(Fm(Yp,"teamMembers",e));const t=eg("teamMembers").filter((t=>t.id!==e));return tg("teamMembers",t),!0}catch(Ig){console.error("Error deleting team member:",Ig);const n=eg("teamMembers").filter((t=>t.id!==e));return tg("teamMembers",n),!0}},ag=async()=>{try{const e=await Vp(Mm(Yp,"projects")),t=[];return e.forEach((e=>{t.push({id:e.id,...e.data()})})),localStorage.setItem("projects",JSON.stringify(t)),t}catch(Ig){console.error("Error fetching projects:",Ig);const t=localStorage.getItem("projects");return t?JSON.parse(t):[]}},og=async e=>{try{const t={id:(await qp(Mm(Yp,"projects"),{...e,timestamp:Wp()})).id,...e},n=JSON.parse(localStorage.getItem("projects")||"[]");return localStorage.setItem("projects",JSON.stringify([...n,t])),t}catch(Ig){console.error("Error adding project:",Ig);const n=JSON.parse(localStorage.getItem("projects")||"[]"),r={...e,id:Date.now().toString()};return localStorage.setItem("projects",JSON.stringify([...n,r])),r}},lg=async(e,t)=>{try{const n=Fm(Yp,"projects",e);await Bp(n,{...t,timestamp:Wp()});const r={id:e,...t},i=JSON.parse(localStorage.getItem("projects")||"[]");return localStorage.setItem("projects",JSON.stringify(i.map((t=>t.id===e?r:t)))),r}catch(Ig){console.error("Error updating project:",Ig);const r=JSON.parse(localStorage.getItem("projects")||"[]");return localStorage.setItem("projects",JSON.stringify(r.map((n=>n.id===e?{id:e,...t}:n)))),{id:e,...t}}},cg=async e=>{try{await $p(Fm(Yp,"projects",e));const t=JSON.parse(localStorage.getItem("projects")||"[]");return localStorage.setItem("projects",JSON.stringify(t.filter((t=>t.id!==e)))),!0}catch(Ig){console.error("Error deleting project:",Ig);const n=JSON.parse(localStorage.getItem("projects")||"[]");return localStorage.setItem("projects",JSON.stringify(n.filter((t=>t.id!==e)))),!0}},ug=async()=>{try{const e=await Vp(Mm(Yp,"services")),t=[];return e.forEach((e=>{t.push({id:e.id,...e.data()})})),localStorage.setItem("services",JSON.stringify(t)),t}catch(Ig){console.error("Error fetching services:",Ig);const t=localStorage.getItem("services");return t?JSON.parse(t):[]}},hg=async e=>{try{const t={id:(await qp(Mm(Yp,"services"),{...e,timestamp:Wp()})).id,...e},n=JSON.parse(localStorage.getItem("services")||"[]");return localStorage.setItem("services",JSON.stringify([...n,t])),t}catch(Ig){console.error("Error adding service:",Ig);const n=JSON.parse(localStorage.getItem("services")||"[]"),r={...e,id:Date.now().toString()};return localStorage.setItem("services",JSON.stringify([...n,r])),r}},dg=async(e,t)=>{try{const n=Fm(Yp,"services",e);await Bp(n,{...t,timestamp:Wp()});const r={id:e,...t},i=JSON.parse(localStorage.getItem("services")||"[]");return localStorage.setItem("services",JSON.stringify(i.map((t=>t.id===e?r:t)))),r}catch(Ig){console.error("Error updating service:",Ig);const r=JSON.parse(localStorage.getItem("services")||"[]");return localStorage.setItem("services",JSON.stringify(r.map((n=>n.id===e?{id:e,...t}:n)))),{id:e,...t}}},fg=async e=>{try{await $p(Fm(Yp,"services",e));const t=JSON.parse(localStorage.getItem("services")||"[]");return localStorage.setItem("services",JSON.stringify(t.filter((t=>t.id!==e)))),!0}catch(Ig){console.error("Error deleting service:",Ig);const n=JSON.parse(localStorage.getItem("services")||"[]");return localStorage.setItem("services",JSON.stringify(n.filter((t=>t.id!==e)))),!0}},mg=async()=>{try{const e=await Vp(Mm(Yp,"contactSubmissions")),t=[];return e.forEach((e=>{t.push({id:e.id,...e.data()})})),localStorage.setItem("contactSubmissions",JSON.stringify(t)),t}catch(Ig){console.error("Error fetching contact submissions:",Ig);const t=localStorage.getItem("contactSubmissions");return t?JSON.parse(t):[]}},pg=async e=>{try{const t={id:(await qp(Mm(Yp,"contactSubmissions"),{...e,date:e.date||(new Date).toISOString(),isNew:!0,timestamp:Wp()})).id,...e},n=JSON.parse(localStorage.getItem("contactSubmissions")||"[]");return localStorage.setItem("contactSubmissions",JSON.stringify([...n,t])),t}catch(Ig){console.error("Error adding contact submission:",Ig);const n=JSON.parse(localStorage.getItem("contactSubmissions")||"[]"),r={...e,id:Date.now().toString(),date:e.date||(new Date).toISOString(),isNew:!0};return localStorage.setItem("contactSubmissions",JSON.stringify([...n,r])),r}},gg=async e=>{try{await $p(Fm(Yp,"contactSubmissions",e));const t=JSON.parse(localStorage.getItem("contactSubmissions")||"[]");return localStorage.setItem("contactSubmissions",JSON.stringify(t.filter((t=>t.id!==e)))),!0}catch(Ig){console.error("Error deleting contact submission:",Ig);const n=JSON.parse(localStorage.getItem("contactSubmissions")||"[]");return localStorage.setItem("contactSubmissions",JSON.stringify(n.filter((t=>t.id!==e)))),!0}},yg=async e=>{try{const t=Fm(Yp,"contactSubmissions",e);await Bp(t,{isNew:!1,timestamp:Wp()});const n=JSON.parse(localStorage.getItem("contactSubmissions")||"[]");return localStorage.setItem("contactSubmissions",JSON.stringify(n.map((t=>t.id===e?{...t,isNew:!1}:t)))),{id:e,isNew:!1}}catch(Ig){console.error("Error marking contact submission as read:",Ig);const n=JSON.parse(localStorage.getItem("contactSubmissions")||"[]");return localStorage.setItem("contactSubmissions",JSON.stringify(n.map((t=>t.id===e?{...t,isNew:!1}:t)))),{id:e,isNew:!1}}};var vg=n(579);const bg={en:{home:{title:"Building Ideas into Digital Reality.",subtitle:"At Techtan, we fuse creativity with engineering to build smart, scalable, and elegant software solutions.",cta:"Get in Touch"},team:{title:"Our Team",noTeam:"No team members to display. Log in to add team members."},projects:{title:"Our Projects",viewDetails:"View Details",noProjects:"No projects to display. Log in to add projects."},services:{title:"Our Services",noServices:"No services to display. Log in to add services."},contact:{title:"Contact Us",name:"Your Name",email:"Email Address",message:"Message",send:"Send Message",sending:"Sending...",success:"Message Sent!",thankYou:"Thank you for contacting us. We'll get back to you soon."},footer:{copyright:"\xa9 {year} DevTeam Solutions. All rights reserved.",services:"Professional Web Development Services",login:"Admin Login"},nav:{team:"Team",projects:"Projects",services:"Services",contact:"Contact"}},fa:{home:{title:"\u0627\u06cc\u062f\u0647\u200c\u0647\u0627 \u0631\u0627 \u0628\u0647 \u0648\u0627\u0642\u0639\u06cc\u062a \u062f\u06cc\u062c\u06cc\u062a\u0627\u0644 \u062a\u0628\u062f\u06cc\u0644 \u0645\u06cc\u200c\u06a9\u0646\u06cc\u0645.",subtitle:"\u062f\u0631 Techtan\u060c \u062e\u0644\u0627\u0642\u06cc\u062a \u0631\u0627 \u0628\u0627 \u0645\u0647\u0646\u062f\u0633\u06cc \u062a\u0631\u06a9\u06cc\u0628 \u0645\u06cc\u200c\u06a9\u0646\u06cc\u0645 \u062a\u0627 \u0631\u0627\u0647\u200c\u062d\u0644\u200c\u0647\u0627\u06cc \u0646\u0631\u0645\u200c\u0627\u0641\u0632\u0627\u0631\u06cc \u0647\u0648\u0634\u0645\u0646\u062f\u060c \u0645\u0642\u06cc\u0627\u0633\u200c\u067e\u0630\u06cc\u0631 \u0648 \u0634\u06cc\u06a9 \u0628\u0633\u0627\u0632\u06cc\u0645.",cta:"\u062a\u0645\u0627\u0633 \u0628\u0627 \u0645\u0627"},team:{title:"\u062a\u06cc\u0645 \u0645\u0627",noTeam:"\u0647\u06cc\u0686 \u0639\u0636\u0648 \u062a\u06cc\u0645\u06cc \u0628\u0631\u0627\u06cc \u0646\u0645\u0627\u06cc\u0634 \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f. \u0628\u0631\u0627\u06cc \u0627\u0641\u0632\u0648\u062f\u0646 \u0627\u0639\u0636\u0627\u06cc \u062a\u06cc\u0645 \u0648\u0627\u0631\u062f \u0634\u0648\u06cc\u062f."},projects:{title:"\u067e\u0631\u0648\u0698\u0647 \u0647\u0627\u06cc \u0645\u0627",viewDetails:"\u0645\u0634\u0627\u0647\u062f\u0647 \u062c\u0632\u0626\u06cc\u0627\u062a",noProjects:"\u0647\u06cc\u0686 \u067e\u0631\u0648\u0698\u0647 \u0627\u06cc \u0628\u0631\u0627\u06cc \u0646\u0645\u0627\u06cc\u0634 \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f. \u0628\u0631\u0627\u06cc \u0627\u0641\u0632\u0648\u062f\u0646 \u067e\u0631\u0648\u0698\u0647 \u0647\u0627 \u0648\u0627\u0631\u062f \u0634\u0648\u06cc\u062f."},services:{title:"\u062e\u062f\u0645\u0627\u062a \u0645\u0627",noServices:"\u0647\u06cc\u0686 \u062e\u062f\u0645\u0627\u062a\u06cc \u0628\u0631\u0627\u06cc \u0646\u0645\u0627\u06cc\u0634 \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f. \u0628\u0631\u0627\u06cc \u0627\u0641\u0632\u0648\u062f\u0646 \u062e\u062f\u0645\u0627\u062a \u0648\u0627\u0631\u062f \u0634\u0648\u06cc\u062f."},contact:{title:"\u062a\u0645\u0627\u0633 \u0628\u0627 \u0645\u0627",name:"\u0646\u0627\u0645 \u0634\u0645\u0627",email:"\u0622\u062f\u0631\u0633 \u0627\u06cc\u0645\u06cc\u0644",message:"\u067e\u06cc\u0627\u0645",send:"\u0627\u0631\u0633\u0627\u0644 \u067e\u06cc\u0627\u0645",sending:"\u062f\u0631 \u062d\u0627\u0644 \u0627\u0631\u0633\u0627\u0644...",success:"\u067e\u06cc\u0627\u0645 \u0627\u0631\u0633\u0627\u0644 \u0634\u062f!",thankYou:"\u0627\u0632 \u062a\u0645\u0627\u0633 \u0634\u0645\u0627 \u0645\u062a\u0634\u06a9\u0631\u06cc\u0645. \u0628\u0647 \u0632\u0648\u062f\u06cc \u0628\u0627 \u0634\u0645\u0627 \u062a\u0645\u0627\u0633 \u062e\u0648\u0627\u0647\u06cc\u0645 \u06af\u0631\u0641\u062a."},footer:{copyright:"\xa9 {year} DevTeam Solutions. \u062a\u0645\u0627\u0645\u06cc \u062d\u0642\u0648\u0642 \u0645\u062d\u0641\u0648\u0638 \u0627\u0633\u062a.",services:"\u062e\u062f\u0645\u0627\u062a \u062d\u0631\u0641\u0647 \u0627\u06cc \u062a\u0648\u0633\u0639\u0647 \u0648\u0628",login:"\u0648\u0631\u0648\u062f \u0645\u062f\u06cc\u0631"},nav:{team:"\u062a\u06cc\u0645",projects:"\u067e\u0631\u0648\u0698\u0647 \u0647\u0627",services:"\u062e\u062f\u0645\u0627\u062a",contact:"\u062a\u0645\u0627\u0633"}},ar:{home:{title:"\u0646\u0628\u0646\u064a \u0627\u0644\u0623\u0641\u0643\u0627\u0631 \u0625\u0644\u0649 \u0648\u0627\u0642\u0639 \u0631\u0642\u0645\u064a.",subtitle:"\u0641\u064a \u062a\u064a\u0643\u062a\u0627\u0646\u060c \u0646\u062f\u0645\u062c \u0627\u0644\u0625\u0628\u062f\u0627\u0639 \u0645\u0639 \u0627\u0644\u0647\u0646\u062f\u0633\u0629 \u0644\u0628\u0646\u0627\u0621 \u062d\u0644\u0648\u0644 \u0628\u0631\u0645\u062c\u064a\u0629 \u0630\u0643\u064a\u0629 \u0648\u0642\u0627\u0628\u0644\u0629 \u0644\u0644\u062a\u0648\u0633\u0639 \u0648\u0623\u0646\u064a\u0642\u0629.",cta:"\u062a\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627"},team:{title:"\u0641\u0631\u064a\u0642\u0646\u0627",noTeam:"\u0644\u0627 \u064a\u0648\u062c\u062f \u0623\u0639\u0636\u0627\u0621 \u0641\u0631\u064a\u0642 \u0644\u0644\u0639\u0631\u0636. \u0642\u0645 \u0628\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0644\u0625\u0636\u0627\u0641\u0629 \u0623\u0639\u0636\u0627\u0621 \u0627\u0644\u0641\u0631\u064a\u0642."},projects:{title:"\u0645\u0634\u0627\u0631\u064a\u0639\u0646\u0627",viewDetails:"\u0639\u0631\u0636 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644",noProjects:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0634\u0627\u0631\u064a\u0639 \u0644\u0644\u0639\u0631\u0636. \u0642\u0645 \u0628\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0644\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0634\u0627\u0631\u064a\u0639."},services:{title:"\u062e\u062f\u0645\u0627\u062a\u0646\u0627",noServices:"\u0644\u0627 \u062a\u0648\u062c\u062f \u062e\u062f\u0645\u0627\u062a \u0644\u0644\u0639\u0631\u0636. \u0642\u0645 \u0628\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0644\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u062e\u062f\u0645\u0627\u062a."},contact:{title:"\u0627\u062a\u0635\u0644 \u0628\u0646\u0627",name:"\u0627\u0633\u0645\u0643",email:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",message:"\u0631\u0633\u0627\u0644\u0629",send:"\u0625\u0631\u0633\u0627\u0644 \u0631\u0633\u0627\u0644\u0629",sending:"\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0631\u0633\u0627\u0644...",success:"\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u0633\u0627\u0644\u0629!",thankYou:"\u0634\u0643\u0631\u0627 \u0644\u062a\u0648\u0627\u0635\u0644\u0643 \u0645\u0639\u0646\u0627. \u0633\u0646\u0639\u0627\u0648\u062f \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0628\u0643 \u0642\u0631\u064a\u0628\u0627."},footer:{copyright:"\xa9 {year} DevTeam Solutions. \u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0642\u0648\u0642 \u0645\u062d\u0641\u0648\u0638\u0629.",services:"\u062e\u062f\u0645\u0627\u062a \u062a\u0637\u0648\u064a\u0631 \u0627\u0644\u0648\u064a\u0628 \u0627\u0644\u0627\u062d\u062a\u0631\u0627\u0641\u064a\u0629",login:"\u062a\u0633\u062c\u064a\u0644 \u062f\u062e\u0648\u0644 \u0627\u0644\u0645\u0633\u0624\u0648\u0644"},nav:{team:"\u0627\u0644\u0641\u0631\u064a\u0642",projects:"\u0627\u0644\u0645\u0634\u0627\u0631\u064a\u0639",services:"\u0627\u0644\u062e\u062f\u0645\u0627\u062a",contact:"\u0627\u062a\u0635\u0644 \u0628\u0646\u0627"}}},wg=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)([]),[s,a]=(0,r.useState)([]),[o,l]=(0,r.useState)("home"),[c,u]=(0,r.useState)(!1),[h,d]=(0,r.useState)(!1),[f,m]=(0,r.useState)("en"),[p,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!0),[x,S]=(0,r.useState)(null),[k,E]=(0,r.useState)(0),[N,T]=(0,r.useState)(0),[C,I]=(0,r.useState)(0),[_,j]=(0,r.useState)(0),A=(0,r.useRef)(),D=(0,r.useRef)(null);(0,r.useEffect)((()=>{function e(e){D.current&&!D.current.contains(e.target)&&v(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[D]);const L=(e,t)=>bg[f][e][t];(0,r.useEffect)((()=>{try{localStorage.setItem("test","test");"test"!==localStorage.getItem("test")?console.error("localStorage is not working correctly"):(console.log("localStorage is working correctly"),localStorage.removeItem("test"));const e=localStorage.getItem("contactSubmissions");console.log("Current contact submissions in localStorage:",e?JSON.parse(e):"none")}catch(Ig){console.error("Error testing localStorage:",Ig)}}),[]),(0,r.useEffect)((()=>{(async()=>{let e=!1;console.log("Starting data loading process...");const n=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);n&&console.log("Mobile device detected - applying optimizations");try{const n=localStorage.getItem("teamMembers"),r=localStorage.getItem("projects"),s=localStorage.getItem("services");let o=!1;if(n){const r=JSON.parse(n);r&&Array.isArray(r)&&r.length>0&&(t(r),o=!0,e=!0,console.log("Loaded team members from localStorage"))}if(r){const t=JSON.parse(r);t&&Array.isArray(t)&&t.length>0&&(i(t),o=!0,e=!0,console.log("Loaded projects from localStorage"))}if(s){const t=JSON.parse(s);t&&Array.isArray(t)&&t.length>0&&(a(t),o=!0,e=!0,console.log("Loaded services from localStorage"))}o&&console.log("Successfully loaded data from localStorage")}catch(Ig){console.error("Error loading from localStorage:",Ig)}const r=window.location.search.includes("debug=true");try{w(!0);let n=null;e||(n=setTimeout((()=>{e||w(!0)}),300));const r=await ng();r&&Array.isArray(r)&&(t(r),e=!0,console.log("Successfully loaded team members from API"));const s=await ag();s&&Array.isArray(s)&&(i(s),e=!0,console.log("Successfully loaded projects from API"));const o=await ug();o&&Array.isArray(o)&&(a(o),e=!0,console.log("Successfully loaded services from API")),n&&clearTimeout(n),w(!1)}catch(Ig){console.error("Error loading from API:",Ig),S("Failed to load content. Please try again later."),w(!1),n&&!e&&"#/"===window.location.hash&&(r||window.confirm("Having trouble loading content? Would you like to run diagnostics?"))&&(console.log("Redirecting to diagnostics page due to loading failure on mobile"),window.location.hash="#/firebase-check")}})()}),[]),(0,r.useEffect)((()=>{const e=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&l(e.target.id)}))}),{root:null,rootMargin:"0px",threshold:.6}),t=document.querySelectorAll("section[id]");return t.forEach((t=>{e.observe(t)})),()=>{t.forEach((t=>{e.unobserve(t)}))}}),[]);const[P,R]=(0,r.useState)({name:"",email:"",message:""}),O=e=>{R({...P,[e.target.name]:e.target.value})},M=e=>{const t=document.getElementById(e);t&&(t.scrollIntoView({behavior:"smooth"}),g(!1))},F=e=>{m(e),document.documentElement.dir="en"===e?"ltr":"rtl",document.documentElement.lang=e,v(!1);const t=document.documentElement;"en"===e?t.classList.remove("rtl-layout"):t.classList.add("rtl-layout")},z=e=>{if("project"===e)E((e=>e===n.length-1?0:e+1));else if("service"===e)T((e=>e===s.length-1?0:e+1));else if("tablet-service"===e){const e=Math.ceil(s.length/2);I((t=>t===e-1?0:t+1))}else if("desktop-service"===e){const e=Math.ceil(s.length/3);j((t=>t===e-1?0:t+1))}},V=e=>{if("project"===e)E((e=>0===e?n.length-1:e-1));else if("service"===e)T((e=>0===e?s.length-1:e-1));else if("tablet-service"===e){const e=Math.ceil(s.length/2);I((t=>0===t?e-1:t-1))}else if("desktop-service"===e){const e=Math.ceil(s.length/3);j((t=>0===t?e-1:t-1))}};(0,r.useEffect)((()=>{const e=document.createElement("style");return e.type="text/css",e.innerText="\n      @keyframes fadeIn {\n        from { opacity: 0; }\n        to { opacity: 1; }\n      }\n      \n      @keyframes slideUp {\n        from { \n          opacity: 0;\n          transform: translateY(20px);\n        }\n        to { \n          opacity: 1;\n          transform: translateY(0);\n        }\n      }\n      \n      .animate-fadeIn {\n        animation: fadeIn 1s ease-out;\n      }\n      \n      .animate-slideUp {\n        animation: slideUp 1s ease-out;\n        animation-fill-mode: forwards;\n      }\n      \n      .delay-500 {\n        animation-delay: 0.5s;\n      }\n      \n      .delay-1000 {\n        animation-delay: 1s;\n      }\n      \n      /* RTL specific fixes */\n      .rtl-layout .flex.items-center.space-x-1 {\n        flex-direction: row-reverse;\n      }\n      \n      .rtl-layout .ml-1 {\n        margin-left: 0;\n        margin-right: 0.25rem;\n      }\n      \n      .rtl-layout .mr-2,\n      .rtl-layout .mr-3,\n      .rtl-layout .mr-4 {\n        margin-right: 0;\n      }\n      \n      .rtl-layout .mr-2 {\n        margin-left: 0.5rem;\n      }\n      \n      .rtl-layout .mr-3 {\n        margin-left: 0.75rem;\n      }\n      \n      .rtl-layout .mr-4 {\n        margin-left: 1rem;\n      }\n      \n      .rtl-layout .space-x-1 > * + * {\n        margin-left: 0;\n        margin-right: 0.25rem;\n      }\n      \n      .rtl-layout .space-x-2 > * + * {\n        margin-left: 0;\n        margin-right: 0.5rem;\n      }\n      \n      .rtl-layout .space-x-3 > * + * {\n        margin-left: 0;\n        margin-right: 0.75rem;\n      }\n      \n      .rtl-layout .space-x-8 > * + * {\n        margin-left: 0;\n        margin-right: 2rem;\n      }\n    ",document.head.appendChild(e),()=>{document.head.removeChild(e)}}),[]);const U=e=>(0,vg.jsx)("div",{className:"text-center py-8",children:b?(0,vg.jsxs)("div",{children:[(0,vg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,vg.jsx)("p",{className:"text-gray-500",children:L("common","loading")})]}):x?(0,vg.jsxs)("div",{children:[(0,vg.jsx)("p",{className:"text-red-500 mb-2",children:x}),(0,vg.jsx)("p",{className:"text-gray-500",children:L("common","tryAgain")})]}):(0,vg.jsxs)("p",{className:"text-gray-500",children:["team"===e&&L("team","noMembers"),"projects"===e&&L("projects","noProjects"),"services"===e&&L("services","noServices")]})});return(0,vg.jsxs)("div",{className:"min-h-screen bg-white "+("en"!==f?"font-sans":""),children:[(0,vg.jsxs)("header",{className:"fixed top-0 left-0 right-0 bg-white shadow-sm z-50 transition-all duration-300",children:[(0,vg.jsx)("div",{className:"container mx-auto px-4 py-3",children:(0,vg.jsxs)("div",{className:"flex justify-between items-center",children:[(0,vg.jsx)("div",{className:"flex items-center",children:(0,vg.jsx)("img",{src:"/techtan-logo.png",alt:"Techtan Logo",className:"h-10 mr-3"})}),(0,vg.jsxs)("div",{className:"hidden md:flex items-center",children:[(0,vg.jsx)("nav",{className:"mr-4",children:(0,vg.jsxs)("ul",{className:"flex space-x-8",children:[(0,vg.jsx)("li",{children:(0,vg.jsx)("button",{onClick:()=>M("team"),className:"py-2 px-1 font-medium text-sm transition-colors "+("team"===o?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"),children:L("nav","team")})}),(0,vg.jsx)("li",{children:(0,vg.jsx)("button",{onClick:()=>M("projects"),className:"py-2 px-1 font-medium text-sm transition-colors "+("projects"===o?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"),children:L("nav","projects")})}),(0,vg.jsx)("li",{children:(0,vg.jsx)("button",{onClick:()=>M("services"),className:"py-2 px-1 font-medium text-sm transition-colors "+("services"===o?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"),children:L("nav","services")})}),(0,vg.jsx)("li",{children:(0,vg.jsx)("button",{onClick:()=>M("contact"),className:"py-2 px-1 font-medium text-sm transition-colors "+("contact"===o?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"),children:L("nav","contact")})})]})}),(0,vg.jsxs)("div",{className:"relative",ref:D,children:[(0,vg.jsxs)("button",{onClick:()=>v(!y),className:"flex items-center space-x-1 px-3 py-2 text-sm font-medium text-blue-600 hover:text-gray-900 focus:outline-none",children:[(0,vg.jsx)("span",{children:(()=>{switch(f){case"fa":return"\u0641\u0627\u0631\u0633\u06cc";case"ar":return"\u0627\u0644\u0639\u0631\u0628\u064a\u0629";default:return"English"}})()}),(0,vg.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,vg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),y&&(0,vg.jsxs)("div",{className:`absolute ${"en"===f?"right-0":"left-0"} mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10 border border-gray-200`,children:[(0,vg.jsx)("button",{onClick:()=>F("en"),className:"block px-4 py-2 text-sm text-left w-full hover:bg-gray-100 "+("en"===f?"bg-blue-50 text-blue-700":"text-gray-700"),children:"English"}),(0,vg.jsx)("button",{onClick:()=>F("fa"),className:"block px-4 py-2 text-sm text-left w-full hover:bg-gray-100 "+("fa"===f?"bg-blue-50 text-blue-700":"text-gray-700"),children:"\u0641\u0627\u0631\u0633\u06cc"}),(0,vg.jsx)("button",{onClick:()=>F("ar"),className:"block px-4 py-2 text-sm text-left w-full hover:bg-gray-100 "+("ar"===f?"bg-blue-50 text-blue-700":"text-gray-700"),children:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"})]})]})]}),(0,vg.jsxs)("div",{className:"md:hidden flex items-center",children:[(0,vg.jsx)("button",{onClick:()=>v(!y),className:"px-2 py-1 text-sm font-medium text-gray-700 hover:text-gray-900 focus:outline-none mr-2",children:f.toUpperCase()}),(0,vg.jsx)("button",{onClick:()=>g(!p),className:"p-2 rounded-md text-gray-700 hover:text-gray-900 hover:bg-gray-100 focus:outline-none",children:(0,vg.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p?(0,vg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}):(0,vg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})]})]})}),p&&(0,vg.jsx)("div",{className:"md:hidden bg-white border-t border-gray-200 py-2",children:(0,vg.jsx)("div",{className:"container mx-auto px-4",children:(0,vg.jsxs)("nav",{className:"flex flex-col space-y-3 py-3",children:[(0,vg.jsxs)("div",{className:"border-b border-gray-100 pb-3 mb-3",children:[(0,vg.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Select Language"}),(0,vg.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,vg.jsx)("button",{onClick:()=>F("en"),className:"py-2 px-4 text-left rounded-md text-sm "+("en"===f?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"),children:"English"}),(0,vg.jsx)("button",{onClick:()=>F("fa"),className:"py-2 px-4 text-left rounded-md text-sm "+("fa"===f?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"),children:"\u0641\u0627\u0631\u0633\u06cc"}),(0,vg.jsx)("button",{onClick:()=>F("ar"),className:"py-2 px-4 text-left rounded-md text-sm "+("ar"===f?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"),children:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"})]})]}),(0,vg.jsx)("button",{onClick:()=>M("team"),className:"py-2 px-4 text-left rounded-md font-medium text-sm "+("team"===o?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"),children:L("nav","team")}),(0,vg.jsx)("button",{onClick:()=>M("projects"),className:"py-2 px-4 text-left rounded-md font-medium text-sm "+("projects"===o?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"),children:L("nav","projects")}),(0,vg.jsx)("button",{onClick:()=>M("services"),className:"py-2 px-4 text-left rounded-md font-medium text-sm "+("services"===o?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"),children:L("nav","services")}),(0,vg.jsx)("button",{onClick:()=>M("contact"),className:"py-2 px-4 text-left rounded-md font-medium text-sm "+("contact"===o?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"),children:L("nav","contact")})]})})})]}),(0,vg.jsxs)("section",{id:"home",className:"relative flex items-center justify-center",style:{backgroundImage:"url(/hero-background.jpg)",backgroundSize:"cover",backgroundPosition:"center",minHeight:"100vh"},children:[(0,vg.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-60"}),(0,vg.jsxs)("div",{className:"container mx-auto px-4 text-center relative z-10 py-20 mt-16",children:[(0,vg.jsx)("h2",{className:"text-3xl md:text-5xl font-bold mb-6 text-white animate-fadeIn",children:L("home","title")}),(0,vg.jsx)("p",{className:"text-lg md:text-xl max-w-2xl mx-auto text-gray-200 animate-slideUp opacity-0 delay-500",children:L("home","subtitle")}),(0,vg.jsx)("button",{onClick:()=>M("contact"),className:"mt-10 bg-blue-600 text-white px-6 py-3 rounded-md font-medium hover:bg-blue-700 transition animate-fadeIn delay-1000",children:L("home","cta")})]})]}),(0,vg.jsx)("section",{id:"team",className:"py-16 bg-white",children:(0,vg.jsxs)("div",{className:"container mx-auto px-4",children:[(0,vg.jsx)("h2",{className:"text-xl md:text-2xl font-bold text-center mb-10 text-gray-900",children:L("team","title")}),e.length>0?(0,vg.jsx)("div",{className:`grid grid-cols-1 ${e.length<3?"sm:grid-cols-2 lg:grid-cols-2":"sm:grid-cols-2 lg:grid-cols-4"} gap-4 md:gap-6 justify-center max-w-4xl mx-auto`,children:e.map((e=>(0,vg.jsxs)("div",{className:"bg-gray-50 rounded-md p-4 md:p-5 text-center hover:shadow-md transition-shadow duration-300 flex flex-col justify-between h-64 relative",children:[(0,vg.jsxs)("div",{children:[(0,vg.jsx)("img",{src:e.image,alt:e.name,className:"w-20 h-20 md:w-24 md:h-24 rounded-full mx-auto mb-3 md:mb-4 object-cover"}),(0,vg.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.name}),(0,vg.jsx)("p",{className:"text-blue-600 mb-2 text-sm",children:e.role})]}),(0,vg.jsxs)("div",{className:"mt-auto",children:[(0,vg.jsx)("p",{className:"text-gray-600 text-sm",children:e.email}),e.phone&&(0,vg.jsx)("p",{className:"text-gray-600 text-sm",children:e.phone}),(0,vg.jsxs)("div",{className:"flex justify-center mt-2 space-x-3",children:[e.github&&(0,vg.jsx)("a",{href:e.github,target:"_blank",rel:"noopener noreferrer",className:"text-gray-700 hover:text-gray-900",children:(0,vg.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,vg.jsx)("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})})}),e.linkedin&&(0,vg.jsx)("a",{href:e.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-gray-700 hover:text-gray-900",children:(0,vg.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,vg.jsx)("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})})]})]})]},e.id)))}):U("team")]})}),(0,vg.jsx)("section",{id:"projects",className:"py-16 bg-gray-50",children:(0,vg.jsxs)("div",{className:"container mx-auto px-4",children:[(0,vg.jsx)("h2",{className:"text-xl md:text-2xl font-bold text-center mb-10 text-gray-900",children:L("projects","title")}),n.length>0?(0,vg.jsxs)(vg.Fragment,{children:[(0,vg.jsx)("div",{className:"hidden md:grid grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:n.map((e=>(0,vg.jsxs)("div",{className:"bg-white rounded-md overflow-hidden hover:shadow-md transition-shadow duration-300 relative",children:[(0,vg.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover"}),(0,vg.jsxs)("div",{className:"p-4 md:p-5",children:[(0,vg.jsx)("h3",{className:"text-lg font-medium mb-2 text-gray-900",children:e.title}),(0,vg.jsx)("p",{className:"text-gray-600 text-sm whitespace-pre-wrap",children:e.description}),e.link?(0,vg.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"mt-3 inline-block text-blue-600 text-sm font-medium hover:text-blue-800",children:L("projects","viewDetails")}):(0,vg.jsx)("button",{className:"mt-3 text-blue-600 text-sm font-medium hover:text-blue-800",children:L("projects","viewDetails")})]})]},e.id)))}),(0,vg.jsxs)("div",{className:"md:hidden relative",children:[(0,vg.jsx)("div",{className:"overflow-hidden rounded-md",children:n.length>0&&(0,vg.jsxs)("div",{className:"bg-white rounded-md overflow-hidden hover:shadow-md transition-shadow duration-300 relative",children:[(0,vg.jsx)("img",{src:n[k].image,alt:n[k].title,className:"w-full h-48 object-cover"}),(0,vg.jsxs)("div",{className:"p-4 md:p-5",children:[(0,vg.jsx)("h3",{className:"text-lg font-medium mb-2 text-gray-900",children:n[k].title}),(0,vg.jsx)("p",{className:"text-gray-600 text-sm whitespace-pre-wrap",children:n[k].description}),n[k].link?(0,vg.jsx)("a",{href:n[k].link,target:"_blank",rel:"noopener noreferrer",className:"mt-3 inline-block text-blue-600 text-sm font-medium hover:text-blue-800",children:L("projects","viewDetails")}):(0,vg.jsx)("button",{className:"mt-3 text-blue-600 text-sm font-medium hover:text-blue-800",children:L("projects","viewDetails")})]})]})}),n.length>1&&(0,vg.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,vg.jsx)("button",{onClick:()=>V("project"),className:"bg-blue-600 text-white p-2 rounded-full shadow-lg hover:bg-blue-700",children:(0,vg.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),(0,vg.jsx)("div",{className:"flex space-x-2",children:n.map(((e,t)=>(0,vg.jsx)("span",{className:"h-2 w-2 rounded-full "+(k===t?"bg-blue-600":"bg-gray-300")},t)))}),(0,vg.jsx)("button",{onClick:()=>z("project"),className:"bg-blue-600 text-white p-2 rounded-full shadow-lg hover:bg-blue-700",children:(0,vg.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})]})]}):U("projects")]})}),(0,vg.jsx)("section",{id:"services",className:"py-16 bg-white",children:(0,vg.jsxs)("div",{className:"container mx-auto px-4",children:[(0,vg.jsx)("h2",{className:"text-xl md:text-2xl font-bold text-center mb-10 text-gray-900",children:L("services","title")}),s.length>0?(0,vg.jsxs)(vg.Fragment,{children:[(0,vg.jsxs)("div",{className:"hidden lg:block relative",children:[(0,vg.jsx)("div",{className:"max-w-[98%] mx-auto overflow-hidden",children:(0,vg.jsx)("div",{className:"flex transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${100*_}%)`},children:Array.from({length:Math.ceil(s.length/3)}).map(((e,t)=>(0,vg.jsx)("div",{className:"min-w-full flex-shrink-0 w-full",children:(0,vg.jsx)("div",{className:"grid grid-cols-3 gap-5",children:s.slice(3*t,3*t+3).map(((e,t)=>(0,vg.jsxs)("div",{className:"group h-full bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-100",children:[(0,vg.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 relative overflow-hidden",children:[(0,vg.jsx)("div",{className:"absolute right-0 top-0 -mt-4 -mr-4 w-20 h-20 rounded-full bg-white opacity-10"}),(0,vg.jsx)("div",{className:"absolute left-0 bottom-0 -mb-8 -ml-8 w-24 h-24 rounded-full bg-white opacity-10"}),e.icon&&(0,vg.jsx)("div",{className:"bg-white/20 w-12 h-12 rounded-lg flex items-center justify-center mb-4 backdrop-blur-sm",children:(0,vg.jsx)("img",{src:e.icon,alt:"",className:"w-6 h-6"})}),(0,vg.jsx)("h3",{className:"text-xl font-bold text-white mb-3",children:e.title}),(0,vg.jsx)("div",{className:"flex items-center",children:(0,vg.jsx)("p",{className:"text-white/90 text-base font-bold",children:e.price})}),e.shortIntro&&(0,vg.jsx)("p",{className:"text-blue-100 text-sm mt-2",children:e.shortIntro})]}),(0,vg.jsxs)("div",{className:"p-6 flex-grow",children:[e.description&&(0,vg.jsx)("p",{className:"text-gray-700 mb-4 text-sm",children:e.description}),e.features&&e.features.length>0?(0,vg.jsx)("ul",{className:"space-y-3",children:e.features.map(((e,t)=>(0,vg.jsxs)("li",{className:"flex items-start",children:[(0,vg.jsx)("span",{className:"text-amber-500 mr-2",children:"\u2022"}),(0,vg.jsx)("span",{className:"text-gray-700",children:e})]},t)))}):(0,vg.jsx)("ul",{className:"space-y-3",children:e.description&&e.description.split("\n").filter((e=>e.trim())).map(((e,t)=>(0,vg.jsxs)("li",{className:"flex items-start",children:[(0,vg.jsx)("span",{className:"text-amber-500 mr-2",children:"\u2022"}),(0,vg.jsx)("span",{className:"text-gray-700",children:e.trim()})]},t)))}),e.ctaLink&&(0,vg.jsx)("div",{className:"mt-6",children:(0,vg.jsxs)("a",{href:e.ctaLink,className:"inline-flex items-center text-blue-600 font-medium text-sm hover:text-blue-800 transition-colors",children:["Learn more",(0,vg.jsx)("svg",{className:"ml-1 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})})]}),(0,vg.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:(0,vg.jsx)("p",{className:"text-sm text-gray-700",children:e.deliveryTime?`Delivery: ${e.deliveryTime}`:"Delivery: 3-5 days"})})]},e.id)))})},`desktop-slide-${t}`)))})}),s.length>3&&(0,vg.jsxs)("div",{className:"flex justify-between items-center mt-8",children:[(0,vg.jsx)("button",{onClick:()=>V("desktop-service"),className:"bg-blue-600 text-white p-2 rounded-full shadow-lg hover:bg-blue-700 transition-colors","aria-label":"Previous slide",children:(0,vg.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),(0,vg.jsx)("div",{className:"flex space-x-2",children:Array.from({length:Math.ceil(s.length/3)}).map(((e,t)=>(0,vg.jsx)("span",{className:"h-2 w-2 rounded-full transition-all duration-300 "+(_===t?"bg-blue-600 w-4":"bg-gray-300")},`desktop-dot-${t}`)))}),(0,vg.jsx)("button",{onClick:()=>z("desktop-service"),className:"bg-blue-600 text-white p-2 rounded-full shadow-lg hover:bg-blue-700 transition-colors","aria-label":"Next slide",children:(0,vg.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})]}),(0,vg.jsxs)("div",{className:"hidden md:block lg:hidden relative",children:[(0,vg.jsx)("div",{className:"max-w-[98%] mx-auto overflow-hidden",children:(0,vg.jsx)("div",{className:"flex transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${100*C}%)`},children:Array.from({length:Math.ceil(s.length/2)}).map(((e,t)=>(0,vg.jsx)("div",{className:"min-w-full flex-shrink-0 w-full",children:(0,vg.jsx)("div",{className:"grid grid-cols-2 gap-5",children:s.slice(2*t,2*t+2).map(((e,t)=>(0,vg.jsxs)("div",{className:"group h-full bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-100",children:[(0,vg.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 relative overflow-hidden",children:[(0,vg.jsx)("div",{className:"absolute right-0 top-0 -mt-4 -mr-4 w-20 h-20 rounded-full bg-white opacity-10"}),(0,vg.jsx)("div",{className:"absolute left-0 bottom-0 -mb-8 -ml-8 w-24 h-24 rounded-full bg-white opacity-10"}),e.icon&&(0,vg.jsx)("div",{className:"bg-white/20 w-12 h-12 rounded-lg flex items-center justify-center mb-4 backdrop-blur-sm",children:(0,vg.jsx)("img",{src:e.icon,alt:"",className:"w-6 h-6"})}),(0,vg.jsx)("h3",{className:"text-xl font-bold text-white mb-3",children:e.title}),(0,vg.jsx)("div",{className:"flex items-center",children:(0,vg.jsx)("p",{className:"text-white/90 text-base font-bold",children:e.price})}),e.shortIntro&&(0,vg.jsx)("p",{className:"text-blue-100 text-sm mt-2",children:e.shortIntro})]}),(0,vg.jsxs)("div",{className:"p-6 flex-grow",children:[e.description&&(0,vg.jsx)("p",{className:"text-gray-700 mb-4 text-sm",children:e.description}),e.features&&e.features.length>0?(0,vg.jsx)("ul",{className:"space-y-3",children:e.features.map(((e,t)=>(0,vg.jsxs)("li",{className:"flex items-start",children:[(0,vg.jsx)("span",{className:"text-amber-500 mr-2",children:"\u2022"}),(0,vg.jsx)("span",{className:"text-gray-700",children:e})]},t)))}):(0,vg.jsx)("ul",{className:"space-y-3",children:e.description&&e.description.split("\n").filter((e=>e.trim())).map(((e,t)=>(0,vg.jsxs)("li",{className:"flex items-start",children:[(0,vg.jsx)("span",{className:"text-amber-500 mr-2",children:"\u2022"}),(0,vg.jsx)("span",{className:"text-gray-700",children:e.trim()})]},t)))}),e.ctaLink&&(0,vg.jsx)("div",{className:"mt-6",children:(0,vg.jsxs)("a",{href:e.ctaLink,className:"inline-flex items-center text-blue-600 font-medium text-sm hover:text-blue-800 transition-colors",children:["Learn more",(0,vg.jsx)("svg",{className:"ml-1 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})})]}),(0,vg.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:(0,vg.jsx)("p",{className:"text-sm text-gray-700",children:e.deliveryTime?`Delivery: ${e.deliveryTime}`:"Delivery: 3-5 days"})})]},e.id)))})},`tablet-slide-${t}`)))})}),s.length>2&&(0,vg.jsxs)("div",{className:"flex justify-between items-center mt-8",children:[(0,vg.jsx)("button",{onClick:()=>V("tablet-service"),className:"bg-blue-600 text-white p-2 rounded-full shadow-lg hover:bg-blue-700 transition-colors","aria-label":"Previous slide",children:(0,vg.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),(0,vg.jsx)("div",{className:"flex space-x-2",children:Array.from({length:Math.ceil(s.length/2)}).map(((e,t)=>(0,vg.jsx)("span",{className:"h-2 w-2 rounded-full transition-all duration-300 "+(C===t?"bg-blue-600 w-4":"bg-gray-300")},`tablet-dot-${t}`)))}),(0,vg.jsx)("button",{onClick:()=>z("tablet-service"),className:"bg-blue-600 text-white p-2 rounded-full shadow-lg hover:bg-blue-700 transition-colors","aria-label":"Next slide",children:(0,vg.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})]}),(0,vg.jsxs)("div",{className:"md:hidden relative",children:[(0,vg.jsx)("div",{className:"overflow-hidden rounded-md",children:s.length>0&&(0,vg.jsxs)("div",{className:"group h-full bg-white rounded-xl overflow-hidden shadow-md border border-gray-100",children:[(0,vg.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 relative overflow-hidden",children:[(0,vg.jsx)("div",{className:"absolute right-0 top-0 -mt-4 -mr-4 w-20 h-20 rounded-full bg-white opacity-10"}),(0,vg.jsx)("div",{className:"absolute left-0 bottom-0 -mb-8 -ml-8 w-24 h-24 rounded-full bg-white opacity-10"}),s[N].icon&&(0,vg.jsx)("div",{className:"bg-white/20 w-12 h-12 rounded-lg flex items-center justify-center mb-4 backdrop-blur-sm",children:(0,vg.jsx)("img",{src:s[N].icon,alt:"",className:"w-6 h-6"})}),(0,vg.jsx)("h3",{className:"text-xl font-bold text-white mb-3",children:s[N].title}),(0,vg.jsx)("div",{className:"flex items-center",children:(0,vg.jsx)("p",{className:"text-white/90 text-base font-bold",children:s[N].price})}),s[N].shortIntro&&(0,vg.jsx)("p",{className:"text-blue-100 text-sm mt-2",children:s[N].shortIntro})]}),(0,vg.jsxs)("div",{className:"p-6 flex-grow",children:[s[N].description&&(0,vg.jsx)("p",{className:"text-gray-700 mb-4 text-sm",children:s[N].description}),s[N].features&&s[N].features.length>0?(0,vg.jsx)("ul",{className:"space-y-3",children:s[N].features.map(((e,t)=>(0,vg.jsxs)("li",{className:"flex items-start",children:[(0,vg.jsx)("span",{className:"text-amber-500 mr-2",children:"\u2022"}),(0,vg.jsx)("span",{className:"text-gray-700",children:e})]},t)))}):(0,vg.jsx)("ul",{className:"space-y-3",children:s[N].description&&s[N].description.split("\n").filter((e=>e.trim())).map(((e,t)=>(0,vg.jsxs)("li",{className:"flex items-start",children:[(0,vg.jsx)("span",{className:"text-amber-500 mr-2",children:"\u2022"}),(0,vg.jsx)("span",{className:"text-gray-700",children:e.trim()})]},t)))}),s[N].ctaLink&&(0,vg.jsx)("div",{className:"mt-6",children:(0,vg.jsxs)("a",{href:s[N].ctaLink,className:"inline-flex items-center text-blue-600 font-medium text-sm hover:text-blue-800 transition-colors",children:["Learn more",(0,vg.jsx)("svg",{className:"ml-1 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})})]}),(0,vg.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:(0,vg.jsx)("p",{className:"text-sm text-gray-700",children:s[N].deliveryTime?`Delivery: ${s[N].deliveryTime}`:"Delivery: 3-5 days"})})]})}),s.length>1&&(0,vg.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,vg.jsx)("button",{onClick:()=>V("service"),className:"bg-blue-600 text-white p-2 rounded-full shadow-lg hover:bg-blue-700 transition-colors","aria-label":"Previous slide",children:(0,vg.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),(0,vg.jsx)("div",{className:"flex space-x-2",children:s.map(((e,t)=>(0,vg.jsx)("span",{className:"h-2 w-2 rounded-full transition-all duration-300 "+(N===t?"bg-blue-600 w-4":"bg-gray-300")},t)))}),(0,vg.jsx)("button",{onClick:()=>z("service"),className:"bg-blue-600 text-white p-2 rounded-full shadow-lg hover:bg-blue-700 transition-colors","aria-label":"Next slide",children:(0,vg.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})]})]}):U("services")]})}),(0,vg.jsx)("section",{id:"contact",className:"py-16 bg-gray-50",children:(0,vg.jsxs)("div",{className:"container mx-auto px-4",children:[(0,vg.jsx)("h2",{className:"text-xl md:text-2xl font-bold text-center mb-10 text-gray-900",children:L("contact","title")}),(0,vg.jsx)("div",{className:"max-w-xl mx-auto bg-white rounded-md p-6 border border-gray-100 hover:shadow-md transition-shadow duration-300",children:h?(0,vg.jsxs)("div",{className:"text-center py-8",children:[(0,vg.jsx)("div",{className:"w-16 h-16 bg-green-100 text-green-600 rounded-full mx-auto flex items-center justify-center mb-4",children:(0,vg.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,vg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,vg.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:L("contact","success")}),(0,vg.jsx)("p",{className:"text-gray-600",children:L("contact","thankYou")})]}):(0,vg.jsxs)("form",{ref:A,onSubmit:async e=>{e.preventDefault(),u(!0);const t={...P,id:Date.now(),date:(new Date).toISOString(),isNew:!0};try{await pg(t),console.log("Contact form submitted successfully"),vt("service_b2s1ngf","template_5jk8gai",A.current,"fGkt_Y7hHDzWdhXT8").then((()=>{u(!1),R({name:"",email:"",message:""}),d(!0),setTimeout((()=>d(!1)),5e3)})).catch((e=>{console.error("Email sending failed:",e),u(!1),alert("Your message was saved but email delivery failed. We'll still receive your message.")}))}catch(Ig){console.error("Error saving contact submission:",Ig);try{const e=localStorage.getItem("contactSubmissions");let n=[];if(e)try{const t=JSON.parse(e);Array.isArray(t)&&(n=t)}catch(Ig){console.error("Error parsing existing submissions:",Ig)}n.push(t),localStorage.setItem("contactSubmissions",JSON.stringify(n)),vt("service_b2s1ngf","template_5jk8gai",A.current,"fGkt_Y7hHDzWdhXT8").then((()=>{u(!1),R({name:"",email:"",message:""}),d(!0),setTimeout((()=>d(!1)),5e3)})).catch((e=>{console.error("Email sending failed:",e),u(!1),alert("Your message was saved locally but email delivery failed. We'll still receive your message when we check the admin panel.")}))}catch(n){console.error("Error with localStorage fallback:",n),u(!1),alert("There was an error saving your message. Please try again or contact us directly.")}}},children:[(0,vg.jsxs)("div",{className:"mb-4",children:[(0,vg.jsx)("label",{htmlFor:"name",className:"block text-gray-700 mb-2 text-sm",children:L("contact","name")}),(0,vg.jsx)("input",{type:"text",id:"name",name:"name",value:P.name,onChange:O,className:"w-full p-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,vg.jsxs)("div",{className:"mb-4",children:[(0,vg.jsx)("label",{htmlFor:"email",className:"block text-gray-700 mb-2 text-sm",children:L("contact","email")}),(0,vg.jsx)("input",{type:"email",id:"email",name:"email",value:P.email,onChange:O,className:"w-full p-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,vg.jsxs)("div",{className:"mb-6",children:[(0,vg.jsx)("label",{htmlFor:"message",className:"block text-gray-700 mb-2 text-sm",children:L("contact","message")}),(0,vg.jsx)("textarea",{id:"message",name:"message",value:P.message,onChange:O,className:"w-full p-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"4",required:!0})]}),(0,vg.jsx)("button",{type:"submit",disabled:c,className:"bg-blue-600 text-white px-6 py-2 rounded-md font-medium hover:bg-blue-700 transition w-full text-sm disabled:bg-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-700 focus:ring-offset-2",children:L("contact",c?"sending":"send")})]})})]})}),(0,vg.jsx)("footer",{className:"bg-gray-900 text-white py-6",children:(0,vg.jsx)("div",{className:"container mx-auto px-4",children:(0,vg.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,vg.jsxs)("div",{className:"mb-4 md:mb-0",children:[(0,vg.jsx)("img",{src:"/techtan-logo.png",alt:"Techtan Logo",className:"h-10 mr-3"}),(0,vg.jsx)("p",{className:"text-gray-400 text-sm",children:L("footer","services")})]}),(0,vg.jsxs)("div",{className:"text-sm",children:[(0,vg.jsx)("p",{children:(B=L("footer","copyright").replace("DevTeam Solutions","Techtan"),B.replace("{year}",(new Date).getFullYear()))}),(0,vg.jsx)(et,{to:"/login",className:"text-gray-400 hover:text-white transition-colors",children:L("footer","login")})]})]})})})]});var B},xg=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),s=ee();return(0,vg.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4",children:(0,vg.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,vg.jsx)("div",{children:(0,vg.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Admin Login"})}),(0,vg.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:t=>{t.preventDefault(),"admin123"===e?(localStorage.setItem("isAuthenticated","true"),s("/admin")):i("Invalid password")},children:[(0,vg.jsx)("div",{className:"rounded-md shadow-sm -space-y-px",children:(0,vg.jsxs)("div",{children:[(0,vg.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,vg.jsx)("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password",value:e,onChange:e=>t(e.target.value)})]})}),n&&(0,vg.jsx)("p",{className:"text-red-500 text-sm",children:n}),(0,vg.jsx)("div",{children:(0,vg.jsx)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Sign in"})})]}),(0,vg.jsx)("div",{className:"text-center",children:(0,vg.jsx)("a",{href:"/",className:"font-medium text-blue-600 hover:text-blue-500",children:"Back to Website"})})]})})},Sg=()=>{const e=ee(),t=J(),[n,i]=(0,r.useState)([]),[s,a]=(0,r.useState)([]),[o,l]=(0,r.useState)([]),[c,u]=(0,r.useState)([]),[h,d]=(0,r.useState)("team"),[f,m]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)(null),[b,w]=(0,r.useState)(null),[x,S]=(0,r.useState)(!0),[k,E]=(0,r.useState)(!0),N=(0,r.useRef)(null),T=(0,r.useRef)(null),[C,I]=(0,r.useState)(!1),[_,j]=(0,r.useState)(null),[A,D]=(0,r.useState)(!1),[L,P]=(0,r.useState)(!1),[R,O]=(0,r.useState)(null);(0,r.useEffect)((()=>{const e=async()=>{E(!0);const e=await new Promise((e=>{const t=setTimeout((()=>{e(!1)}),5e3);try{Vp(Mm(Yp,"_connection_test")).then((()=>{clearTimeout(t),console.log("Firebase connection test succeeded using direct Firestore API"),e(!0)})).catch((n=>{console.error("Firebase connection test failed using direct Firestore API:",n),clearTimeout(t),e(!1)}))}catch(Ig){console.error("Error setting up Firebase connection test:",Ig),clearTimeout(t),e(!1)}}));S(e),E(!1),console.log("Firebase connection status:",e?"ONLINE":"OFFLINE")};e();const t=setInterval(e,3e4),n=()=>{console.log("Browser reports online status"),e()},r=()=>{console.log("Browser reports offline status"),S(!1)};return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{clearInterval(t),window.removeEventListener("online",n),window.removeEventListener("offline",r)}}),[]),(0,r.useEffect)((()=>{const e=new URLSearchParams(t.search),n=e.get("edit"),r=e.get("id");if(n&&r)switch(g(!0),v(n),w(parseInt(r,10)),n){case"team":d("team");break;case"project":d("projects");break;case"service":d("services")}}),[t]),(0,r.useEffect)((()=>{X()}),[]),(0,r.useEffect)((()=>{if(p&&b)switch(y){case"team":const e=n.find((e=>e.id===b));e&&(F(e),V(e.image));break;case"project":const t=s.find((e=>e.id===b));t&&(q(t),B(t.image));break;case"service":const r=o.find((e=>e.id===b));r&&K(r)}}),[p,b,y,n,s,o]);const[M,F]=(0,r.useState)({name:"",role:"",email:"",phone:"",github:"",linkedin:"",image:"%PUBLIC_URL%/placeholders/person.png"}),[z,V]=(0,r.useState)(null),[U,B]=(0,r.useState)(null),[$,q]=(0,r.useState)({title:"",description:"",link:"",image:"%PUBLIC_URL%/placeholders/project.png"}),[H,K]=(0,r.useState)({title:"",price:"",description:"",features:[],deliveryTime:"3-5 days"}),W=e=>{F({...M,[e.target.name]:e.target.value})},G=e=>{q({...$,[e.target.name]:e.target.value})},Q=e=>{K({...H,[e.target.name]:e.target.value})},Y=()=>{g(!1),v(null),w(null),F({name:"",role:"",email:"",phone:"",github:"",linkedin:"",image:"%PUBLIC_URL%/placeholders/person.png"}),V(null),q({title:"",description:"",link:"",image:"%PUBLIC_URL%/placeholders/project.png"}),B(null),K({title:"",price:"",description:"",features:[],deliveryTime:"3-5 days"}),e("/admin",{replace:!0})},X=async()=>{try{const e=await ng();e&&Array.isArray(e)&&i(e);const t=await ag();t&&Array.isArray(t)&&a(t);const n=await ug();n&&Array.isArray(n)&&l(n);const r=await mg();if(r&&Array.isArray(r)){console.log("Loaded contact submissions:",r),u(r);const e=r.some((e=>e.isNew));m(e)}}catch(Ig){console.error("Error loading data:",Ig);const t=localStorage.getItem("teamMembers"),n=localStorage.getItem("projects"),r=localStorage.getItem("services"),s=localStorage.getItem("contactSubmissions");if(t&&i(JSON.parse(t)),n&&a(JSON.parse(n)),r&&l(JSON.parse(r)),s)try{const e=JSON.parse(s);if(console.log("Loaded contact submissions from localStorage:",e),Array.isArray(e)&&e.length>0){u(e);const t=e.some((e=>e.isNew));m(t)}}catch(Ig){console.error("Error parsing contact submissions:",Ig)}}};(0,r.useEffect)((()=>{x||L||Xp().then((e=>{O(e),P(!0),console.log("Firebase permissions check result:",e)}))}),[x,L]);return(0,vg.jsxs)("div",{className:"container mx-auto p-4",children:[(0,vg.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Website Content Management"}),(0,vg.jsxs)("div",{className:"mb-4 p-3 rounded-lg "+(x?"bg-green-50 text-green-800":"bg-amber-50 text-amber-800"),children:[(0,vg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,vg.jsxs)("div",{className:"flex items-center",children:[(0,vg.jsx)("span",{className:"inline-block w-3 h-3 rounded-full mr-2 "+(x?"bg-green-500":"bg-amber-500")}),(0,vg.jsx)("span",{className:"font-medium",children:k?"Checking Firebase connection...":x?"Connected to Firebase - Changes will sync across all devices":"Working offline - Changes are saved locally and will sync when connection is restored"})]}),(0,vg.jsx)("button",{onClick:async()=>{D(!0),I(!0);try{const e=await Xp();console.log("Permissions check:",e);const t=await(async()=>{const e={browserOnline:navigator.onLine,firebaseReachable:!1,firestoreRead:!1,firestoreWrite:!1,error:null,errorDetails:null,tests:{}};try{if(e.tests.browserStatus={passed:navigator.onLine,detail:navigator.onLine?"Browser reports online":"Browser reports offline"},!navigator.onLine)return e.error="Browser is offline. Check your internet connection.",e;try{const t=Mm(Yp,"_connection_test");await Vp(t),e.firebaseReachable=!0,e.tests.firebaseReachable={passed:!0,detail:"Firebase domain is reachable"}}catch(Ig){return e.tests.firebaseReachable={passed:!1,detail:`Firebase domain is unreachable: ${Ig.message}`},"permission-denied"===Ig.code?e.error="Firebase permissions are denied. Please check your Firebase security rules.":e.error="Cannot reach Firebase servers. There might be a network issue or firewall blocking access.",e.errorDetails=Ig.toString(),e}try{const t=Fm(Yp,"_connection_test","test_doc");await Fp(t),e.firestoreRead=!0,e.tests.firestoreRead={passed:!0,detail:"Successfully read from Firestore"}}catch(Ig){e.tests.firestoreRead={passed:!1,detail:`Failed to read from Firestore: ${Ig.message}`},console.error("Firestore read test failed:",Ig)}try{const t={timestamp:(new Date).toISOString(),test:!0,device:navigator.userAgent},n=`test_${Date.now()}`,r=Fm(Yp,"_connection_test",n);await Up(r,t),await $p(r),e.firestoreWrite=!0,e.tests.firestoreWrite={passed:!0,detail:"Successfully wrote to Firestore"}}catch(Ig){return e.tests.firestoreWrite={passed:!1,detail:`Failed to write to Firestore: ${Ig.message}`},"permission-denied"===Ig.code?e.error="Cannot write to Firestore due to permissions. Please check your Firebase security rules.":e.error="Cannot write to Firestore. This might be due to network connectivity issues.",e.errorDetails=Ig.toString(),e}return e.firestoreRead&&e.firestoreWrite?e.allTests=!0:e.error="Some Firebase tests failed. See details for more information.",e}catch(Ig){return e.error="Unexpected error during Firebase connection tests",e.errorDetails=Ig.toString(),e}})();t.permissionsChecked=!0,t.permissionsResult=e,j(t),console.log("Firebase diagnostic results:",t),S(t.firestoreWrite),P(!0),O(e)}catch(Ig){console.error("Error running diagnostics:",Ig),j({error:"Failed to run diagnostics",errorDetails:Ig.toString()})}finally{D(!1)}},className:"text-xs bg-gray-200 hover:bg-gray-300 py-1 px-2 rounded",disabled:A,children:A?"Running...":"Run Diagnostics"})]}),!x&&(0,vg.jsx)("p",{className:"text-sm mt-1",children:"Your device appears to be offline or cannot reach Firebase. Content changes will be stored locally and synchronized when your connection is restored."}),!x&&L&&R&&(0,vg.jsxs)("div",{className:"mt-3 p-3 bg-white rounded border text-gray-800 text-sm",children:[(0,vg.jsx)("h3",{className:"font-medium mb-2",children:"Firebase Permissions Check"}),(0,vg.jsx)("p",{className:"mb-2",children:"This site is having issues connecting to Firebase. The most common cause is insufficient permissions in your Firebase security rules."}),(0,vg.jsxs)("div",{className:"bg-yellow-50 p-2 rounded border border-yellow-200 mb-3",children:[(0,vg.jsx)("p",{className:"font-medium",children:"To fix this issue:"}),(0,vg.jsxs)("ol",{className:"list-decimal list-inside space-y-1 mt-1",children:[(0,vg.jsxs)("li",{children:["Go to ",(0,vg.jsx)("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noreferrer",className:"text-blue-600 underline",children:"Firebase Console"})]}),(0,vg.jsxs)("li",{children:["Select your project: ",(0,vg.jsx)("span",{className:"font-mono bg-gray-100 px-1",children:"techtan-team"})]}),(0,vg.jsx)("li",{children:"Navigate to Firestore Database \u2192 Rules"}),(0,vg.jsx)("li",{children:"Update the rules to allow read/write access:"})]}),(0,vg.jsx)("pre",{className:"bg-gray-800 text-white p-2 rounded mt-2 overflow-auto text-xs",children:"rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /{document=**} {\n      allow read, write: if true;\n    }\n  }\n}"}),(0,vg.jsx)("p",{className:"mt-2 text-xs",children:"Note: These rules allow unrestricted access to your database. For production, you should set up proper authentication and security rules."})]})]}),C&&_&&(0,vg.jsxs)("div",{className:"mt-3 p-3 bg-white rounded border text-gray-800 text-sm",children:[(0,vg.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,vg.jsx)("h3",{className:"font-medium",children:"Firebase Connection Diagnostics"}),(0,vg.jsx)("button",{onClick:()=>I(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),_.error&&(0,vg.jsx)("div",{className:"mb-2 text-red-600",children:_.error}),(0,vg.jsxs)("div",{className:"grid grid-cols-1 gap-1",children:[(0,vg.jsxs)("div",{className:"flex justify-between",children:[(0,vg.jsx)("span",{children:"Browser Online:"}),(0,vg.jsx)("span",{className:_.browserOnline?"text-green-600":"text-red-600",children:_.browserOnline?"Yes":"No"})]}),(0,vg.jsxs)("div",{className:"flex justify-between",children:[(0,vg.jsx)("span",{children:"Firebase Reachable:"}),(0,vg.jsx)("span",{className:_.firebaseReachable?"text-green-600":"text-red-600",children:_.firebaseReachable?"Yes":"No"})]}),(0,vg.jsxs)("div",{className:"flex justify-between",children:[(0,vg.jsx)("span",{children:"Firestore Read:"}),(0,vg.jsx)("span",{className:_.firestoreRead?"text-green-600":"text-red-600",children:_.firestoreRead?"Success":"Failed"})]}),(0,vg.jsxs)("div",{className:"flex justify-between",children:[(0,vg.jsx)("span",{children:"Firestore Write:"}),(0,vg.jsx)("span",{className:_.firestoreWrite?"text-green-600":"text-red-600",children:_.firestoreWrite?"Success":"Failed"})]})]}),_.errorDetails&&(0,vg.jsx)("div",{className:"mt-2 p-2 bg-gray-100 rounded text-xs overflow-auto",children:(0,vg.jsx)("code",{className:"whitespace-pre-wrap",children:_.errorDetails})}),(0,vg.jsxs)("div",{className:"mt-2 p-2 bg-blue-50 text-blue-800 rounded",children:[(0,vg.jsx)("p",{className:"text-xs",children:(0,vg.jsx)("strong",{children:"Troubleshooting tips:"})}),(0,vg.jsxs)("ul",{className:"list-disc list-inside text-xs ml-1 mt-1",children:[(0,vg.jsx)("li",{children:"Check your internet connection"}),(0,vg.jsx)("li",{children:"Verify that your Firebase project is active in the Firebase console"}),(0,vg.jsx)("li",{children:"Check if there are any Firebase service outages"}),(0,vg.jsx)("li",{children:"Ensure your Firebase API keys and configuration are correct"}),(0,vg.jsx)("li",{children:"Try using a different network if possible"})]})]})]})]}),(0,vg.jsx)("div",{className:"mb-6",children:(0,vg.jsx)("div",{className:"border-b border-gray-200",children:(0,vg.jsxs)("nav",{className:"-mb-px flex",children:[(0,vg.jsx)("button",{onClick:()=>d("team"),className:"mr-8 py-4 px-1 border-b-2 font-medium text-sm "+("team"===h?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Team Members"}),(0,vg.jsx)("button",{onClick:()=>d("projects"),className:"mr-8 py-4 px-1 border-b-2 font-medium text-sm "+("projects"===h?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Projects"}),(0,vg.jsx)("button",{onClick:()=>d("services"),className:"mr-8 py-4 px-1 border-b-2 font-medium text-sm "+("services"===h?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Services"}),(0,vg.jsxs)("button",{onClick:()=>{d("messages"),f&&(u(c.map((e=>({...e,isNew:!1})))),m(!1),c.forEach((async e=>{if(e.isNew)try{await yg(e.id)}catch(Ig){console.error(`Error marking message ${e.id} as read:`,Ig)}})))},className:"py-4 px-1 border-b-2 font-medium text-sm relative "+("messages"===h?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Messages",f&&(0,vg.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:c.filter((e=>e.isNew)).length})]})]})})}),"team"===h&&(0,vg.jsxs)("div",{children:[(0,vg.jsx)("h2",{className:"text-xl font-semibold mb-4",children:p&&"team"===y?"Edit Team Member":"Manage Team Members"}),(0,vg.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{if(p&&"team"===y){const t=await ig(b,M);i(n.map((e=>e.id===b?t:e))),g(!1),v(null),w(null),F({name:"",role:"",email:"",phone:"",github:"",linkedin:"",image:"%PUBLIC_URL%/placeholders/person.png"}),V(null),N.current&&(N.current.value=""),e("/admin",{replace:!0})}else{const e=await rg(M);i([...n,e]),F({name:"",role:"",email:"",phone:"",github:"",linkedin:"",image:"%PUBLIC_URL%/placeholders/person.png"}),V(null),N.current&&(N.current.value="")}}catch(Ig){console.error("Error saving team member:",Ig),alert("There was a problem saving the team member. Changes were saved locally but may not be available on other devices.")}},className:"mb-8 p-4 bg-gray-50 rounded-lg",children:[(0,vg.jsx)("h3",{className:"text-lg font-medium mb-4",children:p&&"team"===y?"Edit Team Member":"Add New Team Member"}),(0,vg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,vg.jsxs)("div",{children:[(0,vg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,vg.jsx)("input",{type:"text",name:"name",value:M.name,onChange:W,className:"w-full p-2 border border-gray-300 rounded",required:!0})]}),(0,vg.jsxs)("div",{children:[(0,vg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,vg.jsx)("input",{type:"text",name:"role",value:M.role,onChange:W,className:"w-full p-2 border border-gray-300 rounded",required:!0})]}),(0,vg.jsxs)("div",{children:[(0,vg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,vg.jsx)("input",{type:"email",name:"email",value:M.email,onChange:W,className:"w-full p-2 border border-gray-300 rounded",required:!0})]}),(0,vg.jsxs)("div",{children:[(0,vg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone (Optional)"}),(0,vg.jsx)("input",{type:"tel",name:"phone",value:M.phone,onChange:W,className:"w-full p-2 border border-gray-300 rounded"})]}),(0,vg.jsxs)("div",{children:[(0,vg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GitHub URL (Optional)"}),(0,vg.jsx)("input",{type:"url",name:"github",value:M.github,onChange:W,placeholder:"https://github.com/username",className:"w-full p-2 border border-gray-300 rounded"})]}),(0,vg.jsxs)("div",{children:[(0,vg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"LinkedIn URL (Optional)"}),(0,vg.jsx)("input",{type:"url",name:"linkedin",value:M.linkedin,onChange:W,placeholder:"https://linkedin.com/in/username",className:"w-full p-2 border border-gray-300 rounded"})]}),(0,vg.jsxs)("div",{children:[(0,vg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profile Image"}),(0,vg.jsx)("input",{ref:N,type:"file",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0],n=URL.createObjectURL(t);V(n);const r=new FileReader;r.onloadend=()=>{F({...M,image:r.result})},r.readAsDataURL(t)}},className:"w-full p-2 border border-gray-300 rounded"}),z&&(0,vg.jsx)("div",{className:"mt-2",children:(0,vg.jsx)("img",{src:z,alt:"Preview",className:"h-24 w-24 object-cover rounded-full border"})})]})]}),(0,vg.jsxs)("div",{className:"flex space-x-4",children:[(0,vg.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:p&&"team"===y?"Update Team Member":"Add Team Member"}),p&&"team"===y&&(0,vg.jsx)("button",{type:"button",onClick:Y,className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Cancel"})]})]}),(0,vg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map((e=>(0,vg.jsxs)("div",{className:"border rounded-lg p-4 relative",children:[(0,vg.jsxs)("div",{className:"absolute top-2 right-2 flex space-x-2",children:[(0,vg.jsx)("button",{onClick:()=>{g(!0),v("team"),w(e.id),F(e),V(e.image),d("team")},className:"bg-blue-500 text-white w-6 h-6 rounded-full flex items-center justify-center",children:(0,vg.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),(0,vg.jsx)("button",{onClick:()=>(async e=>{try{await sg(e),i(n.filter((t=>t.id!==e)))}catch(Ig){console.error("Error removing team member:",Ig),alert("There was a problem removing the team member. Changes were made locally but may not be reflected on other devices.")}})(e.id),className:"bg-red-500 text-white w-6 h-6 rounded-full flex items-center justify-center",children:"\xd7"})]}),(0,vg.jsxs)("div",{className:"flex items-center",children:[(0,vg.jsx)("img",{src:e.image,alt:e.name,className:"w-12 h-12 rounded-full mr-4 object-cover"}),(0,vg.jsxs)("div",{children:[(0,vg.jsx)("h3",{className:"font-medium",children:e.name}),(0,vg.jsx)("p",{className:"text-sm text-gray-600",children:e.role}),(0,vg.jsx)("p",{className:"text-sm text-gray-500",children:e.email}),e.phone&&(0,vg.jsx)("p",{className:"text-sm text-gray-500",children:e.phone}),(0,vg.jsxs)("div",{className:"flex mt-2 space-x-2",children:[e.github&&(0,vg.jsx)("a",{href:e.github,target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-gray-900",children:(0,vg.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,vg.jsx)("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})})}),e.linkedin&&(0,vg.jsx)("a",{href:e.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-gray-900",children:(0,vg.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,vg.jsx)("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})})]})]})]})]},e.id)))})]}),"projects"===h&&(0,vg.jsxs)("div",{children:[(0,vg.jsx)("h2",{className:"text-xl font-semibold mb-4",children:p&&"project"===y?"Edit Project":"Manage Projects"}),(0,vg.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{if(p&&"project"===y){const t=await lg(b,$);a(s.map((e=>e.id===b?t:e))),g(!1),v(null),w(null),q({title:"",description:"",link:"",image:"%PUBLIC_URL%/placeholders/project.png"}),B(null),T.current&&(T.current.value=""),e("/admin",{replace:!0})}else{const e=await og($);a([...s,e]),q({title:"",description:"",link:"",image:"%PUBLIC_URL%/placeholders/project.png"}),B(null),T.current&&(T.current.value="")}}catch(Ig){console.error("Error saving project:",Ig),alert("There was a problem saving the project. Changes were saved locally but may not be available on other devices.")}},className:"mb-8 p-4 bg-gray-50 rounded-lg",children:[(0,vg.jsx)("h3",{className:"text-lg font-medium mb-4",children:p&&"project"===y?"Edit Project":"Add New Project"}),(0,vg.jsxs)("div",{className:"grid grid-cols-1 gap-4 mb-4",children:[(0,vg.jsxs)("div",{children:[(0,vg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,vg.jsx)("input",{type:"text",name:"title",value:$.title,onChange:G,className:"w-full p-2 border border-gray-300 rounded",required:!0})]}),(0,vg.jsxs)("div",{children:[(0,vg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,vg.jsx)("textarea",{name:"description",value:$.description,onChange:G,className:"w-full p-2 border border-gray-300 rounded",rows:"3",placeholder:"Enter project description. Line breaks will be preserved.",required:!0}),(0,vg.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Line breaks will be preserved when displayed."})]}),(0,vg.jsxs)("div",{children:[(0,vg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project URL (Optional)"}),(0,vg.jsx)("input",{type:"url",name:"link",value:$.link,onChange:G,placeholder:"https://example.com/project",className:"w-full p-2 border border-gray-300 rounded"}),(0,vg.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:'The "View Details" button will link to this URL'})]}),(0,vg.jsxs)("div",{children:[(0,vg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Image"}),(0,vg.jsx)("input",{ref:T,type:"file",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0],n=URL.createObjectURL(t);B(n);const r=new FileReader;r.onloadend=()=>{q({...$,image:r.result})},r.readAsDataURL(t)}},className:"w-full p-2 border border-gray-300 rounded"}),U&&(0,vg.jsx)("div",{className:"mt-2",children:(0,vg.jsx)("img",{src:U,alt:"Preview",className:"h-36 w-full object-cover rounded border"})})]})]}),(0,vg.jsxs)("div",{className:"flex space-x-4",children:[(0,vg.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:p&&"project"===y?"Update Project":"Add Project"}),p&&"project"===y&&(0,vg.jsx)("button",{type:"button",onClick:Y,className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Cancel"})]})]}),(0,vg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map((e=>(0,vg.jsxs)("div",{className:"border rounded-lg overflow-hidden relative",children:[(0,vg.jsxs)("div",{className:"absolute top-2 right-2 flex space-x-2 z-10",children:[(0,vg.jsx)("button",{onClick:()=>{g(!0),v("project"),w(e.id),q(e),B(e.image),d("projects")},className:"bg-blue-500 text-white w-6 h-6 rounded-full flex items-center justify-center",children:(0,vg.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),(0,vg.jsx)("button",{onClick:()=>(async e=>{try{await cg(e),a(s.filter((t=>t.id!==e)))}catch(Ig){console.error("Error removing project:",Ig),alert("There was a problem removing the project. Changes were made locally but may not be reflected on other devices.")}})(e.id),className:"bg-red-500 text-white w-6 h-6 rounded-full flex items-center justify-center",children:"\xd7"})]}),(0,vg.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-40 object-cover"}),(0,vg.jsxs)("div",{className:"p-4",children:[(0,vg.jsx)("h3",{className:"font-medium",children:e.title}),(0,vg.jsx)("p",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:e.description}),e.link&&(0,vg.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline mt-1 inline-block",children:e.link})]})]},e.id)))})]}),"services"===h&&(0,vg.jsxs)("div",{children:[(0,vg.jsx)("h2",{className:"text-xl font-semibold mb-4",children:p&&"service"===y?"Edit Service":"Manage Services"}),(0,vg.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{if(p&&"service"===y){const t=await dg(b,H);l(o.map((e=>e.id===b?t:e))),g(!1),v(null),w(null),K({title:"",price:"",description:"",features:[],deliveryTime:"3-5 days"}),e("/admin",{replace:!0})}else{const e=await hg(H);l([...o,e]),K({title:"",price:"",description:"",features:[],deliveryTime:"3-5 days"})}}catch(Ig){console.error("Error saving service:",Ig),alert("There was a problem saving the service. Changes were saved locally but may not be available on other devices.")}},className:"mb-8 p-4 bg-gray-50 rounded-lg",children:[(0,vg.jsx)("h3",{className:"text-lg font-medium mb-4",children:p&&"service"===y?"Edit Service":"Add New Service"}),(0,vg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,vg.jsxs)("div",{children:[(0,vg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,vg.jsx)("input",{type:"text",name:"title",value:H.title,onChange:Q,className:"w-full p-2 border border-gray-300 rounded",required:!0})]}),(0,vg.jsxs)("div",{children:[(0,vg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price"}),(0,vg.jsx)("input",{type:"text",name:"price",value:H.price,onChange:Q,className:"w-full p-2 border border-gray-300 rounded",required:!0})]}),(0,vg.jsxs)("div",{children:[(0,vg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Time"}),(0,vg.jsx)("input",{type:"text",name:"deliveryTime",value:H.deliveryTime,onChange:Q,className:"w-full p-2 border border-gray-300 rounded"})]}),(0,vg.jsxs)("div",{className:"md:col-span-2",children:[(0,vg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Short Description (Optional)"}),(0,vg.jsx)("textarea",{name:"description",value:H.description,onChange:Q,className:"w-full p-2 border border-gray-300 rounded",rows:"2"})]}),(0,vg.jsxs)("div",{className:"md:col-span-2",children:[(0,vg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Features (One per line)"}),(0,vg.jsx)("textarea",{name:"featuresText",value:H.features?H.features.join("\n"):"",onChange:e=>{const t=e.target.value.split("\n").filter((e=>e.trim()));K({...H,features:t})},className:"w-full p-2 border border-gray-300 rounded",rows:"6",required:!0}),(0,vg.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter each feature on a new line. These will appear as bullet points."})]})]}),(0,vg.jsxs)("div",{className:"flex space-x-4",children:[(0,vg.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:p&&"service"===y?"Update Service":"Add Service"}),p&&"service"===y&&(0,vg.jsx)("button",{type:"button",onClick:Y,className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Cancel"})]})]}),(0,vg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map((e=>(0,vg.jsxs)("div",{className:"bg-white border rounded-xl overflow-hidden relative",children:[(0,vg.jsxs)("div",{className:"absolute top-2 right-2 flex space-x-2 z-10",children:[(0,vg.jsx)("button",{onClick:()=>{g(!0),v("service"),w(e.id),K(e),d("services")},className:"bg-blue-500 text-white w-6 h-6 rounded-full flex items-center justify-center",children:(0,vg.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),(0,vg.jsx)("button",{onClick:()=>(async e=>{try{await fg(e),l(o.filter((t=>t.id!==e)))}catch(Ig){console.error("Error removing service:",Ig),alert("There was a problem removing the service. Changes were made locally but may not be reflected on other devices.")}})(e.id),className:"bg-red-500 text-white w-6 h-6 rounded-full flex items-center justify-center",children:"\xd7"})]}),(0,vg.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-4 relative overflow-hidden",children:[(0,vg.jsx)("div",{className:"absolute right-0 top-0 -mt-4 -mr-4 w-16 h-16 rounded-full bg-white opacity-10"}),(0,vg.jsx)("div",{className:"absolute left-0 bottom-0 -mb-4 -ml-4 w-16 h-16 rounded-full bg-white opacity-10"}),(0,vg.jsx)("h3",{className:"font-medium text-white mb-2",children:e.title}),(0,vg.jsx)("p",{className:"text-white/90 text-base font-bold",children:e.price})]}),(0,vg.jsxs)("div",{className:"p-4",children:[e.description&&(0,vg.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),e.features&&e.features.length>0&&(0,vg.jsx)("ul",{className:"text-sm space-y-1",children:e.features.map(((e,t)=>(0,vg.jsxs)("li",{className:"flex items-start",children:[(0,vg.jsx)("span",{className:"text-amber-500 mr-2",children:"\u2022"}),(0,vg.jsx)("span",{children:e})]},t)))}),e.deliveryTime&&(0,vg.jsxs)("p",{className:"text-sm text-gray-600 mt-2 pt-2 border-t",children:["Delivery: ",e.deliveryTime]})]})]},e.id)))})]}),"messages"===h&&(0,vg.jsxs)("div",{children:[(0,vg.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Contact Submissions"}),(0,vg.jsxs)("div",{className:"mb-4 flex justify-between items-center",children:[(0,vg.jsx)("p",{className:"text-sm text-gray-600",children:c&&c.length>0?`Showing ${c.length} contact submission(s)`:"No contact submissions to display"}),(0,vg.jsx)("button",{onClick:async()=>{try{const e=await mg();if(e&&Array.isArray(e)){console.log("Loaded contact submissions from API:",e),u(e);const t=e.some((e=>e.isNew));m(t),alert(`Successfully loaded ${e.length} contact submissions from the server.`)}else{console.error("API did not return an array:",e),alert("Error: API did not return a valid array of submissions.");const t=localStorage.getItem("contactSubmissions");if(t){const e=JSON.parse(t);Array.isArray(e)&&(u(e),alert(`Loaded ${e.length} submissions from localStorage as fallback.`))}}}catch(Ig){console.error("Error loading contact submissions from API:",Ig),alert(`Error loading from API: ${Ig.message}. Attempting localStorage fallback...`);try{const e=localStorage.getItem("contactSubmissions");if(e){const t=JSON.parse(e);Array.isArray(t)&&(u(t),alert(`Loaded ${t.length} submissions from localStorage as fallback.`))}else alert("No contact submissions found in localStorage either.")}catch(e){console.error("Error with localStorage fallback:",e),alert(`Error with localStorage fallback: ${e.message}`)}}},className:"bg-gray-200 text-gray-800 px-3 py-1 rounded text-sm hover:bg-gray-300",children:"Refresh Submissions"})]}),c&&c.length>0?(0,vg.jsx)("div",{className:"grid grid-cols-1 gap-4",children:c.map((e=>(0,vg.jsxs)("div",{className:"border rounded-lg p-4 relative "+(e.isNew?"bg-blue-50 border-blue-200":""),children:[(0,vg.jsxs)("div",{className:"flex justify-between",children:[(0,vg.jsxs)("div",{children:[(0,vg.jsxs)("h3",{className:"font-medium flex items-center",children:[e.name,e.isNew&&(0,vg.jsx)("span",{className:"ml-2 bg-blue-500 text-white text-xs px-2 py-1 rounded",children:"New"})]}),(0,vg.jsx)("p",{className:"text-sm text-gray-600",children:e.email}),(0,vg.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:new Date(e.date).toLocaleString()})]}),(0,vg.jsxs)("div",{className:"flex",children:[e.isNew&&(0,vg.jsx)("button",{onClick:()=>(async e=>{try{await yg(e),u(c.map((t=>t.id===e?{...t,isNew:!1}:t)));const t=c.some((t=>t.id!==e&&t.isNew));m(t)}catch(Ig){console.error("Error marking message as read:",Ig),u(c.map((t=>t.id===e?{...t,isNew:!1}:t)))}})(e.id),className:"text-blue-600 text-sm mr-3 hover:underline",children:"Mark as Read"}),(0,vg.jsx)("button",{onClick:()=>(async e=>{try{await gg(e);const t=c.filter((t=>t.id!==e));u(t);const n=t.some((e=>e.isNew));m(n)}catch(Ig){console.error("Error deleting submission:",Ig);const n=c.filter((t=>t.id!==e));u(n)}})(e.id),className:"text-red-600 text-sm hover:underline",children:"Delete"})]})]}),(0,vg.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded border border-gray-200",children:(0,vg.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:e.message})})]},e.id)))}):(0,vg.jsxs)("div",{children:[(0,vg.jsx)("p",{className:"text-center text-gray-500 py-8",children:"No contact submissions yet."}),(0,vg.jsxs)("div",{className:"bg-yellow-50 border border-yellow-100 p-4 rounded-md mt-4",children:[(0,vg.jsx)("h3",{className:"text-yellow-800 font-medium mb-2",children:"Debugging Information"}),(0,vg.jsxs)("p",{className:"text-sm text-yellow-700",children:["Contact submissions value: ",JSON.stringify(c)]}),(0,vg.jsx)("p",{className:"text-sm text-yellow-700 mt-2",children:"Try submitting a contact form on the main website to see if it appears here."}),(0,vg.jsxs)("p",{className:"text-sm text-yellow-700 mt-2",children:["Raw localStorage value: ",localStorage.getItem("contactSubmissions")]})]})]})]}),(0,vg.jsxs)("div",{className:"mt-8 border-t pt-4 flex justify-between",children:[(0,vg.jsxs)("div",{children:[(0,vg.jsx)("a",{href:"/",className:"text-blue-600 hover:underline mr-4",children:"Back to Website"}),x&&(0,vg.jsx)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to migrate all local data to Firebase? This might duplicate data if already migrated."))try{const e=await(async()=>{console.log("Starting migration from localStorage to Firebase...");let e={teamMembers:{total:0,success:0},projects:{total:0,success:0},services:{total:0,success:0},contactSubmissions:{total:0,success:0}};function t(e){try{const t=localStorage.getItem(e);return t?JSON.parse(t):[]}catch(Ig){return console.error(`Error getting ${e} from localStorage:`,Ig),[]}}async function n(e,t){if(!t.name&&!t.title&&!t.email)return!1;let n="",r="";if(t.name?(n="name",r=t.name):t.title?(n="title",r=t.title):t.email&&(n="email",r=t.email),!n)return!1;const i=Ep(Mm(Yp,e),Tp(n,"==",r));return!(await Vp(i)).empty}async function r(e,t){let r={total:t.length,success:0};for(const i of t)try{if(await n(e,i)){console.log(`Item already exists in ${e}:`,i);continue}const t={...i,timestamp:Wp()};t.id,delete t.id,await qp(Mm(Yp,e),t),r.success++}catch(Ig){console.error(`Error saving item to ${e}:`,Ig,i)}return r}const i=t("teamMembers"),s=t("projects"),a=t("services"),o=t("contactSubmissions");return console.log("Data found in localStorage:"),console.log(`- Team Members: ${i.length}`),console.log(`- Projects: ${s.length}`),console.log(`- Services: ${a.length}`),console.log(`- Contact Submissions: ${o.length}`),i.length>0&&(e.teamMembers=await r("teamMembers",i)),s.length>0&&(e.projects=await r("projects",s)),a.length>0&&(e.services=await r("services",a)),o.length>0&&(e.contactSubmissions=await r("contactSubmissions",o)),console.log("Migration results:"),console.log(`- Team Members: ${e.teamMembers.success}/${e.teamMembers.total} migrated`),console.log(`- Projects: ${e.projects.success}/${e.projects.total} migrated`),console.log(`- Services: ${e.services.success}/${e.services.total} migrated`),console.log(`- Contact Submissions: ${e.contactSubmissions.success}/${e.contactSubmissions.total} migrated`),e})();alert(`Migration complete!\n\nTeam Members: ${e.teamMembers.success}/${e.teamMembers.total} migrated\n\nProjects: ${e.projects.success}/${e.projects.total} migrated\n\nServices: ${e.services.success}/${e.services.total} migrated\n\nContact Submissions: ${e.contactSubmissions.success}/${e.contactSubmissions.total} migrated`),await X()}catch(Ig){console.error("Error during migration:",Ig),alert("Error during migration. Check console for details.")}},className:"bg-amber-500 text-white px-3 py-1 rounded hover:bg-amber-600 text-sm",children:"Migrate to Firebase"}),!x&&(0,vg.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600 text-sm ml-2",children:"Check Connection"})]}),(0,vg.jsx)("button",{onClick:()=>{localStorage.removeItem("isAuthenticated"),e("/login")},className:"text-red-600 hover:underline",children:"Logout"})]})]})},kg=()=>{var e,t;const[n,i]=(0,r.useState)({running:!0,overallStatus:"running",tests:[],deviceInfo:{}});(0,r.useEffect)((()=>{const e=()=>{var e;return{userAgent:navigator.userAgent,platform:navigator.platform,screenWidth:window.screen.width,screenHeight:window.screen.height,language:navigator.language,cookiesEnabled:navigator.cookieEnabled,online:navigator.onLine,url:window.location.href,pathname:window.location.pathname,hash:window.location.hash,protocol:window.location.protocol,isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),storageAvailable:t(),basePath:(null===(e=document.querySelector("base"))||void 0===e?void 0:e.href)||"none"}},t=()=>{const e={localStorage:!1,sessionStorage:!1,indexedDB:!1};try{localStorage.setItem("test","test"),localStorage.removeItem("test"),e.localStorage=!0}catch(Cg){console.warn("localStorage not available")}try{sessionStorage.setItem("test","test"),sessionStorage.removeItem("test"),e.sessionStorage=!0}catch(Cg){console.warn("sessionStorage not available")}try{window.indexedDB&&(e.indexedDB=!0)}catch(Cg){console.warn("indexedDB not available")}return e};!async function(){const t={running:!1,overallStatus:"unknown",tests:[],deviceInfo:e()},n=[{name:"manifest.json",url:`${window.location.origin}/manifest.json`},{name:"favicon.ico",url:`${window.location.origin}/favicon.ico`},{name:"index.html",url:`${window.location.origin}/index.html`}];for(const e of n)try{const n=await fetch(e.url,{method:"HEAD",cache:"no-store"});t.tests.push({name:`Resource ${e.name}`,status:n.ok?"pass":"fail",message:n.ok?`Successfully loaded ${e.name}`:`Failed to load ${e.name}: ${n.status} ${n.statusText}`})}catch(Ig){t.tests.push({name:`Resource ${e.name}`,status:"fail",message:`Error loading ${e.name}: ${Ig.message}`})}try{t.tests.push({name:"Network Status",status:navigator.onLine?"pass":"fail",message:navigator.onLine?"Browser reports online":"Browser reports offline"});try{const e=await Xp();t.tests.push({name:"Firebase Permissions Check",status:e.success?"pass":"fail",message:e.message||e.error})}catch(Ig){t.tests.push({name:"Firebase Permissions Check",status:"fail",message:`Error checking permissions: ${Ig.message}`})}try{const e=Fm(Mm(Yp,"_connection_test"));await Up(e,{timestamp:(new Date).toISOString(),message:"Test connection document",device:t.deviceInfo.userAgent}),t.tests.push({name:"Write Test Document",status:"pass",message:"Successfully wrote test document to Firestore"});const n=await Fp(e);n.exists()?t.tests.push({name:"Read Test Document",status:"pass",message:`Successfully read test document: ${JSON.stringify(n.data())}`}):t.tests.push({name:"Read Test Document",status:"fail",message:"Document written but could not be read back"}),await $p(e),t.tests.push({name:"Delete Test Document",status:"pass",message:"Successfully deleted test document"})}catch(Ig){t.tests.push({name:"Firestore Write/Read Test",status:"fail",message:`Error during write/read test: ${Ig.message}`})}try{const e=Ep(Mm(Yp,"_connection_test"),Tp("timestamp","!=",null)),n=await Vp(e);t.tests.push({name:"Collection Query Test",status:"pass",message:`Query executed successfully, found ${n.size} documents`})}catch(Ig){t.tests.push({name:"Collection Query Test",status:"fail",message:`Error during collection query: ${Ig.message}`})}const e=t.tests.every((e=>"pass"===e.status)),n=t.tests.some((e=>"fail"===e.status));t.overallStatus=e?"pass":n?"fail":"partial"}catch(Ig){t.tests.push({name:"Overall Test Suite",status:"fail",message:`Fatal error running tests: ${Ig.message}`}),t.overallStatus="fail"}t.running=!1,i(t)}()}),[]);const s=n.deviceInfo.isMobile;return(0,vg.jsxs)("div",{className:"max-w-2xl mx-auto mt-8 p-4 "+(s?"text-sm":""),children:[(0,vg.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Firebase Connection Diagnostics"}),n.running?(0,vg.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,vg.jsx)("p",{className:"text-blue-700",children:"Running Firebase diagnostic tests..."})}):(0,vg.jsxs)(vg.Fragment,{children:[(0,vg.jsxs)("div",{className:"mb-6 p-4 rounded-lg "+("pass"===n.overallStatus?"bg-green-100 text-green-800":"fail"===n.overallStatus?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:[(0,vg.jsx)("h2",{className:"font-bold",children:"pass"===n.overallStatus?"All Tests Passed!":"fail"===n.overallStatus?"Connection Tests Failed":"Partial Success"}),(0,vg.jsx)("p",{children:"pass"===n.overallStatus?"Your Firebase connection is working correctly.":"There are some issues with your Firebase connection. See details below."})]}),(0,vg.jsx)("div",{className:"space-y-4",children:n.tests.map(((e,t)=>(0,vg.jsxs)("div",{className:"p-3 rounded-lg border "+("pass"===e.status?"bg-green-50 border-green-200":"fail"===e.status?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"),children:[(0,vg.jsxs)("h3",{className:"font-medium flex items-center",children:[(0,vg.jsx)("span",{className:"inline-block w-3 h-3 rounded-full mr-2 "+("pass"===e.status?"bg-green-500":"fail"===e.status?"bg-red-500":"bg-yellow-500")}),e.name]}),(0,vg.jsx)("p",{className:"text-sm mt-1 ml-5",children:e.message})]},t)))}),(0,vg.jsxs)("div",{className:"mt-4 p-4 rounded-lg bg-gray-50 border border-gray-200 mb-6",children:[(0,vg.jsx)("h3",{className:"font-medium mb-2",children:"Device Information"}),(0,vg.jsxs)("div",{className:"grid grid-cols-1 gap-1 text-sm",children:[(0,vg.jsxs)("div",{className:"flex justify-between",children:[(0,vg.jsx)("span",{className:"text-gray-600",children:"Device Type:"}),(0,vg.jsx)("span",{children:n.deviceInfo.isMobile?"Mobile":"Desktop"})]}),(0,vg.jsxs)("div",{className:"flex justify-between",children:[(0,vg.jsx)("span",{className:"text-gray-600",children:"Browser Storage:"}),(0,vg.jsxs)("span",{children:[null!==(e=n.deviceInfo.storageAvailable)&&void 0!==e&&e.localStorage?"\u2713 LocalStorage ":"\u2717 LocalStorage ",null!==(t=n.deviceInfo.storageAvailable)&&void 0!==t&&t.indexedDB?"\u2713 IndexedDB":"\u2717 IndexedDB"]})]}),(0,vg.jsxs)("div",{className:"flex justify-between",children:[(0,vg.jsx)("span",{className:"text-gray-600",children:"Screen Size:"}),(0,vg.jsxs)("span",{children:[n.deviceInfo.screenWidth,"x",n.deviceInfo.screenHeight]})]}),(0,vg.jsxs)("div",{className:"flex justify-between",children:[(0,vg.jsx)("span",{className:"text-gray-600",children:"Online Status:"}),(0,vg.jsx)("span",{children:n.deviceInfo.online?"Online":"Offline"})]}),(0,vg.jsxs)("div",{className:"flex justify-between",children:[(0,vg.jsx)("span",{className:"text-gray-600",children:"Base URL:"}),(0,vg.jsx)("span",{className:"truncate",children:n.deviceInfo.basePath})]})]})]}),(0,vg.jsxs)("div",{className:"mt-8 bg-blue-50 p-4 rounded-lg",children:[(0,vg.jsx)("h3",{className:"font-medium text-blue-800 mb-2",children:"Troubleshooting Steps"}),(0,vg.jsxs)("ol",{className:"list-decimal list-inside text-sm space-y-2 text-blue-900",children:[(0,vg.jsxs)("li",{children:[(0,vg.jsx)("strong",{children:"Check Firebase Rules:"})," Make sure your Firestore security rules allow read/write access.",(0,vg.jsx)("pre",{className:"bg-gray-800 text-white p-2 rounded mt-1 text-xs overflow-auto",children:"rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /{document=**} {\n      allow read, write: if true;\n    }\n  }\n}"})]}),(0,vg.jsxs)("li",{children:[(0,vg.jsx)("strong",{children:"Check Network Connection:"})," Ensure your device has a stable internet connection."]}),(0,vg.jsxs)("li",{children:[(0,vg.jsx)("strong",{children:"Browser Compatibility:"})," Some browsers may have stricter privacy settings that block certain connections."]}),(0,vg.jsxs)("li",{children:[(0,vg.jsx)("strong",{children:"Clear Browser Cache:"})," Clear your browser's cache and cookies, then try again."]}),(0,vg.jsxs)("li",{children:[(0,vg.jsx)("strong",{children:"Firebase Project Status:"})," Check if your Firebase project is active and not suspended."]})]})]}),(0,vg.jsx)("div",{className:"mt-6 flex justify-center",children:(0,vg.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Run Tests Again"})})]})]})},Eg=e=>{let{children:t}=e;return"true"===localStorage.getItem("isAuthenticated")?t:(0,vg.jsx)(pe,{to:"/login"})};const Ng=function(){return(0,vg.jsx)(Xe,{children:(0,vg.jsxs)(ve,{children:[(0,vg.jsx)(ge,{path:"/",element:(0,vg.jsx)(wg,{})}),(0,vg.jsx)(ge,{path:"/login",element:(0,vg.jsx)(xg,{})}),(0,vg.jsx)(ge,{path:"/admin",element:(0,vg.jsx)(Eg,{children:(0,vg.jsx)(Sg,{})})}),(0,vg.jsx)(ge,{path:"/firebase-check",element:(0,vg.jsx)(kg,{})})]})})},Tg=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=t;n(e),r(e),i(e),s(e),a(e)}))};i.createRoot(document.getElementById("root")).render((0,vg.jsx)(r.StrictMode,{children:(0,vg.jsx)(Ng,{})})),Tg()})();
//# sourceMappingURL=main.c0c76bfd.js.map